
























		//Including BentoJS config from BentoJS/config/monet.test.profile/config.js










if (typeof Bento == 'undefined') var Bento = {};

Bento.Config={

		defferedAdLoading: false,
		enablePOE: true,
		backwardCompatibility: true,
		hasReporting: true,
		hasAds: true,
		hasAdsDFP: true,
		requireCOPPACompliance: false,

		omnitureEnabled: true,
		omnitureAccount: 'viarnd',
		omnitureCharSet: 'ISO-8859-1',
		omnitureDynamicAccountSelection: '',
		omnitureDynamicAccountList: '',
		omnitureLinkInternalFilters: '',
		omnitureVideoViewEventDisable: true,
		omnitureEnableTimeParting: false,
		omnitureTrackInlineStats: true,
		omnitureDefaultHier: 'hier1',
		omnitureEnableVisitorNamespace: false,
		omnitureEnableMtvnVisitorGuid: false,
		omnitureEnableMeteorPlugin: false,
		omnitureEnableGuidPlugin: false,
		omnitureEnableGuidAuxiliaryCall: false,
		omnitureEnableFirstPartyCookie: false,
		omnitureTabletAccount: '',
		omnitureTimezone: '-5',
		omnitureTrackExternalLinks: 'true',
		omnitureFluxCommunityId: '',

		nielsenEnabled: false,
		nielsenCid: '',
		nielsenVideoCensusId: '',
		nielsenIdSynchFreq: 'never',

		quantCastEnabled: false,
		quantCastAdsEnabled: false,
		quantCastLabels: '',
		quantCastReportMode: '',
		quantCastEnableDemoTargeting: false,

		comScoreEnabled: false,
		comScoreC2: '',

		meteorEnabled: false,
		meteorApplicationId: '',
		meteorMultiDomain: false,

		choiceStreamEnabled: false,
		choiceStreamApiKey: '',
		choiceStreamProfileId: '',

		doubleClickEnabled: true,
		doubleClickDartSite: '',
		doubleClickIsInternational: false,
		doubleClickIsUnobtrusive: false,
		doubleClickAllowMobile: false,
		doubleClickEnabledMobileAdDomain: false,
		doubleClickReloadableAds: false,
		doubleClickReloadAdInterval: 10000,
		doubleClickAdUnit: '',
		doubleClickEnableMobileNid: false,
		doubleClickNetworkID: '4567',

		doubleClickEnableNavigatorGeolocation: false,
		doubleClickDisableDeviceManagement: false,
		doubleClickAmazonAdsEnabled: false,
		doubleClickAmazonAdsID: '3221',

		freewheelEnabled: true,
		freewheelAdBlockerDetection: false,

		internationalEnabled: false,
		dartSite: '',
		internationalRegion: '',

		aBTestEnabled: false,

		fluxEnabled: true,
		fluxCommunityId: '',

		fluxHostedEnabled: false,

		facebookEnabled: false,

		photosEnabled: false,

		testAndTargetEnabled: false,
		testAndTargetVideoAdBlockerTargetingEnabled: false,
		testAndTargetGlobalMboxID: '',

		criteoEnabled: false,

		rubiconEnabled: false,
		rubiconSiteId: '',
		rubiconZoneId: '',

		demdexEnabled: true,

		recommendationsEnabled: false,

		localAdvisoryEnabled: false,
		localAdvisoryPhase: 0,
		localAdvisoryUseStaticCreative: false,
		localAdvisoryStaticCreativeDomID: '',

		yieldexEnabled: false,

		omnitureIntegrateEnabled: false,
		omnitureIntegrateaccount: '',

		iOSAdSDKUseExternalBrowser: false,

		sourcePointEnabled: true,

		tveReportingEnabled: false,

		imaEnabled: false,
		imaNetworkID: '271659723',
		imaCmsID: '1163',
		imaAdSize: '640x480',
		imaAdUnit: 'money_test',

		preloadAdSlotEnabled: true,
		preloadAdBeforeTime: 10,
		preloadAdManifest: false,
		preloadBitrateRange0To800: 4,
		preloadBitrateRange800To1000: 3,
		preloadBitrateRange1000To5000: 5,
		preloadBitrateRangeGT5000: 10,

		bandwidthEnabled: true,
		defaultBandwidth: 1300,
		bandwidth2000Cap: 850,
		bandwidth2000To4000Cap: 1300,
		bandwidthGT4000Cap: 2300
};








		//Including Bento version 1.9.0.

         /* BentoJS: v1.9.0-20 Mon Sep 12 2016 16:57:41 GMT-0400 (EDT) */
function AppMeasurement(){var e=this;e.version="1.5.3";var t=window;t.s_c_in||(t.s_c_il=[],t.s_c_in=0),e._il=t.s_c_il,e._in=t.s_c_in,e._il[e._in]=e,t.s_c_in++,e._c="s_c";var n=t.AppMeasurement.zb;n||(n=null);var i,a,r=t;try{for(i=r.parent,a=r.location;i&&i.location&&a&&""+i.location!=""+a&&r.location&&""+i.location!=""+r.location&&i.location.host==a.host;)r=i,i=r.parent}catch(s){}e.ob=function(e){try{}catch(t){}},e.za=function(e){return""+parseInt(e)==""+e},e.replace=function(e,t,n){return!e||0>e.indexOf(t)?e:e.split(t).join(n)},e.escape=function(t){var n,i;if(!t)return t;for(t=encodeURIComponent(t),n=0;7>n;n++)i="+~!*()'".substring(n,n+1),0<=t.indexOf(i)&&(t=e.replace(t,i,"%"+i.charCodeAt(0).toString(16).toUpperCase()));return t},e.unescape=function(t){if(!t)return t;t=0<=t.indexOf("+")?e.replace(t,"+"," "):t;try{return decodeURIComponent(t)}catch(n){}return unescape(t)},e.gb=function(){var n,i=t.location.hostname,a=e.fpCookieDomainPeriods;if(a||(a=e.cookieDomainPeriods),i&&!e.cookieDomain&&!/^[0-9.]+$/.test(i)&&(a=a?parseInt(a):2,a=a>2?a:2,n=i.lastIndexOf("."),n>=0)){for(;n>=0&&a>1;)n=i.lastIndexOf(".",n-1),a--;e.cookieDomain=n>0?i.substring(n):i}return e.cookieDomain},e.c_r=e.cookieRead=function(t){t=e.escape(t);var n=" "+e.d.cookie,i=n.indexOf(" "+t+"="),a=0>i?i:n.indexOf(";",i);return t=0>i?"":e.unescape(n.substring(i+2+t.length,0>a?n.length:a)),"[[B]]"!=t?t:""},e.c_w=e.cookieWrite=function(t,n,i){var a,r=e.gb(),s=e.cookieLifetime;return n=""+n,s=s?(""+s).toUpperCase():"",i&&"SESSION"!=s&&"NONE"!=s&&((a=""!=n?parseInt(s?s:0):-60)?(i=new Date,i.setTime(i.getTime()+1e3*a)):1==i&&(i=new Date,a=i.getYear(),i.setYear(a+5+(1900>a?1900:0)))),t&&"NONE"!=s?(e.d.cookie=t+"="+e.escape(""!=n?n:"[[B]]")+"; path=/;"+(i&&"SESSION"!=s?" expires="+i.toGMTString()+";":"")+(r?" domain="+r+";":""),e.cookieRead(t)==n):0},e.G=[],e.ba=function(t,n,i){if(e.ta)return 0;e.maxDelay||(e.maxDelay=250);var a=0,r=(new Date).getTime()+e.maxDelay,s=e.d.visibilityState,o=["webkitvisibilitychange","visibilitychange"];if(s||(s=e.d.webkitVisibilityState),s&&"prerender"==s){if(!e.ca)for(e.ca=1,i=0;i<o.length;i++)e.d.addEventListener(o[i],function(){var t=e.d.visibilityState;t||(t=e.d.webkitVisibilityState),"visible"==t&&(e.ca=0,e.delayReady())});a=1,r=0}else i||e.l("_d")&&(a=1);return a&&(e.G.push({m:t,a:n,t:r}),e.ca||setTimeout(e.delayReady,e.maxDelay)),a},e.delayReady=function(){var t,n=(new Date).getTime(),i=0;for(e.l("_d")?i=1:e.na();0<e.G.length;){if(t=e.G.shift(),i&&!t.t&&t.t>n){e.G.unshift(t),setTimeout(e.delayReady,parseInt(e.maxDelay/2));break}e.ta=1,e[t.m].apply(e,t.a),e.ta=0}},e.setAccount=e.sa=function(t){var n,i;if(!e.ba("setAccount",arguments))if(e.account=t,e.allAccounts)for(n=e.allAccounts.concat(t.split(",")),e.allAccounts=[],n.sort(),i=0;i<n.length;i++)0!=i&&n[i-1]==n[i]||e.allAccounts.push(n[i]);else e.allAccounts=t.split(",")},e.foreachVar=function(t,n){var i,a,r,s,o="";for(r=a="",e.lightProfileID?(i=e.K,(o=e.lightTrackVars)&&(o=","+o+","+e.ga.join(",")+",")):(i=e.c,(e.pe||e.linkType)&&(o=e.linkTrackVars,a=e.linkTrackEvents,e.pe&&(r=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[r]&&(o=e[r].yb,a=e[r].xb))),o&&(o=","+o+","+e.A.join(",")+","),a&&o&&(o+=",events,")),n&&(n=","+n+","),a=0;a<i.length;a++)r=i[a],(s=e[r])&&(!o||0<=o.indexOf(","+r+","))&&(!n||0<=n.indexOf(","+r+","))&&t(r,s)},e.B=function(t,n,i,a,r){var s,o,l,c,d="",u=0;if("contextData"==t&&(t="c"),n){for(s in n)if(!(Object.prototype[s]||r&&s.substring(0,r.length)!=r)&&n[s]&&(!i||0<=i.indexOf(","+(a?a+".":"")+s+","))){if(l=!1,u)for(o=0;o<u.length;o++)s.substring(0,u[o].length)==u[o]&&(l=!0);if(!l&&(""==d&&(d+="&"+t+"."),o=n[s],r&&(s=s.substring(r.length)),0<s.length))if(l=s.indexOf("."),l>0)o=s.substring(0,l),l=(r?r:"")+o+".",u||(u=[]),u.push(l),d+=e.B(o,n,i,a,l);else if("boolean"==typeof o&&(o=o?"true":"false"),o){if("retrieveLightData"==a&&0>r.indexOf(".contextData."))switch(l=s.substring(0,4),c=s.substring(4),s){case"transactionID":s="xact";break;case"channel":s="ch";break;case"campaign":s="v0";break;default:e.za(c)&&("prop"==l?s="c"+c:"eVar"==l?s="v"+c:"list"==l?s="l"+c:"hier"==l&&(s="h"+c,o=o.substring(0,255)))}d+="&"+e.escape(s)+"="+e.escape(o)}}""!=d&&(d+="&."+t)}return d},e.ib=function(){var t,i,a,r,s,o,l,c,d="",u="",_="",p=r="";if(e.lightProfileID?(t=e.K,(u=e.lightTrackVars)&&(u=","+u+","+e.ga.join(",")+",")):(t=e.c,(e.pe||e.linkType)&&(u=e.linkTrackVars,_=e.linkTrackEvents,e.pe&&(r=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[r]&&(u=e[r].yb,_=e[r].xb))),u&&(u=","+u+","+e.A.join(",")+","),_&&(_=","+_+",",u&&(u+=",events,")),e.events2&&(p+=(""!=p?",":"")+e.events2)),e.visitor&&1.5<=parseFloat(e.visitor.version)&&e.visitor.getCustomerIDs){if(r=n,s=e.visitor.getCustomerIDs())for(i in s)Object.prototype[i]||(a=s[i],r||(r={}),a.id&&(r[i+".id"]=a.id),a.authState&&(r[i+".as"]=a.authState));r&&(d+=e.B("cid",r))}for(e.AudienceManagement&&e.AudienceManagement.isReady()&&(d+=e.B("d",e.AudienceManagement.getEventCallConfigParams())),i=0;i<t.length;i++){if(r=t[i],s=e[r],a=r.substring(0,4),o=r.substring(4),!s&&"events"==r&&p&&(s=p,p=""),s&&(!u||0<=u.indexOf(","+r+","))){switch(r){case"supplementalDataID":r="sdid";break;case"timestamp":r="ts";break;case"dynamicVariablePrefix":r="D";break;case"visitorID":r="vid";break;case"marketingCloudVisitorID":r="mid";break;case"analyticsVisitorID":r="aid";break;case"audienceManagerLocationHint":r="aamlh";break;case"audienceManagerBlob":r="aamb";break;case"authState":r="as";break;case"pageURL":r="g",255<s.length&&(e.pageURLRest=s.substring(255),s=s.substring(0,255));break;case"pageURLRest":r="-g";break;case"referrer":r="r";break;case"vmk":case"visitorMigrationKey":r="vmt";break;case"visitorMigrationServer":r="vmf",e.ssl&&e.visitorMigrationServerSecure&&(s="");break;case"visitorMigrationServerSecure":r="vmf",!e.ssl&&e.visitorMigrationServer&&(s="");break;case"charSet":r="ce";break;case"visitorNamespace":r="ns";break;case"cookieDomainPeriods":r="cdp";break;case"cookieLifetime":r="cl";break;case"variableProvider":r="vvp";break;case"currencyCode":r="cc";break;case"channel":r="ch";break;case"transactionID":r="xact";break;case"campaign":r="v0";break;case"latitude":r="lat";break;case"longitude":r="lon";break;case"resolution":r="s";break;case"colorDepth":r="c";break;case"javascriptVersion":r="j";break;case"javaEnabled":r="v";break;case"cookiesEnabled":r="k";break;case"browserWidth":r="bw";break;case"browserHeight":r="bh";break;case"connectionType":r="ct";break;case"homepage":r="hp";break;case"events":if(p&&(s+=(""!=s?",":"")+p),_)for(o=s.split(","),s="",a=0;a<o.length;a++)l=o[a],c=l.indexOf("="),c>=0&&(l=l.substring(0,c)),c=l.indexOf(":"),c>=0&&(l=l.substring(0,c)),0<=_.indexOf(","+l+",")&&(s+=(s?",":"")+o[a]);break;case"events2":s="";break;case"contextData":d+=e.B("c",e[r],u,r),s="";break;case"lightProfileID":r="mtp";break;case"lightStoreForSeconds":r="mtss",e.lightProfileID||(s="");break;case"lightIncrementBy":r="mti",e.lightProfileID||(s="");break;case"retrieveLightProfiles":r="mtsr";break;case"deleteLightProfiles":r="mtsd";break;case"retrieveLightData":e.retrieveLightProfiles&&(d+=e.B("mts",e[r],u,r)),s="";break;default:e.za(o)&&("prop"==a?r="c"+o:"eVar"==a?r="v"+o:"list"==a?r="l"+o:"hier"==a&&(r="h"+o,s=s.substring(0,255)))}s&&(d+="&"+r+"="+("pev"!=r.substring(0,3)?e.escape(s):s))}"pev3"==r&&e.e&&(d+=e.e)}return d},e.u=function(e){var t=e.tagName;return"undefined"!=""+e.Cb||"undefined"!=""+e.sb&&"HTML"!=(""+e.sb).toUpperCase()?"":(t=t&&t.toUpperCase?t.toUpperCase():"","SHAPE"==t&&(t=""),t&&(("INPUT"==t||"BUTTON"==t)&&e.type&&e.type.toUpperCase?t=e.type.toUpperCase():!t&&e.href&&(t="A")),t)},e.va=function(e){var t,n,i,a=e.href?e.href:"";return t=a.indexOf(":"),n=a.indexOf("?"),i=a.indexOf("/"),a&&(0>t||n>=0&&t>n||i>=0&&t>i)&&(n=e.protocol&&1<e.protocol.length?e.protocol:l.protocol?l.protocol:"",t=l.pathname.lastIndexOf("/"),a=(n?n+"//":"")+(e.host?e.host:l.host?l.host:"")+("/"!=h.substring(0,1)?l.pathname.substring(0,0>t?0:t)+"/":"")+a),a},e.H=function(t){var n,i,a=e.u(t),r="",s=0;return a&&(n=t.protocol,i=t.onclick,!t.href||"A"!=a&&"AREA"!=a||i&&n&&!(0>n.toLowerCase().indexOf("javascript"))?i?(r=e.replace(e.replace(e.replace(e.replace(""+i,"\r",""),"\n",""),"	","")," ",""),s=2):"INPUT"==a||"SUBMIT"==a?(t.value?r=t.value:t.innerText?r=t.innerText:t.textContent&&(r=t.textContent),s=3):t.src&&"IMAGE"==a&&(r=t.src):r=e.va(t),r)?{id:r.substring(0,100),type:s}:0},e.Ab=function(t){for(var n=e.u(t),i=e.H(t);t&&!i&&"BODY"!=n;)(t=t.parentElement?t.parentElement:t.parentNode)&&(n=e.u(t),i=e.H(t));return i&&"BODY"!=n||(t=0),t&&(n=t.onclick?""+t.onclick:"",0<=n.indexOf(".tl(")||0<=n.indexOf(".trackLink("))&&(t=0),t},e.rb=function(){var n,i,a,r,s=e.linkObject,o=e.linkType,l=e.linkURL;if(e.ha=1,s||(e.ha=0,s=e.clickObject),s){for(n=e.u(s),i=e.H(s);s&&!i&&"BODY"!=n;)(s=s.parentElement?s.parentElement:s.parentNode)&&(n=e.u(s),i=e.H(s));if(i&&"BODY"!=n||(s=0),s&&!e.linkObject){var c=s.onclick?""+s.onclick:"";(0<=c.indexOf(".tl(")||0<=c.indexOf(".trackLink("))&&(s=0)}}else e.ha=1;if(!l&&s&&(l=e.va(s)),l&&!e.linkLeaveQueryString&&(a=l.indexOf("?"),a>=0&&(l=l.substring(0,a))),!o&&l){var d,u=0,_=0;if(e.trackDownloadLinks&&e.linkDownloadFileTypes)for(c=l.toLowerCase(),a=c.indexOf("?"),r=c.indexOf("#"),a>=0?r>=0&&a>r&&(a=r):a=r,a>=0&&(c=c.substring(0,a)),a=e.linkDownloadFileTypes.toLowerCase().split(","),r=0;r<a.length;r++)(d=a[r])&&c.substring(c.length-(d.length+1))=="."+d&&(o="d");if(e.trackExternalLinks&&!o&&(c=l.toLowerCase(),e.ya(c)&&(e.linkInternalFilters||(e.linkInternalFilters=t.location.hostname),a=0,e.linkExternalFilters?(a=e.linkExternalFilters.toLowerCase().split(","),u=1):e.linkInternalFilters&&(a=e.linkInternalFilters.toLowerCase().split(",")),a))){for(r=0;r<a.length;r++)d=a[r],0<=c.indexOf(d)&&(_=1);_?u&&(o="e"):u||(o="e")}}e.linkObject=s,e.linkURL=l,e.linkType=o,(e.trackClickMap||e.trackInlineStats)&&(e.e="",s&&(o=e.pageName,l=1,s=s.sourceIndex,o||(o=e.pageURL,l=0),t.s_objectID&&(i.id=t.s_objectID,s=i.type=1),o&&i&&i.id&&n&&(e.e="&pid="+e.escape(o.substring(0,255))+(l?"&pidt="+l:"")+"&oid="+e.escape(i.id.substring(0,100))+(i.type?"&oidt="+i.type:"")+"&ot="+n+(s?"&oi="+s:""))))},e.jb=function(){var t=e.ha,n=e.linkType,i=e.linkURL,a=e.linkName;if(n&&(i||a)&&(n=n.toLowerCase(),"d"!=n&&"e"!=n&&(n="o"),e.pe="lnk_"+n,e.pev1=i?e.escape(i):"",e.pev2=a?e.escape(a):"",t=1),e.abort&&(t=0),e.trackClickMap||e.trackInlineStats){var r,s,o,n={},i=0,l=e.cookieRead("s_sq"),c=l?l.split("&"):0,l=0;if(c)for(r=0;r<c.length;r++)s=c[r].split("="),a=e.unescape(s[0]).split(","),s=e.unescape(s[1]),n[s]=a;if(a=e.account.split(","),t||e.e){t&&!e.e&&(l=1);for(s in n)if(!Object.prototype[s])for(r=0;r<a.length;r++)for(l&&(o=n[s].join(","),o==e.account&&(e.e+=("&"!=s.charAt(0)?"&":"")+s,n[s]=[],i=1)),c=0;c<n[s].length;c++)o=n[s][c],o==a[r]&&(l&&(e.e+="&u="+e.escape(o)+("&"!=s.charAt(0)?"&":"")+s+"&u=0"),n[s].splice(c,1),i=1);if(t||(i=1),i){l="",r=2,!t&&e.e&&(l=e.escape(a.join(","))+"="+e.escape(e.e),r=1);for(s in n)!Object.prototype[s]&&r>0&&0<n[s].length&&(l+=(l?"&":"")+e.escape(n[s].join(","))+"="+e.escape(s),r--);e.cookieWrite("s_sq",l)}}}return t},e.kb=function(){if(!e.wb){var t,n,i=new Date,a=r.location,s=n=t="",o="",l="",c="1.2",d=e.cookieWrite("s_cc","true",0)?"Y":"N",u="",_="";if(i.setUTCDate&&(c="1.3",0..toPrecision&&(c="1.5",i=[],i.forEach))){c="1.6",n=0,t={};try{n=new Iterator(t),n.next&&(c="1.7",i.reduce&&(c="1.8",c.trim&&(c="1.8.1",Date.parse&&(c="1.8.2",Object.create&&(c="1.8.5")))))}catch(p){}}t=screen.width+"x"+screen.height,s=navigator.javaEnabled()?"Y":"N",n=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,o=e.w.innerWidth?e.w.innerWidth:e.d.documentElement.offsetWidth,l=e.w.innerHeight?e.w.innerHeight:e.d.documentElement.offsetHeight;try{e.b.addBehavior("#default#homePage"),u=e.b.Bb(a)?"Y":"N"}catch(h){}try{e.b.addBehavior("#default#clientCaps"),_=e.b.connectionType}catch(g){}e.resolution=t,e.colorDepth=n,e.javascriptVersion=c,e.javaEnabled=s,e.cookiesEnabled=d,e.browserWidth=o,e.browserHeight=l,e.connectionType=_,e.homepage=u,e.wb=1}},e.L={},e.loadModule=function(n,i){var a=e.L[n];if(!a){a=t["AppMeasurement_Module_"+n]?new t["AppMeasurement_Module_"+n](e):{},e.L[n]=e[n]=a,a.Oa=function(){return a.Sa},a.Ta=function(t){(a.Sa=t)&&(e[n+"_onLoad"]=t,e.ba(n+"_onLoad",[e,a],1)||t(e,a))};try{Object.defineProperty?Object.defineProperty(a,"onLoad",{get:a.Oa,set:a.Ta}):a._olc=1}catch(r){a._olc=1}}i&&(e[n+"_onLoad"]=i,e.ba(n+"_onLoad",[e,a],1)||i(e,a))},e.l=function(t){var n,i;for(n in e.L)if(!Object.prototype[n]&&(i=e.L[n])&&(i._olc&&i.onLoad&&(i._olc=0,i.onLoad(e,i)),i[t]&&i[t]()))return 1;return 0},e.mb=function(){var t=Math.floor(1e13*Math.random()),n=e.visitorSampling,i=e.visitorSamplingGroup,i="s_vsn_"+(e.visitorNamespace?e.visitorNamespace:e.account)+(i?"_"+i:""),a=e.cookieRead(i);if(n){if(a&&(a=parseInt(a)),!a){if(!e.cookieWrite(i,t))return 0;a=t}if(a%1e4>v)return 0}return 1},e.M=function(t,n){var i,a,r,s,o,l;for(i=0;2>i;i++)for(a=i>0?e.oa:e.c,r=0;r<a.length;r++)if(s=a[r],(o=t[s])||t["!"+s]){if(!n&&("contextData"==s||"retrieveLightData"==s)&&e[s])for(l in e[s])o[l]||(o[l]=e[s][l]);e[s]=o}},e.Ha=function(t,n){var i,a,r,s;for(i=0;2>i;i++)for(a=i>0?e.oa:e.c,r=0;r<a.length;r++)s=a[r],t[s]=e[s],n||t[s]||(t["!"+s]=1)},e.eb=function(e){var t,n,i,a,r,s,o=0,l="",c="";if(e&&255<e.length&&(t=""+e,n=t.indexOf("?"),n>0&&(s=t.substring(n+1),t=t.substring(0,n),a=t.toLowerCase(),i=0,"http://"==a.substring(0,7)?i+=7:"https://"==a.substring(0,8)&&(i+=8),n=a.indexOf("/",i),n>0&&(a=a.substring(i,n),r=t.substring(n),t=t.substring(0,n),0<=a.indexOf("google")?o=",q,ie,start,search_key,word,kw,cd,":0<=a.indexOf("yahoo.co")&&(o=",p,ei,"),o&&s)))){if((e=s.split("&"))&&1<e.length){for(i=0;i<e.length;i++)a=e[i],n=a.indexOf("="),n>0&&0<=o.indexOf(","+a.substring(0,n)+",")?l+=(l?"&":"")+a:c+=(c?"&":"")+a;l&&c?s=l+"&"+c:c=""}n=253-(s.length-c.length)-t.length,e=t+(n>0?r.substring(0,n):"")+"?"+s}return e},e.Na=function(t){var n=e.d.visibilityState,i=["webkitvisibilitychange","visibilitychange"];if(n||(n=e.d.webkitVisibilityState),n&&"prerender"==n){if(t)for(n=0;n<i.length;n++)e.d.addEventListener(i[n],function(){var n=e.d.visibilityState;n||(n=e.d.webkitVisibilityState),"visible"==n&&t()});return!1}return!0},e.Y=!1,e.D=!1,e.Ua=function(){e.D=!0,e.i()},e.W=!1,e.Q=!1,e.Ra=function(t){e.marketingCloudVisitorID=t,e.Q=!0,e.i()},e.T=!1,e.N=!1,e.Ja=function(t){e.analyticsVisitorID=t,e.N=!0,e.i()},e.V=!1,e.P=!1,e.La=function(t){e.audienceManagerLocationHint=t,e.P=!0,e.i()},e.U=!1,e.O=!1,e.Ka=function(t){e.audienceManagerBlob=t,e.O=!0,e.i()},e.Ma=function(t){return e.maxDelay||(e.maxDelay=250),e.l("_d")?(t&&setTimeout(function(){t()},e.maxDelay),!1):!0},e.X=!1,e.C=!1,e.na=function(){e.C=!0,e.i()},e.isReadyToTrack=function(){var t=!0,n=e.visitor;return e.Y||e.D||(e.Na(e.Ua)?e.D=!0:e.Y=!0),e.Y&&!e.D?!1:(n&&n.isAllowed()&&(e.W||e.marketingCloudVisitorID||!n.getMarketingCloudVisitorID||(e.W=!0,e.marketingCloudVisitorID=n.getMarketingCloudVisitorID([e,e.Ra]),e.marketingCloudVisitorID&&(e.Q=!0)),e.T||e.analyticsVisitorID||!n.getAnalyticsVisitorID||(e.T=!0,e.analyticsVisitorID=n.getAnalyticsVisitorID([e,e.Ja]),e.analyticsVisitorID&&(e.N=!0)),e.V||e.audienceManagerLocationHint||!n.getAudienceManagerLocationHint||(e.V=!0,e.audienceManagerLocationHint=n.getAudienceManagerLocationHint([e,e.La]),e.audienceManagerLocationHint&&(e.P=!0)),e.U||e.audienceManagerBlob||!n.getAudienceManagerBlob||(e.U=!0,e.audienceManagerBlob=n.getAudienceManagerBlob([e,e.Ka]),e.audienceManagerBlob&&(e.O=!0)),e.W&&!e.Q&&!e.marketingCloudVisitorID||e.T&&!e.N&&!e.analyticsVisitorID||e.V&&!e.P&&!e.audienceManagerLocationHint||e.U&&!e.O&&!e.audienceManagerBlob)&&(t=!1),e.X||e.C||(e.Ma(e.na)?e.C=!0:e.X=!0),e.X&&!e.C&&(t=!1),t)},e.k=n,e.o=0,e.callbackWhenReadyToTrack=function(t,i,a){var r;r={},r.Ya=t,r.Xa=i,r.Va=a,e.k==n&&(e.k=[]),e.k.push(r),0==e.o&&(e.o=setInterval(e.i,100))},e.i=function(){var t;if(e.isReadyToTrack()&&(e.o&&(clearInterval(e.o),e.o=0),e.k!=n))for(;0<e.k.length;)t=e.k.shift(),t.Xa.apply(t.Ya,t.Va)},e.Pa=function(t){var i,a,r=n,s=n;if(!e.isReadyToTrack()){if(i=[],t!=n)for(a in r={},t)r[a]=t[a];return s={},e.Ha(s,!0),i.push(r),i.push(s),e.callbackWhenReadyToTrack(e,e.track,i),!0}return!1},e.hb=function(){var t,n=e.cookieRead("s_fid"),i="",a="";t=8;var r=4;if(!n||0>n.indexOf("-")){for(n=0;16>n;n++)t=Math.floor(Math.random()*t),i+="0123456789ABCDEF".substring(t,t+1),t=Math.floor(Math.random()*r),a+="0123456789ABCDEF".substring(t,t+1),t=r=16;n=i+"-"+a}return e.cookieWrite("s_fid",n,1)||(n=0),n},e.t=e.track=function(n,i){var a,s=new Date,o="s"+Math.floor(s.getTime()/108e5)%10+Math.floor(1e13*Math.random()),l=s.getYear(),l="t="+e.escape(s.getDate()+"/"+s.getMonth()+"/"+(1900>l?l+1900:l)+" "+s.getHours()+":"+s.getMinutes()+":"+s.getSeconds()+" "+s.getDay()+" "+s.getTimezoneOffset());e.visitor&&(e.visitor.fb&&(e.authState=e.visitor.fb()),!e.supplementalDataID&&e.visitor.getSupplementalDataID&&(e.supplementalDataID=e.visitor.getSupplementalDataID("AppMeasurement:"+e._in,!e.expectSupplementalData))),e.l("_s"),e.Pa(n)||(i&&e.M(i),n&&(a={},e.Ha(a,0),e.M(n)),e.mb()&&(e.analyticsVisitorID||e.marketingCloudVisitorID||(e.fid=e.hb()),e.rb(),e.usePlugins&&e.doPlugins&&e.doPlugins(e),e.account&&(e.abort||(e.trackOffline&&!e.timestamp&&(e.timestamp=Math.floor(s.getTime()/1e3)),s=t.location,e.pageURL||(e.pageURL=s.href?s.href:s),e.referrer||e.Ia||(e.referrer=r.document.referrer),e.Ia=1,e.referrer=e.eb(e.referrer),e.l("_g")),e.jb()&&!e.abort&&(e.kb(),l+=e.ib(),e.qb(o,l),e.l("_t"),e.referrer=""))),n&&e.M(a,1)),e.abort=e.supplementalDataID=e.timestamp=e.pageURLRest=e.linkObject=e.clickObject=e.linkURL=e.linkName=e.linkType=t.s_objectID=e.pe=e.pev1=e.pev2=e.pev3=e.e=e.lightProfileID=0},e.tl=e.trackLink=function(t,n,i,a,r){return e.linkObject=t,e.linkType=n,e.linkName=i,r&&(e.j=t,e.q=r),e.track(a)},e.trackLight=function(t,n,i,a){return e.lightProfileID=t,e.lightStoreForSeconds=n,e.lightIncrementBy=i,e.track(a)},e.clearVars=function(){var t,n;for(t=0;t<e.c.length;t++)n=e.c[t],("prop"==n.substring(0,4)||"eVar"==n.substring(0,4)||"hier"==n.substring(0,4)||"list"==n.substring(0,4)||"channel"==n||"events"==n||"eventList"==n||"products"==n||"productList"==n||"purchaseID"==n||"transactionID"==n||"state"==n||"zip"==n||"campaign"==n)&&(e[n]=void 0)},e.tagContainerMarker="",e.qb=function(t,n){var i,a=e.trackingServer;i="";var r=e.dc,s="sc.",o=e.visitorNamespace;a?e.trackingServerSecure&&e.ssl&&(a=e.trackingServerSecure):(o||(o=e.account,a=o.indexOf(","),a>=0&&(o=o.substring(0,a)),o=o.replace(/[^A-Za-z0-9]/g,"")),i||(i="2o7.net"),r=r?(""+r).toLowerCase():"d1","2o7.net"==i&&("d1"==r?r="112":"d2"==r&&(r="122"),s=""),a=o+"."+r+"."+s+i),i=e.ssl?"https://":"http://",r=e.AudienceManagement&&e.AudienceManagement.isReady(),i+=a+"/b/ss/"+e.account+"/"+(e.mobile?"5.":"")+(r?"10":"1")+"/JS-"+e.version+(e.vb?"T":"")+(e.tagContainerMarker?"-"+e.tagContainerMarker:"")+"/"+t+"?AQB=1&ndh=1&pf=1&"+(r?"callback=s_c_il["+e._in+"].AudienceManagement.passData&":"")+n+"&AQE=1",e.bb(i),e.da()},e.bb=function(t){e.g||e.lb(),e.g.push(t),e.fa=e.r(),e.Fa()},e.lb=function(){e.g=e.nb(),e.g||(e.g=[])},e.nb=function(){var n,i;if(e.ka()){try{(i=t.localStorage.getItem(e.ia()))&&(n=t.JSON.parse(i))}catch(a){}return n}},e.ka=function(){var n=!0;return e.trackOffline&&e.offlineFilename&&t.localStorage&&t.JSON||(n=!1),n},e.wa=function(){var t=0;return e.g&&(t=e.g.length),e.v&&t++,t},e.da=function(){if(!e.v)if(e.xa=n,e.ja)e.fa>e.J&&e.Da(e.g),e.ma(500);else{var t=e.Wa();t>0?e.ma(t):(t=e.ua())&&(e.v=1,e.pb(t),e.tb(t))}},e.ma=function(t){e.xa||(t||(t=0),e.xa=setTimeout(e.da,t))},e.Wa=function(){var t;return!e.trackOffline||0>=e.offlineThrottleDelay?0:(t=e.r()-e.Ca,e.offlineThrottleDelay<t?0:e.offlineThrottleDelay-t)},e.ua=function(){return 0<e.g.length?e.g.shift():void 0},e.pb=function(t){if(console.logTracking){var n="AppMeasurement Debug: "+t;t=t.split("&");var i;for(i=0;i<t.length;i++)n+="\n	"+e.unescape(t[i]);e.ob(n)}},e.Qa=function(){return e.marketingCloudVisitorID||e.analyticsVisitorID},e.S=!1;var o;try{o=JSON.parse('{"x":"y"}')}catch(c){o=null}o&&"y"==o.x?(e.S=!0,e.R=function(e){return JSON.parse(e)}):t.$&&t.$.parseJSON?(e.R=function(e){return t.$.parseJSON(e)},e.S=!0):e.R=function(){return null},e.tb=function(n){var i,a,r;if(e.Qa()&&2047<n.length&&("undefined"!=typeof XMLHttpRequest&&(i=new XMLHttpRequest,"withCredentials"in i?a=1:i=0),i||"undefined"==typeof XDomainRequest||(i=new XDomainRequest,a=2),i&&e.AudienceManagement&&e.AudienceManagement.isReady()&&(e.S?i.pa=!0:i=0)),!i&&e.Ga&&(n=n.substring(0,2047)),!i&&e.d.createElement&&e.AudienceManagement&&e.AudienceManagement.isReady()&&(i=e.d.createElement("SCRIPT"))&&"async"in i&&((r=(r=e.d.getElementsByTagName("HEAD"))&&r[0]?r[0]:e.d.body)?(i.type="text/javascript",i.setAttribute("async","async"),a=3):i=0),i||(i=new Image,i.alt=""),i.ra=function(){try{e.la&&(clearTimeout(e.la),e.la=0),i.timeout&&(clearTimeout(i.timeout),i.timeout=0)}catch(t){}},i.onload=i.ub=function(){if(i.ra(),e.ab(),e.Z(),e.v=0,e.da(),i.pa){i.pa=!1;try{var t=e.R(i.responseText);e.AudienceManagement.passData(t)}catch(n){}}},i.onabort=i.onerror=i.cb=function(){i.ra(),(e.trackOffline||e.ja)&&e.v&&e.g.unshift(e.$a),e.v=0,e.fa>e.J&&e.Da(e.g),e.Z(),e.ma(500)},i.onreadystatechange=function(){4==i.readyState&&(200==i.status?i.ub():i.cb())},e.Ca=e.r(),1==a||2==a){var s=n.indexOf("?");r=n.substring(0,s),s=n.substring(s+1),s=s.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),1==a?(i.open("POST",r,!0),i.send(s)):2==a&&(i.open("POST",r),i.send(s))}else if(i.src=n,3==a){if(e.Aa)try{r.removeChild(e.Aa)}catch(o){}r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),e.Aa=e.Za}i.abort&&(e.la=setTimeout(i.abort,5e3)),e.$a=n,e.Za=t["s_i_"+e.replace(e.account,",","_")]=i,(e.useForcedLinkTracking&&e.F||e.q)&&(e.forcedLinkTrackingTimeout||(e.forcedLinkTrackingTimeout=250),e.aa=setTimeout(e.Z,e.forcedLinkTrackingTimeout))},e.ab=function(){if(e.ka()&&!(e.Ba>e.J))try{t.localStorage.removeItem(e.ia()),e.Ba=e.r()}catch(n){}},e.Da=function(n){if(e.ka()){e.Fa();try{t.localStorage.setItem(e.ia(),t.JSON.stringify(n)),e.J=e.r()}catch(i){}}},e.Fa=function(){if(e.trackOffline)for((!e.offlineLimit||0>=e.offlineLimit)&&(e.offlineLimit=10);e.g.length>e.offlineLimit;)e.ua()},e.forceOffline=function(){e.ja=!0},e.forceOnline=function(){e.ja=!1},e.ia=function(){return e.offlineFilename+"-"+e.visitorNamespace+e.account},e.r=function(){return(new Date).getTime()},e.ya=function(e){return e=e.toLowerCase(),0!=e.indexOf("#")&&0!=e.indexOf("about:")&&0!=e.indexOf("opera:")&&0!=e.indexOf("javascript:")},e.setTagContainer=function(t){var n,i,a;for(e.vb=t,n=0;n<e._il.length;n++)if((i=e._il[n])&&"s_l"==i._c&&i.tagContainerName==t){if(e.M(i),i.lmq)for(n=0;n<i.lmq.length;n++)a=i.lmq[n],e.loadModule(a.n);if(i.ml)for(a in i.ml)if(e[a])for(n in t=e[a],a=i.ml[a])!Object.prototype[n]&&("function"!=typeof a[n]||0>(""+a[n]).indexOf("s_c_il"))&&(t[n]=a[n]);if(i.mmq)for(n=0;n<i.mmq.length;n++)a=i.mmq[n],e[a.m]&&(t=e[a.m],t[a.f]&&"function"==typeof t[a.f]&&(a.a?t[a.f].apply(t,a.a):t[a.f].apply(t)));if(i.tq)for(n=0;n<i.tq.length;n++)e.track(i.tq[n]);i.s=e;break}},e.Util={urlEncode:e.escape,urlDecode:e.unescape,cookieRead:e.cookieRead,cookieWrite:e.cookieWrite,getQueryParam:function(n,i,a){var r;return i||(i=e.pageURL?e.pageURL:t.location),a||(a="&"),n&&i&&(i=""+i,r=i.indexOf("?"),r>=0&&(i=a+i.substring(r+1)+a,r=i.indexOf(a+n+"="),r>=0&&(i=i.substring(r+a.length+n.length+1),r=i.indexOf(a),r>=0&&(i=i.substring(0,r)),0<i.length)))?e.unescape(i):""}},e.A="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" "),e.c=e.A.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" ")),e.ga="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" "),e.K=e.ga.slice(0),e.oa="account allAccounts debugTracking visitor trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData AudienceManagement".split(" ");for(i=0;250>=i;i++)76>i&&(e.c.push("prop"+i),e.K.push("prop"+i)),e.c.push("eVar"+i),e.K.push("eVar"+i),6>i&&e.c.push("hier"+i),4>i&&e.c.push("list"+i);i="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest".split(" "),e.c=e.c.concat(i),e.A=e.A.concat(i),e.ssl=0<=t.location.protocol.toLowerCase().indexOf("https"),e.charSet="UTF-8",e.contextData={},e.offlineThrottleDelay=0,e.offlineFilename="AppMeasurement.offline",e.Ca=0,e.fa=0,e.J=0,e.Ba=0,e.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",e.w=t,e.d=t.document;try{if(e.Ga=!1,navigator){var d=navigator.userAgent;("Microsoft Internet Explorer"==navigator.appName||0<=d.indexOf("MSIE ")||0<=d.indexOf("Trident/")&&0<=d.indexOf("Windows NT 6"))&&(e.Ga=!0)}}catch(u){}e.Z=function(){e.aa&&(t.clearTimeout(e.aa),e.aa=n),e.j&&e.F&&e.j.dispatchEvent(e.F),e.q&&("function"==typeof e.q?e.q():e.j&&e.j.href&&(e.d.location=e.j.href)),e.j=e.F=e.q=0},e.Ea=function(){e.b=e.d.body,e.b?(e.p=function(n){var i,a,r,s,o;if(!(e.d&&e.d.getElementById("cppXYctnr")||n&&n["s_fe_"+e._in])){if(e.qa){if(!e.useForcedLinkTracking)return e.b.removeEventListener("click",e.p,!0),void(e.qa=e.useForcedLinkTracking=0);e.b.removeEventListener("click",e.p,!1)}else e.useForcedLinkTracking=0;e.clickObject=n.srcElement?n.srcElement:n.target;try{if(!e.clickObject||e.I&&e.I==e.clickObject||!(e.clickObject.tagName||e.clickObject.parentElement||e.clickObject.parentNode))e.clickObject=0;else{var l=e.I=e.clickObject;if(e.ea&&(clearTimeout(e.ea),e.ea=0),e.ea=setTimeout(function(){e.I==l&&(e.I=0)},1e4),r=e.wa(),e.track(),r<e.wa()&&e.useForcedLinkTracking&&n.target){for(s=n.target;s&&s!=e.b&&"A"!=s.tagName.toUpperCase()&&"AREA"!=s.tagName.toUpperCase();)s=s.parentNode;if(s&&(o=s.href,e.ya(o)||(o=0),a=s.target,n.target.dispatchEvent&&o&&(!a||"_self"==a||"_top"==a||"_parent"==a||t.name&&a==t.name))){try{i=e.d.createEvent("MouseEvents")}catch(c){i=new t.MouseEvent}if(i){try{i.initMouseEvent("click",n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget)}catch(d){i=0}i&&(i["s_fe_"+e._in]=i.s_fe=1,n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),n.preventDefault(),e.j=n.target,e.F=i)}}}}}catch(u){e.clickObject=0}}},e.b&&e.b.attachEvent?e.b.attachEvent("onclick",e.p):e.b&&e.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&e.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&t.MouseEvent)&&(e.qa=1,e.useForcedLinkTracking=1,e.b.addEventListener("click",e.p,!0)),e.b.addEventListener("click",e.p,!1))):setTimeout(e.Ea,30)},e.Ea()}function s_gi(e){var t,n,i,a,r,s=window.s_c_il,o=e.split(","),l=0;if(s)for(n=0;!l&&n<s.length;){if(t=s[n],"s_c"==t._c&&(t.account||t.oun))if(t.account&&t.account==e)l=1;else for(i=t.account?t.account:t.oun,i=t.allAccounts?t.allAccounts:i.split(","),a=0;a<o.length;a++)for(r=0;r<i.length;r++)o[a]==i[r]&&(l=1);n++}return l||(t=new AppMeasurement),t.setAccount?t.setAccount(e):t.sa&&t.sa(e),t}function s_pgicq(){var e,t,n,i=window,a=i.s_giq;if(a)for(e=0;e<a.length;e++)t=a[e],n=s_gi(t.oun),n.setAccount(t.un),n.setTagContainer(t.tagContainerName);i.s_giq=0}function initMoatTracking(e,t,n){if(!1===t.hasOwnProperty("partnerCode"))return!1;var i=window.location.protocol,a="https:"===i?"z":"js",r=document.createElement("script");n=n||e&&("undefined"!=typeof e.O?e.O.parentNode:document.body)||document.body;var s=[],o={adsManager:e,ids:t,imaSDK:!0,events:[]},l={complete:"AdVideoComplete",firstquartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",pause:"AdPaused",skip:"AdSkipped",start:"AdVideoStart",thirdquartile:"AdVideoThirdQuartile",volumeChange:"AdVolumeChange"};if(google&&google.ima&&e){var c,d="_moatApi"+Math.floor(1e8*Math.random());for(c in google.ima.AdEvent.Type){var u=function(t){if(o.sendEvent){for(t=s.length-1;t>=0;t--)e.removeEventListener(s[t].type,s[t].func);o.sendEvent(o.events)}else o.events.push({type:l[t.type]||t.type,adVolume:e.getVolume()})};e.addEventListener(google.ima.AdEvent.Type[c],u),s.push({type:google.ima.AdEvent.Type[c],func:u})}}d="undefined"!=typeof d?d:"",window[d]=o,n&&n.appendChild(r),r.src=i+"//"+a+".moatads.com/"+t.partnerCode+"/moatvideo.js#"+d}function Visitor(e,t){if(!e)throw"Visitor requires Adobe Marketing Cloud Org ID";var n=this;n.version="1.5.1";var i=window,a=i.Visitor;i.s_c_in||(i.s_c_il=[],i.s_c_in=0),n._c="Visitor",n._il=i.s_c_il,n._in=i.s_c_in,n._il[n._in]=n,i.s_c_in++;var r=i.document,s=a.Na;s||(s=null);var o=a.Oa;o||(o=void 0);var l=a.la;l||(l=!0);var c=a.Ma;c||(c=!1),n.T=function(e){var t,n,i=0;if(e)for(t=0;t<e.length;t++)n=e.charCodeAt(t),i=(i<<5)-i+n,i&=i;return i},n.q=function(e){var t,n="0123456789",i="",a="",r=8,s=10,o=10;if(1==e){for(n+="ABCDEF",e=0;16>e;e++)t=Math.floor(Math.random()*r),i+=n.substring(t,t+1),t=Math.floor(Math.random()*r),a+=n.substring(t,t+1),r=16;return i+"-"+a}for(e=0;19>e;e++)t=Math.floor(Math.random()*s),i+=n.substring(t,t+1),0==e&&9==t?s=3:(1==e||2==e)&&10!=s&&2>t?s=10:e>2&&(s=10),t=Math.floor(Math.random()*o),a+=n.substring(t,t+1),0==e&&9==t?o=3:(1==e||2==e)&&10!=o&&2>t?o=10:e>2&&(o=10);return i+a},n.oa=function(){var e;if(!e&&i.location&&(e=i.location.hostname),e)if(/^[0-9.]+$/.test(e))e="";else{var t=e.split("."),n=t.length-1,a=n-1;if(n>1&&2>=t[n].length&&(2==t[n-1].length||0>",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,".indexOf(","+t[n]+","))&&a--,a>0)for(e="";n>=a;)e=t[n]+(e?".":"")+e,n--}return e},n.cookieRead=function(e){var e=encodeURIComponent(e),t=(";"+r.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),i=0>n?n:t.indexOf(";",n+1);return 0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>i?t.length:i))},n.cookieWrite=function(e,t,i){var a,s=n.cookieLifetime,t=""+t,s=s?(""+s).toUpperCase():"";return i&&"SESSION"!=s&&"NONE"!=s?(a=""!=t?parseInt(s?s:0,10):-60)?(i=new Date,i.setTime(i.getTime()+1e3*a)):1==i&&(i=new Date,a=i.getYear(),i.setYear(a+2+(1900>a?1900:0))):i=0,e&&"NONE"!=s?(r.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(i?" expires="+i.toGMTString()+";":"")+(n.cookieDomain?" domain="+n.cookieDomain+";":""),n.cookieRead(e)==t):0},n.g=s,n.P=function(e,t){try{"function"==typeof e?e.apply(i,t):e[1].apply(e[0],t)}catch(n){}},n.sa=function(e,t){t&&(n.g==s&&(n.g={}),n.g[e]==o&&(n.g[e]=[]),
n.g[e].push(t))},n.o=function(e,t){if(n.g!=s){var i=n.g[e];if(i)for(;0<i.length;)n.P(i.shift(),t)}},n.j=s,n.qa=function(e,t,i){var a,o=0,l=0;if(t&&r){for(a=0;!o&&2>a;){try{o=(o=r.getElementsByTagName(a>0?"HEAD":"head"))&&0<o.length?o[0]:0}catch(c){o=0}a++}if(!o)try{r.body&&(o=r.body)}catch(d){o=0}if(o)for(a=0;!l&&2>a;){try{l=r.createElement(a>0?"SCRIPT":"script")}catch(u){l=0}a++}}t&&o&&l?(l.type="text/javascript",l.setAttribute("async","async"),l.src=t,o.firstChild?o.insertBefore(l,o.firstChild):o.appendChild(l),i&&(n.j==s&&(n.j={}),n.j[e]=setTimeout(i,n.loadTimeout))):i&&i()},n.ma=function(e){n.j!=s&&n.j[e]&&(clearTimeout(n.j[e]),n.j[e]=0)},n.U=c,n.V=c,n.isAllowed=function(){return!n.U&&(n.U=l,n.cookieRead(n.cookieName)||n.cookieWrite(n.cookieName,"T",1))&&(n.V=l),n.V},n.a=s,n.e=s;var d=a.ab;d||(d="MC");var u=a.fb;u||(u="MCMID");var _=a.bb;_||(_="MCCIDH");var p=a.eb;p||(p="MCSYNCS");var h=a.cb;h||(h="MCIDTS");var g=a.Za;g||(g="A");var f=a.Wa;f||(f="MCAID");var E=a.$a;E||(E="AAM");var T=a.Ya;T||(T="MCAAMLH");var m=a.Xa;m||(m="MCAAMB");var A=a.gb;A||(A="NONE"),n.B=0,n.S=function(){if(!n.B){var e=n.version;n.audienceManagerServer&&(e+="|"+n.audienceManagerServer),n.audienceManagerServerSecure&&(e+="|"+n.audienceManagerServerSecure),n.B=n.T(e)}return n.B},n.W=c,n.f=function(){if(!n.W){n.W=l;var e,t,i,a=n.S(),r=c,o=n.cookieRead(n.cookieName),d=new Date;if(n.a==s&&(n.a={}),o&&"T"!=o)for(o=o.split("|"),o[0].match(/^[\-0-9]+$/)&&(parseInt(o[0],10)!=a&&(r=l),o.shift()),1==o.length%2&&o.pop(),a=0;a<o.length;a+=2)e=o[a].split("-"),t=e[0],i=o[a+1],e=1<e.length?parseInt(e[1],10):0,r&&(t==_&&(i=""),e>0&&(e=d.getTime()/1e3-60)),t&&i&&(n.c(t,i,1),e>0&&(n.a["expire"+t]=e,d.getTime()>=1e3*e&&(n.e||(n.e={}),n.e[t]=l)));!n.b(f)&&(o=n.cookieRead("s_vi"))&&(o=o.split("|"),1<o.length&&0<=o[0].indexOf("v1")&&(i=o[1],a=i.indexOf("["),a>=0&&(i=i.substring(0,a)),i&&i.match(/^[0-9a-fA-F\-]+$/)&&n.c(f,i)))}},n.ua=function(){var e,t,i=n.S();for(e in n.a)!Object.prototype[e]&&n.a[e]&&"expire"!=e.substring(0,6)&&(t=n.a[e],i+=(i?"|":"")+e+(n.a["expire"+e]?"-"+n.a["expire"+e]:"")+"|"+t);n.cookieWrite(n.cookieName,i,1)},n.b=function(e,t){return n.a==s||!t&&n.e&&n.e[e]?s:n.a[e]},n.c=function(e,t,i){n.a==s&&(n.a={}),n.a[e]=t,i||n.ua()},n.pa=function(e,t){var i=n.b(e,t);return i?i.split("*"):s},n.ta=function(e,t,i){n.c(e,t?t.join("*"):"",i)},n.Ta=function(e,t){var i=n.pa(e,t);if(i){var a,r={};for(a=0;a<i.length;a+=2)r[i[a]]=i[a+1];return r}return s},n.Va=function(e,t,i){var a,r=s;if(t)for(a in r=[],t)Object.prototype[a]||(r.push(a),r.push(t[a]));n.ta(e,r,i)},n.l=function(e,t){var i=new Date;i.setTime(i.getTime()+1e3*t),n.a==s&&(n.a={}),n.a["expire"+e]=Math.floor(i.getTime()/1e3),0>t?(n.e||(n.e={}),n.e[e]=l):n.e&&(n.e[e]=c)},n.R=function(e){return e&&("object"==typeof e&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&(e=e.toUpperCase(),"NOTARGET"==e&&(e=A)),!e||e!=A&&!e.match(/^[0-9a-fA-F\-]+$/))&&(e=""),e},n.i=function(e,t){if(n.ma(e),n.h!=s&&(n.h[e]=c),e==d){var i=n.b(u);if(!i){if(i="object"==typeof t&&t.mid?t.mid:n.R(t),!i){if(n.u)return void n.getAnalyticsVisitorID(s,c,l);i=n.q()}n.c(u,i)}i&&i!=A||(i=""),"object"==typeof t&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&n.i(E,t),n.u&&t.mid&&n.i(g,{id:t.id})),n.o(u,[i])}if(e==E&&"object"==typeof t){i=604800,t.id_sync_ttl!=o&&t.id_sync_ttl&&(i=parseInt(t.id_sync_ttl,10));var a=n.b(T);a||((a=t.d_region)||(a=t.dcs_region),a&&(n.l(T,i),n.c(T,a))),a||(a=""),n.o(T,[a]),a=n.b(m),(t.d_blob||t.blob)&&((a=t.d_blob)||(a=t.blob),n.l(m,i),n.c(m,a)),a||(a=""),n.o(m,[a]),!t.error_msg&&n.s&&n.c(_,n.s),n.idSyncDisableSyncs?S.ca=l:(S.ca=c,S.Ka({H:t.ibs,d:t.subdomain}))}e==g&&(i=n.b(f),i||((i=n.R(t))?n.l(m,-1):i=A,n.c(f,i)),i&&i!=A||(i=""),n.o(f,[i]))},n.h=s,n.r=function(e,t,i,a){var r,o="";return n.isAllowed()&&(n.f(),o=n.b(e),!o&&(e==u?r=d:e==T||e==m?r=E:e==f&&(r=g),r))?(!t||n.h!=s&&n.h[r]||(n.h==s&&(n.h={}),n.h[r]=l,n.qa(r,t,function(){if(!n.b(e)){var t="";e==u?t=n.q():r==E&&(t={error_msg:"timeout"}),n.i(r,t)}})),n.sa(e,i),t||n.i(r,{id:A}),""):(e!=u&&e!=f||o!=A||(o="",a=l),i&&a&&n.P(i,[o]),o)},n._setMarketingCloudFields=function(e){n.f(),n.i(d,e)},n.setMarketingCloudVisitorID=function(e){n._setMarketingCloudFields(e)},n.u=c,n.getMarketingCloudVisitorID=function(e,t){if(n.isAllowed()){n.marketingCloudServer&&0>n.marketingCloudServer.indexOf(".demdex.net")&&(n.u=l);var i=n.A("_setMarketingCloudFields");return n.r(u,i,e,t)}return""},n.ra=function(){n.getAudienceManagerBlob()},a.AuthState={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},n.p={},n.Q=c,n.s="",n.setCustomerIDs=function(e){if(n.isAllowed()&&e){n.f();var t,i;for(t in e)if(!Object.prototype[t]&&(i=e[t]))if("object"==typeof i){var a={};i.id&&(a.id=i.id),i.authState!=o&&(a.authState=i.authState),n.p[t]=a}else n.p[t]={id:i};var e=n.getCustomerIDs(),a=n.b(_),r="";a||(a=0);for(t in e)Object.prototype[t]||(i=e[t],r+=(r?"|":"")+t+"|"+(i.id?i.id:"")+(i.authState?i.authState:""));n.s=n.T(r),n.s!=a&&(n.Q=l,n.ra())}},n.getCustomerIDs=function(){n.f();var e,t,i={};for(e in n.p)Object.prototype[e]||(t=n.p[e],i[e]||(i[e]={}),t.id&&(i[e].id=t.id),i[e].authState=t.authState!=o?t.authState:a.AuthState.UNKNOWN);return i},n._setAnalyticsFields=function(e){n.f(),n.i(g,e)},n.setAnalyticsVisitorID=function(e){n._setAnalyticsFields(e)},n.getAnalyticsVisitorID=function(e,t,i){if(n.isAllowed()){var a="";if(i||(a=n.getMarketingCloudVisitorID(function(){n.getAnalyticsVisitorID(e,l)})),a||i){var r=i?n.marketingCloudServer:n.trackingServer,s="";return n.loadSSL&&(i?n.marketingCloudServerSecure&&(r=n.marketingCloudServerSecure):n.trackingServerSecure&&(r=n.trackingServerSecure)),r&&(s="http"+(n.loadSSL?"s":"")+"://"+r+"/id?callback=s_c_il%5B"+n._in+"%5D._set"+(i?"MarketingCloud":"Analytics")+"Fields&mcorgid="+encodeURIComponent(n.marketingCloudOrgID)+(a?"&mid="+a:"")),n.r(i?u:f,s,e,t)}}return""},n._setAudienceManagerFields=function(e){n.f(),n.i(E,e)},n.A=function(e){var t=n.audienceManagerServer,i="",a=n.b(u),r=n.b(m,l),s=n.b(f),s=s&&s!=A?"&d_cid_ic=AVID%01"+encodeURIComponent(s):"";if(n.loadSSL&&n.audienceManagerServerSecure&&(t=n.audienceManagerServerSecure),t){var o,c,i=n.getCustomerIDs();if(i)for(o in i)Object.prototype[o]||(c=i[o],s+="&d_cid_ic="+encodeURIComponent(o)+"%01"+encodeURIComponent(c.id?c.id:"")+(c.authState?"%01"+c.authState:""));e||(e="_setAudienceManagerFields"),i="http"+(n.loadSSL?"s":"")+"://"+t+"/id?d_rtbd=json&d_ver=2"+(!a&&n.u?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(n.marketingCloudOrgID)+"&d_nsid="+(n.idSyncContainerID||0)+(a?"&d_mid="+a:"")+(r?"&d_blob="+encodeURIComponent(r):"")+s+"&d_cb=s_c_il%5B"+n._in+"%5D."+e}return i},n.getAudienceManagerLocationHint=function(e,t){if(n.isAllowed()&&n.getMarketingCloudVisitorID(function(){n.getAudienceManagerLocationHint(e,l)})){var i=n.b(f);if(i||(i=n.getAnalyticsVisitorID(function(){n.getAudienceManagerLocationHint(e,l)})),i)return i=n.A(),n.r(T,i,e,t)}return""},n.getAudienceManagerBlob=function(e,t){if(n.isAllowed()&&n.getMarketingCloudVisitorID(function(){n.getAudienceManagerBlob(e,l)})){var i=n.b(f);if(i||(i=n.getAnalyticsVisitorID(function(){n.getAudienceManagerBlob(e,l)})),i)return i=n.A(),n.Q&&n.l(m,-1),n.r(m,i,e,t)}return""},n.m="",n.t={},n.C="",n.D={},n.getSupplementalDataID=function(e,t){!n.m&&!t&&(n.m=n.q(1));var i=n.m;return n.C&&!n.D[e]?(i=n.C,n.D[e]=l):i&&(n.t[e]&&(n.C=n.m,n.D=n.t,n.m=i=t?"":n.q(1),n.t={}),i&&(n.t[e]=l)),i};var v={k:!!i.postMessage,ja:1,O:864e5};n.Pa=v,n.Y={postMessage:function(e,t,n){var i=1;t&&(v.k?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+i++ +"&"+e))},K:function(e,t){var n;try{v.k&&(e&&(n=function(n){return"string"==typeof t&&n.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(n.origin)?!1:void e(n)}),window.addEventListener?window[e?"addEventListener":"removeEventListener"]("message",n,!1):window[e?"attachEvent":"detachEvent"]("onmessage",n))}catch(i){}}};var I={Z:function(){return r.addEventListener?function(e,t,n){e.addEventListener(t,function(e){"function"==typeof n&&n(e)},c)}:r.attachEvent?function(e,t,n){e.attachEvent("on"+t,function(e){"function"==typeof n&&n(e)})}:void 0}(),map:function(e,t){if(Array.prototype.map)return e.map(t);if(void 0===e||e===s)throw new TypeError;var n=Object(e),i=n.length>>>0;if("function"!=typeof t)throw new TypeError;for(var a=Array(i),r=0;i>r;r++)r in n&&(a[r]=t.call(t,n[r],r,n));return a},Aa:function(e,t){return this.map(e,function(e){return encodeURIComponent(e)}).join(t)}};n.Ua=I;var S={ka:3e4,N:649,ga:c,id:s,I:s,ba:function(e){return"string"==typeof e?(e=e.split("/"),e[0]+"//"+e[2]):void 0},d:s,url:s,Ca:function(){var e="http://fast.",t="?d_nsid="+n.idSyncContainerID+"#"+encodeURIComponent(r.location.href);return this.d||(this.d="nosubdomainreturned"),n.loadSSL&&(e=n.idSyncSSLUseAkamai?"https://fast.":"https://"),e=e+this.d+".demdex.net/dest5.html"+t,this.I=this.ba(e),this.id="destination_publishing_iframe_"+this.d+"_"+n.idSyncContainerID,e},wa:function(){var e="?d_nsid="+n.idSyncContainerID+"#"+encodeURIComponent(r.location.href);"string"==typeof n.z&&n.z.length&&(this.id="destination_publishing_iframe_"+(new Date).getTime()+"_"+n.idSyncContainerID,this.I=this.ba(n.z),this.url=n.z+e)},ca:s,G:c,M:c,v:s,hb:s,Ia:s,ib:s,L:c,w:[],Ga:[],Ha:[],da:v.k?15:100,J:[],Ea:[],aa:l,ea:c,$:function(){function e(){i=document.createElement("iframe"),i.id=n.id,i.style.cssText="display: none; width: 0; height: 0;",i.src=n.url,n.Ia=l,t(),document.body.appendChild(i)}function t(){I.Z(i,"load",function(){i.className="aamIframeLoaded",n.v=l,n.n()})}this.M=l;var n=this,i=document.getElementById(this.id);i?"IFRAME"!==i.nodeName?(this.id+="_2",e()):"aamIframeLoaded"!==i.className?t():(this.v=l,this.n()):e(),this.Da=i},n:function(e){var t=this;e===Object(e)&&this.J.push(e),(this.ea||!v.k||this.v)&&this.J.length&&(this.Ja(this.J.shift()),this.n()),!n.idSyncDisableSyncs&&this.v&&this.w.length&&!this.L&&(this.ga||(this.ga=l,setTimeout(function(){t.da=v.k?15:150},this.ka)),this.L=l,this.fa())},Ja:function(e){var t,n,i,a,r,s=encodeURIComponent;if((t=e.H)&&t instanceof Array&&(n=t.length))for(i=0;n>i;i++)a=t[i],r=[s("ibs"),s(a.id||""),s(a.tag||""),I.Aa(a.url||[],","),s(a.ha||""),"","",a.Ba?"true":"false"],this.aa?this.F(r.join("|")):a.Ba&&this.xa(a,r.join("|"));this.Ea.push(e)},xa:function(e,t){n.f();var i=n.b(p),a=c,r=c,s=Math.ceil((new Date).getTime()/v.O);i?(i=i.split("*"),r=this.La(i,e.id,s),a=r.ya,r=r.za,a&&r||(this.F(t),i.push(e.id+"-"+(s+Math.ceil(e.ha/60/24))),this.Fa(i),n.c(p,i.join("*")))):(this.F(t),n.c(p,e.id+"-"+(s+Math.ceil(e.ha/60/24))))},La:function(e,t,n){var i,a,r,s=c,o=c;for(a=0;a<e.length;a++)i=e[a],r=parseInt(i.split("-")[1],10),i.match("^"+t+"-")?(s=l,r>n?o=l:(e.splice(a,1),a--)):n>=r&&(e.splice(a,1),a--);return{ya:s,za:o}},Fa:function(e){if(e.join("*").length>this.N)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.N;)e.shift()},F:function(e){var t=encodeURIComponent;this.w.push(t(n.Ra?"---destpub-debug---":"---destpub---")+e)},fa:function(){var e,t=this;this.w.length?(e=this.w.shift(),n.Y.postMessage(e,this.url,this.Da.contentWindow),this.Ga.push(e),setTimeout(function(){t.fa()},this.da)):this.L=c},K:function(e){var t=/^---destpub-to-parent---/;"string"==typeof e&&t.test(e)&&(t=e.replace(t,"").split("|"),"canSetThirdPartyCookies"===t[0]&&(this.aa="true"===t[1]?l:c,this.ea=l,this.n()),this.Ha.push(e))},Ka:function(e){this.url===s&&(this.d="string"==typeof n.X&&n.X.length?n.X:e.d||"",this.url=this.Ca()),e.H instanceof Array&&e.H.length&&(this.G=l),(this.G||n.na)&&this.d&&"nosubdomainreturned"!==this.d&&!this.M&&(a.ia||"complete"===r.readyState||"loaded"===r.readyState)&&this.$(),"function"==typeof n.idSyncIDCallResult?n.idSyncIDCallResult(e):this.n(e),"function"==typeof n.idSyncAfterIDCallResult&&n.idSyncAfterIDCallResult(e)},va:function(e,t){return n.Sa||!e||t-e>v.ja}};if(n.Qa=S,0>e.indexOf("@")&&(e+="@AdobeOrg"),n.marketingCloudOrgID=e,n.cookieName="AMCV_"+e,n.cookieDomain=n.oa(),n.cookieDomain==i.location.hostname&&(n.cookieDomain=""),n.loadSSL=0<=i.location.protocol.toLowerCase().indexOf("https"),n.loadTimeout=500,n.marketingCloudServer=n.audienceManagerServer="dpm.demdex.net",t&&"object"==typeof t){for(var y in t)!Object.prototype[y]&&(n[y]=t[y]);n.idSyncContainerID=n.idSyncContainerID||0,n.f(),y=n.b(h);var P=Math.ceil((new Date).getTime()/v.O);!n.idSyncDisableSyncs&&S.va(y,P)&&(n.l(m,-1),n.c(h,P)),n.getMarketingCloudVisitorID(),n.getAudienceManagerLocationHint(),n.getAudienceManagerBlob()}if(!n.idSyncDisableSyncs){S.wa(),I.Z(window,"load",function(){var e=S;a.ia=l,(e.G||n.na)&&e.d&&"nosubdomainreturned"!==e.d&&e.url&&!e.M&&e.$()});try{n.Y.K(function(e){S.K(e.data)},S.I)}catch(C){}}}window.addLegacyVideoReportingLibrary=function(){function e(e){var t,n,i,a,r,s=window.s_c_il,o=e.split(","),l=0;if(s)for(n=0;!l&&n<s.length;){if(t=s[n],"s_c"==t._c&&(t.account||t.oun))if(t.account&&t.account==e)l=1;else for(i=t.account?t.account:t.oun,i=t.allAccounts?t.allAccounts:i.split(","),a=0;a<o.length;a++)for(r=0;r<i.length;r++)o[a]==i[r]&&(l=1);n++}return l||(t=new AppMeasurement),t.setAccount?t.setAccount(e):t.sa&&t.sa(e),t}function t(){var t,n,i,a=window,r=a.s_giq;if(r)for(t=0;t<r.length;t++)n=r[t],i=e(n.oun),i.setAccount(n.un),i.setTagContainer(n.tagContainerName);a.s_giq=0}window.AppMeasurement_Module_Media=function(e){var t=this;t.s=e,e=window,e.s_c_in||(e.s_c_il=[],e.s_c_in=0),t._il=e.s_c_il,t._in=e.s_c_in,t._il[t._in]=t,e.s_c_in++,t._c="s_m",t.list=[],t.open=function(e,n,i,a){var r,s={},o=new Date,l="";if(n||(n=-1),e&&i){if(t.list||(t.list={}),t.list[e]&&t.close(e),a&&a.id&&(l=a.id),l)for(r in t.list)!Object.prototype[r]&&t.list[r]&&t.list[r].R==l&&t.close(t.list[r].name);s.name=e,s.length=n,s.offset=0,s.e=0,s.playerName=t.playerName?t.playerName:i,s.R=l,s.C=0,s.a=0,s.timestamp=Math.floor(o.getTime()/1e3),s.k=0,s.u=s.timestamp,s.c=-1,s.n="",s.g=-1,s.D=0,s.I={},s.G=0,s.m=0,s.f="",s.B=0,s.L=0,s.A=0,s.F=0,s.l=!1,s.v="",s.J="",s.K=0,s.r=!1,s.H="",s.complete=0,s.Q=0,s.p=0,s.q=0,t.list[e]=s}},t.openAd=function(e,n,i,a,r,s,o,l){var c={};t.open(e,n,i,l),(c=t.list[e])&&(c.l=!0,c.v=a,c.J=r,c.K=s,c.H=o)},t.M=function(e){var n=t.list[e];t.list[e]=0,n&&n.monitor&&clearTimeout(n.monitor.interval)},t.close=function(e){t.i(e,0,-1)},t.play=function(e,n,i,a){var r=t.i(e,1,n,i,a);r&&!r.monitor&&(r.monitor={},r.monitor.update=function(){1==r.k&&t.i(r.name,3,-1),r.monitor.interval=setTimeout(r.monitor.update,1e3)},r.monitor.update())},t.click=function(e,n){t.i(e,7,n)},t.complete=function(e,n){t.i(e,5,n)},t.stop=function(e,n){t.i(e,2,n)},t.track=function(e){t.i(e,4,-1)},t.P=function(e,n){var i,a,r="a.media.",s=e.linkTrackVars,o=e.linkTrackEvents,l="m_i",c=e.contextData;if(n.l&&(r+="ad.",n.v&&(c["a.media.name"]=n.v,c[r+"pod"]=n.J,c[r+"podPosition"]=n.K),n.G||(c[r+"CPM"]=n.H)),n.r&&(c[r+"clicked"]=!0,n.r=!1),c["a.contentType"]="video"+(n.l?"Ad":""),c["a.media.channel"]=t.channel,c[r+"name"]=n.name,c[r+"playerName"]=n.playerName,0<n.length&&(c[r+"length"]=n.length),c[r+"timePlayed"]=Math.floor(n.a),0<Math.floor(n.a)&&(c[r+"timePlayed"]=Math.floor(n.a)),n.G||(c[r+"view"]=!0,l="m_s",t.Heartbeat&&t.Heartbeat.enabled&&(l=n.l?t.__primetime?"mspa_s":"msa_s":t.__primetime?"msp_s":"ms_s"),n.G=1),n.f&&(c[r+"segmentNum"]=n.m,c[r+"segment"]=n.f,0<n.B&&(c[r+"segmentLength"]=n.B),n.A&&0<n.a&&(c[r+"segmentView"]=!0)),!n.Q&&n.complete&&(c[r+"complete"]=!0,n.S=1),0<n.p&&(c[r+"milestone"]=n.p),0<n.q&&(c[r+"offsetMilestone"]=n.q),s)for(a in c)Object.prototype[a]||(s+=",contextData."+a);i=c["a.contentType"],e.pe=l,e.pev3=i;var d,u;if(t.contextDataMapping)for(a in e.events2||(e.events2=""),s&&(s+=",events"),t.contextDataMapping)if(!Object.prototype[a]){if(l=a.length>r.length&&a.substring(0,r.length)==r?a.substring(r.length):"",i=t.contextDataMapping[a],"string"==typeof i)for(d=i.split(","),u=0;u<d.length;u++)i=d[u],"a.contentType"==a?(s&&(s+=","+i),e[i]=c[a]):"view"==l||"segmentView"==l||"clicked"==l||"complete"==l||"timePlayed"==l||"CPM"==l?(o&&(o+=","+i),"timePlayed"==l||"CPM"==l?c[a]&&(e.events2+=(e.events2?",":"")+i+"="+c[a]):c[a]&&(e.events2+=(e.events2?",":"")+i)):"segment"==l&&c[a+"Num"]?(s&&(s+=","+i),e[i]=c[a+"Num"]+":"+c[a]):(s&&(s+=","+i),e[i]=c[a]);else"milestones"!=l&&"offsetMilestones"!=l||(a=a.substring(0,a.length-1),c[a]&&t.contextDataMapping[a+"s"][c[a]]&&(o&&(o+=","+t.contextDataMapping[a+"s"][c[a]]),e.events2+=(e.events2?",":"")+t.contextDataMapping[a+"s"][c[a]]));c[a]&&(c[a]=0),"segment"==l&&c[a+"Num"]&&(c[a+"Num"]=0)}e.linkTrackVars=s,e.linkTrackEvents=o},t.i=function(e,n,i,a,r){var s,o,l,c,d,u={},_=(new Date).getTime()/1e3,p=t.trackVars,h=t.trackEvents,g=t.trackSeconds,f=t.trackMilestones,E=t.trackOffsetMilestones,T=t.segmentByMilestones,m=t.segmentByOffsetMilestones,A=1,v={};if(t.channel||(t.channel=t.s.w.location.hostname),(u=e&&t.list&&t.list[e]?t.list[e]:0)&&(u.l&&(g=t.adTrackSeconds,f=t.adTrackMilestones,E=t.adTrackOffsetMilestones,T=t.adSegmentByMilestones,m=t.adSegmentByOffsetMilestones),0>i&&(i=1==u.k&&0<u.u?_-u.u+u.c:u.c),0<u.length&&(i=i<u.length?i:u.length),0>i&&(i=0),u.offset=i,0<u.length&&(u.e=u.offset/u.length*100,u.e=100<u.e?100:u.e),0>u.c&&(u.c=i),d=u.D,v.name=e,v.ad=u.l,v.length=u.length,v.openTime=new Date,v.openTime.setTime(1e3*u.timestamp),v.offset=u.offset,v.percent=u.e,v.playerName=u.playerName,v.mediaEvent=0>u.g?"OPEN":1==n?"PLAY":2==n?"STOP":3==n?"MONITOR":4==n?"TRACK":5==n?"COMPLETE":7==n?"CLICK":"CLOSE",n>2||n!=u.k&&(2!=n||1==u.k))){if(r||(a=u.m,r=u.f),n){if(1==n&&(u.c=i),(3>=n||n>=5)&&0<=u.g&&(A=!1,p=h="None",u.g!=i)){if(o=u.g,o>i&&(o=u.c,o>i&&(o=i)),l=f?f.split(","):0,0<u.length&&l&&i>=o)for(c=0;c<l.length;c++)(s=l[c]?parseFloat(""+l[c]):0)&&o/u.length*100<s&&u.e>=s&&(A=!0,c=l.length,v.mediaEvent="MILESTONE",u.p=v.milestone=s);if((l=E?E.split(","):0)&&i>=o)for(c=0;c<l.length;c++)(s=l[c]?parseFloat(""+l[c]):0)&&s>o&&i>=s&&(A=!0,c=l.length,v.mediaEvent="OFFSET_MILESTONE",u.q=v.offsetMilestone=s)}if(u.L||!r){if(T&&f&&0<u.length){if(l=f.split(","))for(l.push("100"),c=o=0;c<l.length;c++)(s=l[c]?parseFloat(""+l[c]):0)&&(u.e<s&&(a=c+1,r="M:"+o+"-"+s,c=l.length),o=s)}else if(m&&E&&(l=E.split(",")))for(l.push(""+(0<u.length?u.length:"E")),c=o=0;c<l.length;c++)((s=l[c]?parseFloat(""+l[c]):0)||"E"==l[c])&&((s>i||"E"==l[c])&&(a=c+1,r="O:"+o+"-"+s,c=l.length),o=s);r&&(u.L=!0)}(r||u.f)&&r!=u.f&&(u.F=!0,u.f||(u.m=a,u.f=r),0<=u.g&&(A=!0)),(n>=2||100<=u.e)&&u.c<i&&(u.C+=i-u.c,u.a+=i-u.c),(2>=n||3==n&&!u.k)&&(u.n+=(1==n||3==n?"S":"E")+Math.floor(i),u.k=3==n?1:n),!A&&0<=u.g&&3>=n&&(g=g?g:0)&&u.a>=g&&(A=!0,v.mediaEvent="SECONDS"),u.u=_,u.c=i}(!n||3>=n&&100<=u.e)&&(2!=u.k&&(u.n+="E"+Math.floor(i)),n=0,p=h="None",v.mediaEvent="CLOSE"),7==n&&(A=v.clicked=u.r=!0),(5==n||t.completeByCloseOffset&&(!n||100<=u.e)&&0<u.length&&i>=u.length-t.completeCloseOffsetThreshold)&&(A=v.complete=u.complete=!0),_=v.mediaEvent,"MILESTONE"==_?_+="_"+v.milestone:"OFFSET_MILESTONE"==_&&(_+="_"+v.offsetMilestone),u.I[_]?v.eventFirstTime=!1:(v.eventFirstTime=!0,u.I[_]=1),v.event=v.mediaEvent,v.timePlayed=u.C,v.segmentNum=u.m,v.segment=u.f,v.segmentLength=u.B,t.monitor&&4!=n&&t.monitor(t.s,v),t.Heartbeat&&t.Heartbeat.enabled&&0<=u.g&&(A=!1),0==n&&t.M(e),A&&u.D==d&&(e={contextData:{}},e.linkTrackVars=p,e.linkTrackEvents=h,e.linkTrackVars||(e.linkTrackVars=""),e.linkTrackEvents||(e.linkTrackEvents=""),t.P(e,u),e.linkTrackVars||(e["!linkTrackVars"]=1),e.linkTrackEvents||(e["!linkTrackEvents"]=1),t.s.track(e),u.F?(u.m=a,u.f=r,u.A=!0,u.F=!1):0<u.a&&(u.A=!1),u.n="",u.p=u.q=0,u.a-=Math.floor(u.a),u.g=i,u.D++)}return u},t.O=function(e,n,i,a,r){var s=0;e&&(!t.autoTrackMediaLengthRequired||n&&n>0)&&(t.list&&t.list[e]?s=1:1!=i&&3!=i||(t.open(e,n,"HTML5 Video",r),s=1),s&&t.i(e,i,a,-1,0))},t.attach=function(e){var n,i,a;e&&e.tagName&&"VIDEO"==e.tagName.toUpperCase()&&(t.o||(t.o=function(e,n,i){var a,r;t.autoTrack&&(a=e.currentSrc,(r=e.duration)||(r=-1),0>i&&(i=e.currentTime),t.O(a,r,n,i,e))}),n=function(){t.o(e,1,-1)},i=function(){t.o(e,1,-1)},t.j(e,"play",n),t.j(e,"pause",i),t.j(e,"seeking",i),t.j(e,"seeked",n),t.j(e,"ended",function(){t.o(e,0,-1)}),t.j(e,"timeupdate",n),(a=function(){e.paused||e.ended||e.seeking||t.o(e,3,-1),setTimeout(a,1e3)})())},t.j=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,!1)},void 0==t.completeByCloseOffset&&(t.completeByCloseOffset=1),void 0==t.completeCloseOffsetThreshold&&(t.completeCloseOffsetThreshold=1),t.Heartbeat={},t.N=function(){var e,n;if(t.autoTrack&&(e=t.s.d.getElementsByTagName("VIDEO")))for(n=0;n<e.length;n++)t.attach(e[n])},t.j(e,"load",t.N)},window.AppMeasurement=function(){var e=this;e.version="1.5.3";var t=window;t.s_c_in||(t.s_c_il=[],t.s_c_in=0),e._il=t.s_c_il,e._in=t.s_c_in,e._il[e._in]=e,t.s_c_in++,e._c="s_c";var n=t.AppMeasurement.zb;n||(n=null);var i,a,r=t;try{for(i=r.parent,a=r.location;i&&i.location&&a&&""+i.location!=""+a&&r.location&&""+i.location!=""+r.location&&i.location.host==a.host;)r=i,i=r.parent}catch(s){}e.ob=function(e){try{}catch(t){}},e.za=function(e){return""+parseInt(e)==""+e},e.replace=function(e,t,n){return!e||0>e.indexOf(t)?e:e.split(t).join(n)},e.escape=function(t){var n,i;if(!t)return t;for(t=encodeURIComponent(t),n=0;7>n;n++)i="+~!*()'".substring(n,n+1),0<=t.indexOf(i)&&(t=e.replace(t,i,"%"+i.charCodeAt(0).toString(16).toUpperCase()));return t},e.unescape=function(t){if(!t)return t;t=0<=t.indexOf("+")?e.replace(t,"+"," "):t;try{return decodeURIComponent(t)}catch(n){}return unescape(t)},e.gb=function(){var n,i=t.location.hostname,a=e.fpCookieDomainPeriods;if(a||(a=e.cookieDomainPeriods),i&&!e.cookieDomain&&!/^[0-9.]+$/.test(i)&&(a=a?parseInt(a):2,a=a>2?a:2,n=i.lastIndexOf("."),n>=0)){for(;n>=0&&a>1;)n=i.lastIndexOf(".",n-1),a--;e.cookieDomain=n>0?i.substring(n):i}return e.cookieDomain},e.c_r=e.cookieRead=function(t){t=e.escape(t);var n=" "+e.d.cookie,i=n.indexOf(" "+t+"="),a=0>i?i:n.indexOf(";",i);return t=0>i?"":e.unescape(n.substring(i+2+t.length,0>a?n.length:a)),"[[B]]"!=t?t:""},e.c_w=e.cookieWrite=function(t,n,i){var a,r=e.gb(),s=e.cookieLifetime;return n=""+n,s=s?(""+s).toUpperCase():"",i&&"SESSION"!=s&&"NONE"!=s&&((a=""!=n?parseInt(s?s:0):-60)?(i=new Date,i.setTime(i.getTime()+1e3*a)):1==i&&(i=new Date,a=i.getYear(),i.setYear(a+5+(1900>a?1900:0)))),t&&"NONE"!=s?(e.d.cookie=t+"="+e.escape(""!=n?n:"[[B]]")+"; path=/;"+(i&&"SESSION"!=s?" expires="+i.toGMTString()+";":"")+(r?" domain="+r+";":""),e.cookieRead(t)==n):0},e.G=[],e.ba=function(t,n,i){if(e.ta)return 0;e.maxDelay||(e.maxDelay=250);var a=0,r=(new Date).getTime()+e.maxDelay,s=e.d.visibilityState,o=["webkitvisibilitychange","visibilitychange"];if(s||(s=e.d.webkitVisibilityState),s&&"prerender"==s){if(!e.ca)for(e.ca=1,i=0;i<o.length;i++)e.d.addEventListener(o[i],function(){var t=e.d.visibilityState;t||(t=e.d.webkitVisibilityState),"visible"==t&&(e.ca=0,e.delayReady())});a=1,r=0}else i||e.l("_d")&&(a=1);return a&&(e.G.push({m:t,a:n,t:r}),e.ca||setTimeout(e.delayReady,e.maxDelay)),a},e.delayReady=function(){var t,n=(new Date).getTime(),i=0;for(e.l("_d")?i=1:e.na();0<e.G.length;){if(t=e.G.shift(),i&&!t.t&&t.t>n){e.G.unshift(t),setTimeout(e.delayReady,parseInt(e.maxDelay/2));break}e.ta=1,e[t.m].apply(e,t.a),e.ta=0}},e.setAccount=e.sa=function(t){var n,i;if(!e.ba("setAccount",arguments))if(e.account=t,e.allAccounts)for(n=e.allAccounts.concat(t.split(",")),e.allAccounts=[],n.sort(),i=0;i<n.length;i++)0!=i&&n[i-1]==n[i]||e.allAccounts.push(n[i]);else e.allAccounts=t.split(",")},e.foreachVar=function(t,n){var i,a,r,s,o="";for(r=a="",e.lightProfileID?(i=e.K,(o=e.lightTrackVars)&&(o=","+o+","+e.ga.join(",")+",")):(i=e.c,(e.pe||e.linkType)&&(o=e.linkTrackVars,a=e.linkTrackEvents,e.pe&&(r=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[r]&&(o=e[r].yb,a=e[r].xb))),o&&(o=","+o+","+e.A.join(",")+","),a&&o&&(o+=",events,")),n&&(n=","+n+","),a=0;a<i.length;a++)r=i[a],(s=e[r])&&(!o||0<=o.indexOf(","+r+","))&&(!n||0<=n.indexOf(","+r+","))&&t(r,s)},e.B=function(t,n,i,a,r){var s,o,l,c,d="",u=0;if("contextData"==t&&(t="c"),n){for(s in n)if(!(Object.prototype[s]||r&&s.substring(0,r.length)!=r)&&n[s]&&(!i||0<=i.indexOf(","+(a?a+".":"")+s+","))){if(l=!1,u)for(o=0;o<u.length;o++)s.substring(0,u[o].length)==u[o]&&(l=!0);if(!l&&(""==d&&(d+="&"+t+"."),o=n[s],r&&(s=s.substring(r.length)),0<s.length))if(l=s.indexOf("."),l>0)o=s.substring(0,l),l=(r?r:"")+o+".",u||(u=[]),u.push(l),d+=e.B(o,n,i,a,l);else if("boolean"==typeof o&&(o=o?"true":"false"),o){if("retrieveLightData"==a&&0>r.indexOf(".contextData."))switch(l=s.substring(0,4),c=s.substring(4),s){case"transactionID":s="xact";break;case"channel":s="ch";break;case"campaign":s="v0";break;default:e.za(c)&&("prop"==l?s="c"+c:"eVar"==l?s="v"+c:"list"==l?s="l"+c:"hier"==l&&(s="h"+c,o=o.substring(0,255)))}d+="&"+e.escape(s)+"="+e.escape(o)}}""!=d&&(d+="&."+t)}return d},e.ib=function(){var t,i,a,r,s,o,l,c,d="",u="",_="",p=r="";if(e.lightProfileID?(t=e.K,(u=e.lightTrackVars)&&(u=","+u+","+e.ga.join(",")+",")):(t=e.c,(e.pe||e.linkType)&&(u=e.linkTrackVars,_=e.linkTrackEvents,e.pe&&(r=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[r]&&(u=e[r].yb,_=e[r].xb))),u&&(u=","+u+","+e.A.join(",")+","),_&&(_=","+_+",",u&&(u+=",events,")),e.events2&&(p+=(""!=p?",":"")+e.events2)),e.visitor&&1.5<=parseFloat(e.visitor.version)&&e.visitor.getCustomerIDs){if(r=n,s=e.visitor.getCustomerIDs())for(i in s)Object.prototype[i]||(a=s[i],r||(r={}),a.id&&(r[i+".id"]=a.id),a.authState&&(r[i+".as"]=a.authState));r&&(d+=e.B("cid",r))}for(e.AudienceManagement&&e.AudienceManagement.isReady()&&(d+=e.B("d",e.AudienceManagement.getEventCallConfigParams())),i=0;i<t.length;i++){if(r=t[i],s=e[r],a=r.substring(0,4),o=r.substring(4),!s&&"events"==r&&p&&(s=p,p=""),s&&(!u||0<=u.indexOf(","+r+","))){switch(r){case"supplementalDataID":r="sdid";break;case"timestamp":r="ts";break;case"dynamicVariablePrefix":r="D";break;case"visitorID":r="vid";break;case"marketingCloudVisitorID":r="mid";break;case"analyticsVisitorID":r="aid";break;case"audienceManagerLocationHint":r="aamlh";break;case"audienceManagerBlob":r="aamb";break;case"authState":r="as";break;case"pageURL":r="g",255<s.length&&(e.pageURLRest=s.substring(255),s=s.substring(0,255));break;case"pageURLRest":r="-g";break;case"referrer":r="r";break;case"vmk":case"visitorMigrationKey":r="vmt";break;case"visitorMigrationServer":r="vmf",e.ssl&&e.visitorMigrationServerSecure&&(s="");break;case"visitorMigrationServerSecure":r="vmf",!e.ssl&&e.visitorMigrationServer&&(s="");break;case"charSet":r="ce";break;case"visitorNamespace":r="ns";break;case"cookieDomainPeriods":r="cdp";break;case"cookieLifetime":r="cl";break;case"variableProvider":r="vvp";break;case"currencyCode":r="cc";break;case"channel":r="ch";break;case"transactionID":r="xact";break;case"campaign":r="v0";break;case"latitude":r="lat";break;case"longitude":r="lon";break;case"resolution":r="s";break;case"colorDepth":r="c";break;case"javascriptVersion":r="j";break;case"javaEnabled":r="v";break;case"cookiesEnabled":r="k";break;case"browserWidth":r="bw";break;case"browserHeight":r="bh";break;case"connectionType":r="ct";break;case"homepage":r="hp";break;case"events":if(p&&(s+=(""!=s?",":"")+p),_)for(o=s.split(","),s="",a=0;a<o.length;a++)l=o[a],c=l.indexOf("="),c>=0&&(l=l.substring(0,c)),c=l.indexOf(":"),c>=0&&(l=l.substring(0,c)),0<=_.indexOf(","+l+",")&&(s+=(s?",":"")+o[a]);break;case"events2":s="";break;case"contextData":d+=e.B("c",e[r],u,r),s="";break;case"lightProfileID":r="mtp";break;case"lightStoreForSeconds":r="mtss",e.lightProfileID||(s="");break;case"lightIncrementBy":r="mti",e.lightProfileID||(s="");break;case"retrieveLightProfiles":r="mtsr";break;case"deleteLightProfiles":r="mtsd";break;case"retrieveLightData":e.retrieveLightProfiles&&(d+=e.B("mts",e[r],u,r)),s="";break;default:e.za(o)&&("prop"==a?r="c"+o:"eVar"==a?r="v"+o:"list"==a?r="l"+o:"hier"==a&&(r="h"+o,s=s.substring(0,255)))}s&&(d+="&"+r+"="+("pev"!=r.substring(0,3)?e.escape(s):s))}"pev3"==r&&e.e&&(d+=e.e)}return d},e.u=function(e){var t=e.tagName;return"undefined"!=""+e.Cb||"undefined"!=""+e.sb&&"HTML"!=(""+e.sb).toUpperCase()?"":(t=t&&t.toUpperCase?t.toUpperCase():"","SHAPE"==t&&(t=""),t&&(("INPUT"==t||"BUTTON"==t)&&e.type&&e.type.toUpperCase?t=e.type.toUpperCase():!t&&e.href&&(t="A")),t)},e.va=function(e){var t,n,i,a=e.href?e.href:"";return t=a.indexOf(":"),n=a.indexOf("?"),i=a.indexOf("/"),a&&(0>t||n>=0&&t>n||i>=0&&t>i)&&(n=e.protocol&&1<e.protocol.length?e.protocol:l.protocol?l.protocol:"",t=l.pathname.lastIndexOf("/"),a=(n?n+"//":"")+(e.host?e.host:l.host?l.host:"")+("/"!=h.substring(0,1)?l.pathname.substring(0,0>t?0:t)+"/":"")+a),a},e.H=function(t){var n,i,a=e.u(t),r="",s=0;return a&&(n=t.protocol,i=t.onclick,!t.href||"A"!=a&&"AREA"!=a||i&&n&&!(0>n.toLowerCase().indexOf("javascript"))?i?(r=e.replace(e.replace(e.replace(e.replace(""+i,"\r",""),"\n",""),"	","")," ",""),s=2):"INPUT"==a||"SUBMIT"==a?(t.value?r=t.value:t.innerText?r=t.innerText:t.textContent&&(r=t.textContent),s=3):t.src&&"IMAGE"==a&&(r=t.src):r=e.va(t),r)?{id:r.substring(0,100),type:s}:0},e.Ab=function(t){for(var n=e.u(t),i=e.H(t);t&&!i&&"BODY"!=n;)(t=t.parentElement?t.parentElement:t.parentNode)&&(n=e.u(t),i=e.H(t));return i&&"BODY"!=n||(t=0),t&&(n=t.onclick?""+t.onclick:"",0<=n.indexOf(".tl(")||0<=n.indexOf(".trackLink("))&&(t=0),t},e.rb=function(){var n,i,a,r,s=e.linkObject,o=e.linkType,l=e.linkURL;if(e.ha=1,s||(e.ha=0,s=e.clickObject),s){for(n=e.u(s),i=e.H(s);s&&!i&&"BODY"!=n;)(s=s.parentElement?s.parentElement:s.parentNode)&&(n=e.u(s),i=e.H(s));if(i&&"BODY"!=n||(s=0),s&&!e.linkObject){var c=s.onclick?""+s.onclick:"";(0<=c.indexOf(".tl(")||0<=c.indexOf(".trackLink("))&&(s=0)}}else e.ha=1;if(!l&&s&&(l=e.va(s)),l&&!e.linkLeaveQueryString&&(a=l.indexOf("?"),a>=0&&(l=l.substring(0,a))),!o&&l){var d,u=0,_=0;if(e.trackDownloadLinks&&e.linkDownloadFileTypes)for(c=l.toLowerCase(),a=c.indexOf("?"),r=c.indexOf("#"),a>=0?r>=0&&a>r&&(a=r):a=r,a>=0&&(c=c.substring(0,a)),a=e.linkDownloadFileTypes.toLowerCase().split(","),r=0;r<a.length;r++)(d=a[r])&&c.substring(c.length-(d.length+1))=="."+d&&(o="d");if(e.trackExternalLinks&&!o&&(c=l.toLowerCase(),e.ya(c)&&(e.linkInternalFilters||(e.linkInternalFilters=t.location.hostname),a=0,e.linkExternalFilters?(a=e.linkExternalFilters.toLowerCase().split(","),u=1):e.linkInternalFilters&&(a=e.linkInternalFilters.toLowerCase().split(",")),a))){for(r=0;r<a.length;r++)d=a[r],0<=c.indexOf(d)&&(_=1);_?u&&(o="e"):u||(o="e")}}e.linkObject=s,e.linkURL=l,e.linkType=o,(e.trackClickMap||e.trackInlineStats)&&(e.e="",s&&(o=e.pageName,l=1,s=s.sourceIndex,o||(o=e.pageURL,l=0),t.s_objectID&&(i.id=t.s_objectID,s=i.type=1),o&&i&&i.id&&n&&(e.e="&pid="+e.escape(o.substring(0,255))+(l?"&pidt="+l:"")+"&oid="+e.escape(i.id.substring(0,100))+(i.type?"&oidt="+i.type:"")+"&ot="+n+(s?"&oi="+s:""))))},e.jb=function(){var t=e.ha,n=e.linkType,i=e.linkURL,a=e.linkName;if(n&&(i||a)&&(n=n.toLowerCase(),"d"!=n&&"e"!=n&&(n="o"),e.pe="lnk_"+n,e.pev1=i?e.escape(i):"",e.pev2=a?e.escape(a):"",t=1),e.abort&&(t=0),e.trackClickMap||e.trackInlineStats){var r,s,o,n={},i=0,l=e.cookieRead("s_sq"),c=l?l.split("&"):0,l=0;if(c)for(r=0;r<c.length;r++)s=c[r].split("="),a=e.unescape(s[0]).split(","),s=e.unescape(s[1]),n[s]=a;if(a=e.account.split(","),t||e.e){t&&!e.e&&(l=1);for(s in n)if(!Object.prototype[s])for(r=0;r<a.length;r++)for(l&&(o=n[s].join(","),o==e.account&&(e.e+=("&"!=s.charAt(0)?"&":"")+s,n[s]=[],i=1)),c=0;c<n[s].length;c++)o=n[s][c],o==a[r]&&(l&&(e.e+="&u="+e.escape(o)+("&"!=s.charAt(0)?"&":"")+s+"&u=0"),n[s].splice(c,1),i=1);if(t||(i=1),i){l="",r=2,!t&&e.e&&(l=e.escape(a.join(","))+"="+e.escape(e.e),r=1);for(s in n)!Object.prototype[s]&&r>0&&0<n[s].length&&(l+=(l?"&":"")+e.escape(n[s].join(","))+"="+e.escape(s),r--);e.cookieWrite("s_sq",l)}}}return t},e.kb=function(){if(!e.wb){var t,n,i=new Date,a=r.location,s=n=t="",o="",l="",c="1.2",d=e.cookieWrite("s_cc","true",0)?"Y":"N",u="",_="";if(i.setUTCDate&&(c="1.3",0..toPrecision&&(c="1.5",i=[],i.forEach))){c="1.6",n=0,t={};try{n=new Iterator(t),n.next&&(c="1.7",i.reduce&&(c="1.8",
c.trim&&(c="1.8.1",Date.parse&&(c="1.8.2",Object.create&&(c="1.8.5")))))}catch(p){}}t=screen.width+"x"+screen.height,s=navigator.javaEnabled()?"Y":"N",n=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,o=e.w.innerWidth?e.w.innerWidth:e.d.documentElement.offsetWidth,l=e.w.innerHeight?e.w.innerHeight:e.d.documentElement.offsetHeight;try{e.b.addBehavior("#default#homePage"),u=e.b.Bb(a)?"Y":"N"}catch(h){}try{e.b.addBehavior("#default#clientCaps"),_=e.b.connectionType}catch(g){}e.resolution=t,e.colorDepth=n,e.javascriptVersion=c,e.javaEnabled=s,e.cookiesEnabled=d,e.browserWidth=o,e.browserHeight=l,e.connectionType=_,e.homepage=u,e.wb=1}},e.L={},e.loadModule=function(n,i){var a=e.L[n];if(!a){a=t["AppMeasurement_Module_"+n]?new t["AppMeasurement_Module_"+n](e):{},e.L[n]=e[n]=a,a.Oa=function(){return a.Sa},a.Ta=function(t){(a.Sa=t)&&(e[n+"_onLoad"]=t,e.ba(n+"_onLoad",[e,a],1)||t(e,a))};try{Object.defineProperty?Object.defineProperty(a,"onLoad",{get:a.Oa,set:a.Ta}):a._olc=1}catch(r){a._olc=1}}i&&(e[n+"_onLoad"]=i,e.ba(n+"_onLoad",[e,a],1)||i(e,a))},e.l=function(t){var n,i;for(n in e.L)if(!Object.prototype[n]&&(i=e.L[n])&&(i._olc&&i.onLoad&&(i._olc=0,i.onLoad(e,i)),i[t]&&i[t]()))return 1;return 0},e.mb=function(){var t=Math.floor(1e13*Math.random()),n=e.visitorSampling,i=e.visitorSamplingGroup,i="s_vsn_"+(e.visitorNamespace?e.visitorNamespace:e.account)+(i?"_"+i:""),a=e.cookieRead(i);if(n){if(a&&(a=parseInt(a)),!a){if(!e.cookieWrite(i,t))return 0;a=t}if(a%1e4>v)return 0}return 1},e.M=function(t,n){var i,a,r,s,o,l;for(i=0;2>i;i++)for(a=i>0?e.oa:e.c,r=0;r<a.length;r++)if(s=a[r],(o=t[s])||t["!"+s]){if(!n&&("contextData"==s||"retrieveLightData"==s)&&e[s])for(l in e[s])o[l]||(o[l]=e[s][l]);e[s]=o}},e.Ha=function(t,n){var i,a,r,s;for(i=0;2>i;i++)for(a=i>0?e.oa:e.c,r=0;r<a.length;r++)s=a[r],t[s]=e[s],n||t[s]||(t["!"+s]=1)},e.eb=function(e){var t,n,i,a,r,s,o=0,l="",c="";if(e&&255<e.length&&(t=""+e,n=t.indexOf("?"),n>0&&(s=t.substring(n+1),t=t.substring(0,n),a=t.toLowerCase(),i=0,"http://"==a.substring(0,7)?i+=7:"https://"==a.substring(0,8)&&(i+=8),n=a.indexOf("/",i),n>0&&(a=a.substring(i,n),r=t.substring(n),t=t.substring(0,n),0<=a.indexOf("google")?o=",q,ie,start,search_key,word,kw,cd,":0<=a.indexOf("yahoo.co")&&(o=",p,ei,"),o&&s)))){if((e=s.split("&"))&&1<e.length){for(i=0;i<e.length;i++)a=e[i],n=a.indexOf("="),n>0&&0<=o.indexOf(","+a.substring(0,n)+",")?l+=(l?"&":"")+a:c+=(c?"&":"")+a;l&&c?s=l+"&"+c:c=""}n=253-(s.length-c.length)-t.length,e=t+(n>0?r.substring(0,n):"")+"?"+s}return e},e.Na=function(t){var n=e.d.visibilityState,i=["webkitvisibilitychange","visibilitychange"];if(n||(n=e.d.webkitVisibilityState),n&&"prerender"==n){if(t)for(n=0;n<i.length;n++)e.d.addEventListener(i[n],function(){var n=e.d.visibilityState;n||(n=e.d.webkitVisibilityState),"visible"==n&&t()});return!1}return!0},e.Y=!1,e.D=!1,e.Ua=function(){e.D=!0,e.i()},e.W=!1,e.Q=!1,e.Ra=function(t){e.marketingCloudVisitorID=t,e.Q=!0,e.i()},e.T=!1,e.N=!1,e.Ja=function(t){e.analyticsVisitorID=t,e.N=!0,e.i()},e.V=!1,e.P=!1,e.La=function(t){e.audienceManagerLocationHint=t,e.P=!0,e.i()},e.U=!1,e.O=!1,e.Ka=function(t){e.audienceManagerBlob=t,e.O=!0,e.i()},e.Ma=function(t){return e.maxDelay||(e.maxDelay=250),e.l("_d")?(t&&setTimeout(function(){t()},e.maxDelay),!1):!0},e.X=!1,e.C=!1,e.na=function(){e.C=!0,e.i()},e.isReadyToTrack=function(){var t=!0,n=e.visitor;return e.Y||e.D||(e.Na(e.Ua)?e.D=!0:e.Y=!0),e.Y&&!e.D?!1:(n&&n.isAllowed()&&(e.W||e.marketingCloudVisitorID||!n.getMarketingCloudVisitorID||(e.W=!0,e.marketingCloudVisitorID=n.getMarketingCloudVisitorID([e,e.Ra]),e.marketingCloudVisitorID&&(e.Q=!0)),e.T||e.analyticsVisitorID||!n.getAnalyticsVisitorID||(e.T=!0,e.analyticsVisitorID=n.getAnalyticsVisitorID([e,e.Ja]),e.analyticsVisitorID&&(e.N=!0)),e.V||e.audienceManagerLocationHint||!n.getAudienceManagerLocationHint||(e.V=!0,e.audienceManagerLocationHint=n.getAudienceManagerLocationHint([e,e.La]),e.audienceManagerLocationHint&&(e.P=!0)),e.U||e.audienceManagerBlob||!n.getAudienceManagerBlob||(e.U=!0,e.audienceManagerBlob=n.getAudienceManagerBlob([e,e.Ka]),e.audienceManagerBlob&&(e.O=!0)),e.W&&!e.Q&&!e.marketingCloudVisitorID||e.T&&!e.N&&!e.analyticsVisitorID||e.V&&!e.P&&!e.audienceManagerLocationHint||e.U&&!e.O&&!e.audienceManagerBlob)&&(t=!1),e.X||e.C||(e.Ma(e.na)?e.C=!0:e.X=!0),e.X&&!e.C&&(t=!1),t)},e.k=n,e.o=0,e.callbackWhenReadyToTrack=function(t,i,a){var r;r={},r.Ya=t,r.Xa=i,r.Va=a,e.k==n&&(e.k=[]),e.k.push(r),0==e.o&&(e.o=setInterval(e.i,100))},e.i=function(){var t;if(e.isReadyToTrack()&&(e.o&&(clearInterval(e.o),e.o=0),e.k!=n))for(;0<e.k.length;)t=e.k.shift(),t.Xa.apply(t.Ya,t.Va)},e.Pa=function(t){var i,a,r=n,s=n;if(!e.isReadyToTrack()){if(i=[],t!=n)for(a in r={},t)r[a]=t[a];return s={},e.Ha(s,!0),i.push(r),i.push(s),e.callbackWhenReadyToTrack(e,e.track,i),!0}return!1},e.hb=function(){var t,n=e.cookieRead("s_fid"),i="",a="";t=8;var r=4;if(!n||0>n.indexOf("-")){for(n=0;16>n;n++)t=Math.floor(Math.random()*t),i+="0123456789ABCDEF".substring(t,t+1),t=Math.floor(Math.random()*r),a+="0123456789ABCDEF".substring(t,t+1),t=r=16;n=i+"-"+a}return e.cookieWrite("s_fid",n,1)||(n=0),n},e.t=e.track=function(n,i){var a,s=new Date,o="s"+Math.floor(s.getTime()/108e5)%10+Math.floor(1e13*Math.random()),l=s.getYear(),l="t="+e.escape(s.getDate()+"/"+s.getMonth()+"/"+(1900>l?l+1900:l)+" "+s.getHours()+":"+s.getMinutes()+":"+s.getSeconds()+" "+s.getDay()+" "+s.getTimezoneOffset());e.visitor&&(e.visitor.fb&&(e.authState=e.visitor.fb()),!e.supplementalDataID&&e.visitor.getSupplementalDataID&&(e.supplementalDataID=e.visitor.getSupplementalDataID("AppMeasurement:"+e._in,!e.expectSupplementalData))),e.l("_s"),e.Pa(n)||(i&&e.M(i),n&&(a={},e.Ha(a,0),e.M(n)),e.mb()&&(e.analyticsVisitorID||e.marketingCloudVisitorID||(e.fid=e.hb()),e.rb(),e.usePlugins&&e.doPlugins&&e.doPlugins(e),e.account&&(e.abort||(e.trackOffline&&!e.timestamp&&(e.timestamp=Math.floor(s.getTime()/1e3)),s=t.location,e.pageURL||(e.pageURL=s.href?s.href:s),e.referrer||e.Ia||(e.referrer=r.document.referrer),e.Ia=1,e.referrer=e.eb(e.referrer),e.l("_g")),e.jb()&&!e.abort&&(e.kb(),l+=e.ib(),e.qb(o,l),e.l("_t"),e.referrer=""))),n&&e.M(a,1)),e.abort=e.supplementalDataID=e.timestamp=e.pageURLRest=e.linkObject=e.clickObject=e.linkURL=e.linkName=e.linkType=t.s_objectID=e.pe=e.pev1=e.pev2=e.pev3=e.e=e.lightProfileID=0},e.tl=e.trackLink=function(t,n,i,a,r){return e.linkObject=t,e.linkType=n,e.linkName=i,r&&(e.j=t,e.q=r),e.track(a)},e.trackLight=function(t,n,i,a){return e.lightProfileID=t,e.lightStoreForSeconds=n,e.lightIncrementBy=i,e.track(a)},e.clearVars=function(){var t,n;for(t=0;t<e.c.length;t++)n=e.c[t],("prop"==n.substring(0,4)||"eVar"==n.substring(0,4)||"hier"==n.substring(0,4)||"list"==n.substring(0,4)||"channel"==n||"events"==n||"eventList"==n||"products"==n||"productList"==n||"purchaseID"==n||"transactionID"==n||"state"==n||"zip"==n||"campaign"==n)&&(e[n]=void 0)},e.tagContainerMarker="",e.qb=function(t,n){var i,a=e.trackingServer;i="";var r=e.dc,s="sc.",o=e.visitorNamespace;a?e.trackingServerSecure&&e.ssl&&(a=e.trackingServerSecure):(o||(o=e.account,a=o.indexOf(","),a>=0&&(o=o.substring(0,a)),o=o.replace(/[^A-Za-z0-9]/g,"")),i||(i="2o7.net"),r=r?(""+r).toLowerCase():"d1","2o7.net"==i&&("d1"==r?r="112":"d2"==r&&(r="122"),s=""),a=o+"."+r+"."+s+i),i=e.ssl?"https://":"http://",r=e.AudienceManagement&&e.AudienceManagement.isReady(),i+=a+"/b/ss/"+e.account+"/"+(e.mobile?"5.":"")+(r?"10":"1")+"/JS-"+e.version+(e.vb?"T":"")+(e.tagContainerMarker?"-"+e.tagContainerMarker:"")+"/"+t+"?AQB=1&ndh=1&pf=1&"+(r?"callback=s_c_il["+e._in+"].AudienceManagement.passData&":"")+n+"&AQE=1",e.bb(i),e.da()},e.bb=function(t){e.g||e.lb(),e.g.push(t),e.fa=e.r(),e.Fa()},e.lb=function(){e.g=e.nb(),e.g||(e.g=[])},e.nb=function(){var n,i;if(e.ka()){try{(i=t.localStorage.getItem(e.ia()))&&(n=t.JSON.parse(i))}catch(a){}return n}},e.ka=function(){var n=!0;return e.trackOffline&&e.offlineFilename&&t.localStorage&&t.JSON||(n=!1),n},e.wa=function(){var t=0;return e.g&&(t=e.g.length),e.v&&t++,t},e.da=function(){if(!e.v)if(e.xa=n,e.ja)e.fa>e.J&&e.Da(e.g),e.ma(500);else{var t=e.Wa();t>0?e.ma(t):(t=e.ua())&&(e.v=1,e.pb(t),e.tb(t))}},e.ma=function(t){e.xa||(t||(t=0),e.xa=setTimeout(e.da,t))},e.Wa=function(){var t;return!e.trackOffline||0>=e.offlineThrottleDelay?0:(t=e.r()-e.Ca,e.offlineThrottleDelay<t?0:e.offlineThrottleDelay-t)},e.ua=function(){return 0<e.g.length?e.g.shift():void 0},e.pb=function(t){if(console.logTracking){var n="AppMeasurement Debug: "+t;t=t.split("&");var i;for(i=0;i<t.length;i++)n+="\n	"+e.unescape(t[i]);e.ob(n)}},e.Qa=function(){return e.marketingCloudVisitorID||e.analyticsVisitorID},e.S=!1;var o;try{o=JSON.parse('{"x":"y"}')}catch(c){o=null}o&&"y"==o.x?(e.S=!0,e.R=function(e){return JSON.parse(e)}):t.$&&t.$.parseJSON?(e.R=function(e){return t.$.parseJSON(e)},e.S=!0):e.R=function(){return null},e.tb=function(n){var i,a,r;if(e.Qa()&&2047<n.length&&("undefined"!=typeof XMLHttpRequest&&(i=new XMLHttpRequest,"withCredentials"in i?a=1:i=0),i||"undefined"==typeof XDomainRequest||(i=new XDomainRequest,a=2),i&&e.AudienceManagement&&e.AudienceManagement.isReady()&&(e.S?i.pa=!0:i=0)),!i&&e.Ga&&(n=n.substring(0,2047)),!i&&e.d.createElement&&e.AudienceManagement&&e.AudienceManagement.isReady()&&(i=e.d.createElement("SCRIPT"))&&"async"in i&&((r=(r=e.d.getElementsByTagName("HEAD"))&&r[0]?r[0]:e.d.body)?(i.type="text/javascript",i.setAttribute("async","async"),a=3):i=0),i||(i=new Image,i.alt=""),i.ra=function(){try{e.la&&(clearTimeout(e.la),e.la=0),i.timeout&&(clearTimeout(i.timeout),i.timeout=0)}catch(t){}},i.onload=i.ub=function(){if(i.ra(),e.ab(),e.Z(),e.v=0,e.da(),i.pa){i.pa=!1;try{var t=e.R(i.responseText);e.AudienceManagement.passData(t)}catch(n){}}},i.onabort=i.onerror=i.cb=function(){i.ra(),(e.trackOffline||e.ja)&&e.v&&e.g.unshift(e.$a),e.v=0,e.fa>e.J&&e.Da(e.g),e.Z(),e.ma(500)},i.onreadystatechange=function(){4==i.readyState&&(200==i.status?i.ub():i.cb())},e.Ca=e.r(),1==a||2==a){var s=n.indexOf("?");r=n.substring(0,s),s=n.substring(s+1),s=s.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),1==a?(i.open("POST",r,!0),i.send(s)):2==a&&(i.open("POST",r),i.send(s))}else if(i.src=n,3==a){if(e.Aa)try{r.removeChild(e.Aa)}catch(o){}r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),e.Aa=e.Za}i.abort&&(e.la=setTimeout(i.abort,5e3)),e.$a=n,e.Za=t["s_i_"+e.replace(e.account,",","_")]=i,(e.useForcedLinkTracking&&e.F||e.q)&&(e.forcedLinkTrackingTimeout||(e.forcedLinkTrackingTimeout=250),e.aa=setTimeout(e.Z,e.forcedLinkTrackingTimeout))},e.ab=function(){if(e.ka()&&!(e.Ba>e.J))try{t.localStorage.removeItem(e.ia()),e.Ba=e.r()}catch(n){}},e.Da=function(n){if(e.ka()){e.Fa();try{t.localStorage.setItem(e.ia(),t.JSON.stringify(n)),e.J=e.r()}catch(i){}}},e.Fa=function(){if(e.trackOffline)for((!e.offlineLimit||0>=e.offlineLimit)&&(e.offlineLimit=10);e.g.length>e.offlineLimit;)e.ua()},e.forceOffline=function(){e.ja=!0},e.forceOnline=function(){e.ja=!1},e.ia=function(){return e.offlineFilename+"-"+e.visitorNamespace+e.account},e.r=function(){return(new Date).getTime()},e.ya=function(e){return e=e.toLowerCase(),0!=e.indexOf("#")&&0!=e.indexOf("about:")&&0!=e.indexOf("opera:")&&0!=e.indexOf("javascript:")},e.setTagContainer=function(t){var n,i,a;for(e.vb=t,n=0;n<e._il.length;n++)if((i=e._il[n])&&"s_l"==i._c&&i.tagContainerName==t){if(e.M(i),i.lmq)for(n=0;n<i.lmq.length;n++)a=i.lmq[n],e.loadModule(a.n);if(i.ml)for(a in i.ml)if(e[a])for(n in t=e[a],a=i.ml[a])!Object.prototype[n]&&("function"!=typeof a[n]||0>(""+a[n]).indexOf("s_c_il"))&&(t[n]=a[n]);if(i.mmq)for(n=0;n<i.mmq.length;n++)a=i.mmq[n],e[a.m]&&(t=e[a.m],t[a.f]&&"function"==typeof t[a.f]&&(a.a?t[a.f].apply(t,a.a):t[a.f].apply(t)));if(i.tq)for(n=0;n<i.tq.length;n++)e.track(i.tq[n]);i.s=e;break}},e.Util={urlEncode:e.escape,urlDecode:e.unescape,cookieRead:e.cookieRead,cookieWrite:e.cookieWrite,getQueryParam:function(n,i,a){var r;return i||(i=e.pageURL?e.pageURL:t.location),a||(a="&"),n&&i&&(i=""+i,r=i.indexOf("?"),r>=0&&(i=a+i.substring(r+1)+a,r=i.indexOf(a+n+"="),r>=0&&(i=i.substring(r+a.length+n.length+1),r=i.indexOf(a),r>=0&&(i=i.substring(0,r)),0<i.length)))?e.unescape(i):""}},e.A="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" "),e.c=e.A.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" ")),e.ga="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" "),e.K=e.ga.slice(0),e.oa="account allAccounts debugTracking visitor trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData AudienceManagement".split(" ");for(i=0;250>=i;i++)76>i&&(e.c.push("prop"+i),e.K.push("prop"+i)),e.c.push("eVar"+i),e.K.push("eVar"+i),6>i&&e.c.push("hier"+i),4>i&&e.c.push("list"+i);i="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest".split(" "),e.c=e.c.concat(i),e.A=e.A.concat(i),e.ssl=0<=t.location.protocol.toLowerCase().indexOf("https"),e.charSet="UTF-8",e.contextData={},e.offlineThrottleDelay=0,e.offlineFilename="AppMeasurement.offline",e.Ca=0,e.fa=0,e.J=0,e.Ba=0,e.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",e.w=t,e.d=t.document;try{if(e.Ga=!1,navigator){var d=navigator.userAgent;("Microsoft Internet Explorer"==navigator.appName||0<=d.indexOf("MSIE ")||0<=d.indexOf("Trident/")&&0<=d.indexOf("Windows NT 6"))&&(e.Ga=!0)}}catch(u){}e.Z=function(){e.aa&&(t.clearTimeout(e.aa),e.aa=n),e.j&&e.F&&e.j.dispatchEvent(e.F),e.q&&("function"==typeof e.q?e.q():e.j&&e.j.href&&(e.d.location=e.j.href)),e.j=e.F=e.q=0},e.Ea=function(){e.b=e.d.body,e.b?(e.p=function(n){var i,a,r,s,o;if(!(e.d&&e.d.getElementById("cppXYctnr")||n&&n["s_fe_"+e._in])){if(e.qa){if(!e.useForcedLinkTracking)return e.b.removeEventListener("click",e.p,!0),void(e.qa=e.useForcedLinkTracking=0);e.b.removeEventListener("click",e.p,!1)}else e.useForcedLinkTracking=0;e.clickObject=n.srcElement?n.srcElement:n.target;try{if(!e.clickObject||e.I&&e.I==e.clickObject||!(e.clickObject.tagName||e.clickObject.parentElement||e.clickObject.parentNode))e.clickObject=0;else{var l=e.I=e.clickObject;if(e.ea&&(clearTimeout(e.ea),e.ea=0),e.ea=setTimeout(function(){e.I==l&&(e.I=0)},1e4),r=e.wa(),e.track(),r<e.wa()&&e.useForcedLinkTracking&&n.target){for(s=n.target;s&&s!=e.b&&"A"!=s.tagName.toUpperCase()&&"AREA"!=s.tagName.toUpperCase();)s=s.parentNode;if(s&&(o=s.href,e.ya(o)||(o=0),a=s.target,n.target.dispatchEvent&&o&&(!a||"_self"==a||"_top"==a||"_parent"==a||t.name&&a==t.name))){try{i=e.d.createEvent("MouseEvents")}catch(c){i=new t.MouseEvent}if(i){try{i.initMouseEvent("click",n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget)}catch(d){i=0}i&&(i["s_fe_"+e._in]=i.s_fe=1,n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),n.preventDefault(),e.j=n.target,e.F=i)}}}}}catch(u){e.clickObject=0}}},e.b&&e.b.attachEvent?e.b.attachEvent("onclick",e.p):e.b&&e.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&e.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&t.MouseEvent)&&(e.qa=1,e.useForcedLinkTracking=1,e.b.addEventListener("click",e.p,!0)),e.b.addEventListener("click",e.p,!1))):setTimeout(e.Ea,30)},e.Ea()},AppMeasurement.getInstance=e,window.s_objectID||(window.s_objectID=0),t()},AppMeasurement.getInstance=s_gi,window.s_objectID||(window.s_objectID=0),s_pgicq(),function(){var P="SDK_"+"6.1.0-r10810-201505040406".replace(/[^\w]/g,"_"),u="undefined"!=typeof window?window:"undefined"!=typeof GLOBAL?GLOBAL:this;return u.tv=u.tv||{},u.tv.freewheel=u.tv.freewheel||{},u.tv.freewheel[P]=function(u){var a={version:"js-6.1.0-r10810-201505040406"};return"undefined"!=typeof window&&(window._fw_admanager=window._fw_admanager||{},window._fw_admanager.version=a.version),a.LOG_LEVEL_QUIET=0,a.LOG_LEVEL_INFO=1,a.LOG_LEVEL_DEBUG=2,a.setLogLevel=function(e){"undefined"!=typeof console&&e>a.LOG_LEVEL_QUIET?(a.log=function(){},a.log=function(){},a.log=e>a.LOG_LEVEL_INFO?function(){}:function(){}):a.log=a.log=a.log=function(){}},a.setLogLevel(a.LOG_LEVEL_INFO),function(){var e=navigator.userAgent.toLowerCase();a.PLATFORM_IS_WINDOWSPHONE=-1<e.search("windows phone os"),a.PLATFORM_IS_IPAD=-1<e.search("ipad"),a.PLATFORM_IS_IPHONE_IPOD=-1<e.search("iphone")||-1<e.search("ipod"),a.PLATFORM_IE_MOBILE_VERSION=function(){var t=e.search(/iemobile\/\d\.\d/);if(t>-1){var n=e.substr(t+9,1),t=e.substr(t+11,1);return 1*n+.1*t}return 0}(),a.PLATFORM_IOS_VERSION=function(){var t=e.search(/os \d_\d/);if(t>-1){var n=e.substr(t+3,1),t=e.substr(t+5,1);return 1*n+.1*t}return 0}(),a.PLATFORM_ANDROID_VERSION=function(){var t=e.search(/android \d\.\d/);if(t>-1){var n=e.substr(t+8,1),t=e.substr(t+10,1);return 1*n+.1*t}return-1<e.indexOf("transformer")?3.2:0}(),a.PLATFORM_IS_SAFARI=0<a.PLATFORM_IOS_VERSION&&-1<e.search("applewebkit")||0===a.PLATFORM_ANDROID_VERSION&&0>e.search("chrome")&&-1<e.search("safari"),a.PLATFORM_IS_MOBILE=0<a.PLATFORM_IOS_VERSION||0<a.PLATFORM_ANDROID_VERSION,a.PLATFORM_ID=a.PLATFORM_IS_MOBILE?0<a.PLATFORM_ANDROID_VERSION?"Android"+a.PLATFORM_ANDROID_VERSION:a.PLATFORM_IS_IPAD?"iPad"+a.PLATFORM_IOS_VERSION:a.PLATFORM_IS_IPHONE_IPOD?"iPhone"+a.PLATFORM_IOS_VERSION:"UnknownMobile":"Desktop"}(),a.PLATFORM_EVENT_CLICK=a.PLATFORM_IS_MOBILE?"touchend":"click",a.MOBILE_EVENT_DRAG="touchmove",a.PLATFORM_SEND_REQUEST_BY_FORM=!1,a.PLATFORM_HIDE_AND_SHOW_CONTENT_VIDEO_BY_MOVE_POSITION=3.1<=a.PLATFORM_ANDROID_VERSION,a.PLATFORM_HIDE_AND_SHOW_CONTENT_VIDEO_BY_SET_DISPLAY=!0,a.PLATFORM_SUPPORT_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT=a.PLATFORM_IS_IPAD||a.PLATFORM_IS_IPHONE_IPOD,a.PLATFORM_AUTO_SEEK_AFTER_MIDROLL=a.PLATFORM_IS_IPAD,a.PLATFORM_NOT_SUPPORT_OVERLAY_AD=a.PLATFORM_IS_IPHONE_IPOD||0<a.PLATFORM_ANDROID_VERSION&&3.1>a.PLATFORM_ANDROID_VERSION||a.PLATFORM_IS_WINDOWSPHONE,a.PLATFORM_FILL_VIDEO_POOL_FOR_MIDROLL=4.2<=a.PLATFORM_IOS_VERSION,a.PLATFORM_NOT_SUPPORT_MIDROLL_AD=2.2<=a.PLATFORM_ANDROID_VERSION&&3>=a.PLATFORM_ANDROID_VERSION||9<=a.PLATFORM_IE_MOBILE_VERSION,a.PLATFORM_NOT_SUPPORT_VIDEO_AD=0<a.PLATFORM_ANDROID_VERSION&&2.1>=a.PLATFORM_ANDROID_VERSION,a.PLATFORM_DETECT_FULL_SCREEN_FOR_MIDROLL=a.PLATFORM_IS_IPAD&&4.2<=a.PLATFORM_IOS_VERSION,a.PLATFORM_NOT_SUPPORT_CLICK_FOR_VIDEO=a.PLATFORM_IS_IPHONE_IPOD||a.PLATFORM_IS_WINDOWSPHONE,a.PLATFORM_NOT_FIRE_CLICK_WHEN_AD_VIDEO_PAUSED=3.1<=a.PLATFORM_ANDROID_VERSION,a.PLATFORM_WAIT_WHEN_AD_VIDEO_TIMEOUT=0<a.PLATFORM_ANDROID_VERSION&&3>=a.PLATFORM_ANDROID_VERSION,a.PLATFORM_VIDEO_DOESNOT_SUPPORT_TIMEUPDATE=9<=a.PLATFORM_IE_MOBILE_VERSION,a.PLATFORM_PLAY_DUMMY_VIDEO_FOR_PREROLL=0<a.PLATFORM_IOS_VERSION&&4.2>a.PLATFORM_IOS_VERSION&&4<=a.PLATFORM_IOS_VERSION,a.PLATFORM_NOT_WAIT_FOR_ERROR_WHEN_PLAY_DUMMY_VIDEO_FOR_PREROLL=!1,a.PLATFORM_SUPPORT_VIDEO_START_DETECT_TIMEOUT=0===a.PLATFORM_IOS_VERSION||4<=a.PLATFORM_IOS_VERSION&&4.2>a.PLATFORM_IOS_VERSION,a.PLATFORM_NOT_SUPPORT_OVERLAY_CLICK_WHEN_CONTROLS_IS_TRUE=a.PLATFORM_IS_IPAD,a.RENDERER_STATE_INIT=1,a.RENDERER_STATE_STARTING=2,a.RENDERER_STATE_STARTED=3,a.RENDERER_STATE_COMPLETING=4,a.RENDERER_STATE_COMPLETED=5,a.RENDERER_STATE_FAILED=6,a.TRANSLATOR_STATE_INIT=a.RENDERER_STATE_INIT,a.TRANSLATOR_STATE_STARTING=a.RENDERER_STATE_STARTING,a.TRANSLATOR_STATE_STARTED=a.RENDERER_STATE_STARTED,a.TRANSLATOR_STATE_COMPLETING=a.RENDERER_STATE_COMPLETING,a.TRANSLATOR_STATE_COMPLETED=a.RENDERER_STATE_COMPLETED,a.TRANSLATOR_STATE_FAILED=a.RENDERER_STATE_FAILED,a.EVENT_AD="adEvent",a.EVENT_SLOT_IMPRESSION="slotImpression",a.EVENT_SLOT_END="slotEnd",a.EVENT_AD_IMPRESSION="defaultImpression",a.EVENT_AD_IMPRESSION_END="adEnd",a.EVENT_AD_QUARTILE="quartile",a.EVENT_AD_FIRST_QUARTILE="firstQuartile",a.EVENT_AD_MIDPOINT="midPoint",a.EVENT_AD_THIRD_QUARTILE="thirdQuartile",a.EVENT_AD_COMPLETE="complete",a.EVENT_AD_CLICK="defaultClick",a.EVENT_AD_MUTE="_mute",a.EVENT_AD_UNMUTE="_un-mute",a.EVENT_AD_COLLAPSE="_collapse",a.EVENT_AD_EXPAND="_expand",a.EVENT_AD_PAUSE="_pause",a.EVENT_AD_RESUME="_resume",a.EVENT_AD_REWIND="_rewind",a.EVENT_AD_ACCEPT_INVITATION="_accept-invitation",a.EVENT_AD_CLOSE="_close",a.EVENT_AD_MINIMIZE="_minimize",a.EVENT_ERROR="_e_unknown",a.EVENT_RESELLER_NO_AD="resellerNoAd",a.INFO_KEY_CUSTOM_ID="customId",a.INFO_KEY_MODULE_TYPE="moduleType",a.MODULE_TYPE_EXTENSION="extension",a.MODULE_TYPE_RENDERER="renderer",a.MODULE_TYPE_TRANSLATOR="translator",a.INFO_KEY_ERROR_CODE="errorCode",a.INFO_KEY_ERROR_INFO="errorInfo",a.INFO_KEY_ERROR_MODULE="errorModule",a.ERROR_IO="_e_io",a.ERROR_TIMEOUT="_e_timeout",a.ERROR_NULL_ASSET="_e_null-asset",a.ERROR_ADINSTANCE_UNAVAILABLE="_e_adinst-unavail",a.ERROR_UNKNOWN="_e_unknown",a.ERROR_MISSING_PARAMETER="_e_missing-param",a.ERROR_NO_AD_AVAILABLE="_e_no-ad",a.ERROR_PARSE="_e_parse",a.ERROR_INVALID_VALUE="_e_invalid-value",a.ERROR_INVALID_SLOT="_e_invalid-slot",a.ERROR_NO_RENDERER="_e_no-renderer",a.ERROR_DEVICE_LIMIT="_e_device-limit",a.ERROR_3P_COMPONENT="_e_3p-comp",a.ERROR_UNSUPPORTED_3P_FEATURE="_e_unsupp-3p-feature",a.ERROR_SECURITY="_e_security",a.ERROR_UNMATCHED_SLOT_SIZE="_e_slot-size-unmatch",a.INFO_KEY_URL="url",a.INFO_KEY_SHOW_BROWSER="showBrowser",a.INFO_KEY_CUSTOM_EVENT_NAME="customEventName",a.INFO_KEY_NEED_EMPTY_CT="needEmptyCT",a.EVENT_TYPE_CLICK_TRACKING="CLICKTRACKING",a.EVENT_TYPE_IMPRESSION="IMPRESSION",a.EVENT_TYPE_CLICK="CLICK",a.EVENT_TYPE_STANDARD="STANDARD",a.EVENT_TYPE_GENERIC="GENERIC",a.EVENT_TYPE_ERROR="ERROR",a.EVENT_VIDEO_VIEW="videoView",a.SHORT_EVENT_TYPE_IMPRESSION="i",a.SHORT_EVENT_TYPE_CLICK="c",a.SHORT_EVENT_TYPE_STANDARD="s",a.SHORT_EVENT_TYPE_ERROR="e",a.INIT_VALUE_ZERO="0",a.INIT_VALUE_ONE="1",a.INIT_VALUE_TWO="2",a.INFO_KEY_PARAMETERS="parameters",a.URL_PARAMETER_KEY_ET="et",a.URL_PARAMETER_KEY_CN="cn",a.URL_PARAMETER_KEY_INIT="init",a.URL_PARAMETER_KEY_CT="ct",a.URL_PARAMETER_KEY_METR="metr",a.URL_PARAMETER_KEY_CR="cr",a.URL_PARAMETER_KEY_KEY_VALUE="kv",a.URL_PARAMETER_KEY_ERROR_INFO="additional",a.URL_PARAMETER_KEY_ERROR_MODULE="renderer",a.URL_PARAMETER_KEY_CREATIVE_RENDITION_ID="reid",a.CAPABILITY_SLOT_TEMPLATE="sltp",a.CAPABILITY_DISPLAY_REFRESH="rfnt",a.CAPABILITY_MULTIPLE_CREATIVE_RENDITIONS="emcr",a.CAPABILITY_RECORD_VIDEO_VIEW="exvt",a.CAPABILITY_CHECK_COMPANION="cmpn",a.CAPABILITY_CHECK_TARGETING="targ",a.CAPABILITY_FALLBACK_UNKNOWN_ASSET="unka",a.CAPABILITY_FALLBACK_UNKNOWN_SITE_SECTION="unks",a.CAPABILITY_FALLBACK_ADS="fbad",a.CAPABILITY_SLOT_CALLBACK="slcb",a.CAPABILITY_NULL_CREATIVE="nucr",a.CAPABILITY_AUTO_EVENT_TRACKING="aeti",a.CAPABILITY_RENDERER_MANIFEST="rema",a.CAPABILITY_REQUIRE_VIDEO_CALLBACK="vicb",a.CAPABILITY_SKIP_AD_SELECTION="skas",a.SLOT_TYPE_TEMPORAL="temporal",a.SLOT_TYPE_VIDEOPLAYER_NONTEMPORAL="videoPlayerNonTemporal",a.SLOT_TYPE_SITESECTION_NONTEMPORAL="siteSectionNonTemporal",a.TIME_POSITION_CLASS_PREROLL="PREROLL",a.TIME_POSITION_CLASS_MIDROLL="MIDROLL",a.TIME_POSITION_CLASS_POSTROLL="POSTROLL",a.TIME_POSITION_CLASS_OVERLAY="OVERLAY",a.TIME_POSITION_CLASS_DISPLAY="DISPLAY",a.TIME_POSITION_CLASS_PAUSE_MIDROLL="PAUSE_MIDROLL",a.EVENT_REQUEST_COMPLETE="onRequestComplete",a.EVENT_SLOT_STARTED="onSlotStarted",a.EVENT_SLOT_ENDED="onSlotEnded",a.EVENT_CONTENT_VIDEO_PAUSE_REQUEST="contentVideoPauseRequest",a.EVENT_CONTENT_VIDEO_RESUME_REQUEST="contentVideoResumeRequest",a.CAPABILITY_STATUS_OFF=0,a.CAPABILITY_STATUS_ON=1,a.PARAMETER_LEVEL_PROFILE=0,a.PARAMETER_LEVEL_GLOBAL=1,a.PARAMETER_LEVEL_OVERRIDE=5,a.PARAMETER_ENABLE_FORM_TRANSPORT="sdk.enableFormTransport",a.PARAMETER_DESIRED_BITRATE="desiredBitrate",a.PARAMETER_VIDEO_POOL_SIZE="sdk.videoPoolSize",a.PARAMETER_PAGE_SLOT_CONTENT_TYPE="sdk.pageSlotContentType",a.PARAMETER_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT="PARAMETER_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT",a.PARAMETER_EXTENSION_AD_CONTROL_CLICK_ELEMENT="extension.ad.control.clickElement",a.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED="extension.contentVideo.enabled",a.PARAMETER_EXTENSION_CONTENT_VIDEO_RESPOND_PAUSE_RESUME="extension.contentVideo.respondPauseResume",a.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SEEK_BACK="extension.contentVideo.autoSeekBack",a.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE="extension.contentVideo.autoSourceRestore",a.PARAMETER_EXTENSION_VIDEO_STATE_ENABLED="extension.videoState.enabled",a.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT="renderer.video.startDetectTimeout",a.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT="renderer.video.progressDetectTimeout",a.PARAMETER_RENDERER_VIDEO_ANDROID_DELAY="renderer.video.android.delay",a.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE="renderer.video.displayControlsWhenPause",a.PARAMETER_RENDERER_VIDEO_CLICK_DETECTION="renderer.video.clickDetection",a.PARAMETER_RENDERER_VIDEO_PLAY_AFTER_STALLED="renderer.video.playAfterStalled",a.PARAMETER_EXTENSION_SURVEY_ENABLED="extension.survey.enabled",a.PARAMETER_RENDERER_HTML_COAD_SCRIPT_NAME="renderer.html.coadScriptName",a.PARAMETER_RENDERER_HTML_SHOULD_BACKGROUND_TRANSPARENT="renderer.html.isBackgroundTransparent",a.PARAMETER_RENDERER_HTML_SHOULD_END_AFTER_DURATION="renderer.html.shouldEndAfterDuration",a.PARAMETER_RENDERER_HTML_AD_LOAD_TIMEOUT="renderer.html.adLoadTimeout",a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE="renderer.html.placementType",a.PARAMETER_RENDERER_HTML_BOOTSTRAP="renderer.html.bootstrap",a.PARAMETER_RENDERER_HTML_PRIMARY_ANCHOR="renderer.html.primaryAnchor",a.PARAMETER_RENDERER_HTML_MARGIN_WIDTH="renderer.html.marginWidth",a.PARAMETER_RENDERER_HTML_MARGIN_HEIGHT="renderer.html.marginHeight",a.PARAMETER_VPAID_CREATIVE_TIMEOUT_DELAY="renderer.vpaid.creativeTimeoutDelay",a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE_INLINE="inline",a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE_INTERSTITIAL="interstitial",a.PARAMETER_RENDERER_HTML_BASEUNIT_INTERSTITIAL="app-interstitial",a.ID_TYPE_FW=1,a.ID_TYPE_CUSTOM=2,a.ID_TYPE_GROUP=3,a.VIDEO_STATE_PLAYING=1,a.VIDEO_STATE_PAUSED=2,a.VIDEO_STATE_STOPPED=3,a.VIDEO_STATE_COMPLETED=4,a.VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED=1,a.VIDEO_ASSET_AUTO_PLAY_TYPE_UNATTENDED=2,a.VIDEO_ASSET_AUTO_PLAY_TYPE_NONE=3,a.VIDEO_ASSET_AUTO_PLAY_TYPE_NON_AUTO_PLAY=3,a.ADUNIT_PREROLL="preroll",a.ADUNIT_MIDROLL="midroll",a.ADUNIT_POSTROLL="postroll",a.ADUNIT_OVERLAY="overlay",a.SLOT_LOCATION_PLAYER="player",a.SLOT_LOCATION_EXTERNAL="external",a.SLOT_OPTION_INITIAL_AD_STAND_ALONE=0,a.SLOT_OPTION_INITIAL_AD_KEEP_ORIGINAL=1,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_ONLY=2,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_STAND_ALONE=3,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_THEN_STAND_ALONE=4,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE=5,a.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE=6,a.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE_IF_TEMPORAL=7,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE_IF_TEMPORAL=8,a.Util={canPlayVideoType:function(e){if(a.PLATFORM_IS_SAFARI&&("video/ogg"==e||"video/webm"==e))return!1;if(1<a.PLATFORM_ANDROID_VERSION&&"video/m4v"==e)return!0;if("video/3gp"==e&&(e="video/3gpp"),3<=a.PLATFORM_ANDROID_VERSION&&"video/3gpp"==e)return!0;var t=document.createElement("video");return t.canPlayType?!(!t.canPlayType(e)&&!t.canPlayType(e.replace("/","/x-"))):!1},str2bool:function(e){return e?(e=a.Util.trim(e).toLowerCase(),"true"==e||"yes"==e||"on"==e||"1"==e):!1},trim:function(e){return"string"!=typeof e?e.toString():e.replace(/^\s+|\s+$/g,"")},isBlank:function(e){return!e||""===a.Util.trim(e)},encodeToHex:function(e){for(var t="",n=0;n<e.length;n++){for(var i=e.charCodeAt(n).toString(16).toUpperCase();4>i.length;)i="0"+i;t+="\\u"+i.toUpperCase()}return t},forEachOnArray:function(e,t,n){var i;if(null==e)throw new TypeError(" array is null or not defined");var e=Object(e),a=e.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(n&&(i=n),n=0;a>n;){var r;n in e&&(r=e[n],t.call(i,r,n,e)),n++}},mixin:function(e,t){var n,i={};for(n in t)"undefined"!=typeof i[n]&&i[n]==t[n]||(e[n]=t[n]);return e},copy:function(e){return a.Util.mixin({},e)},bind:function(e,t){var n=Array.prototype.slice.call(arguments);return n.shift(),t=n.shift(),function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},getObject:function(e,t,n){if(!e)return null;for(var i,e=e.split("."),t=t||window,a=0;t&&(i=e[a]);a++)t=i in t?t[i]:n?t[i]={}:void 0;return t},buildNode:function(b,c,d,f,g){d||(d=document);var h=null!=navigator.userAgent.match(/Firefox/);b.innerHTML=c||"";for(var b=b.getElementsByTagName("script"),i=d.getElementsByTagName("head")[0],c=0;c<b.length;++c)if(h||b[c].src){var k=d.createElement("script");b[c].charset&&(k.charset=b[c].charset),b[c].src&&(k.src=b[c].src),b[c].innerHTML&&(k.innerHTML=b[c].innerHTML),k.onload=k.onreadystatechange=function(){(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)&&i.removeChild(k)};try{i.appendChild(k)}catch(j){}}else k=b[c].innerHTML,f&&(k=k.replace(/var fw_scope = document;/,"var fw_scope="+f+";")),g&&(k=k.replace(/var fw_scope_window = window;/,"var fw_scope_window="+g+";")),eval(k)},replacePageSlot:function(e,t,n){var i,r,s;try{i=document.getElementById(e)?document:parent.document.getElementById(e)?parent.document:null,r=document.getElementById(e)?"window":parent.document.getElementById(e)?"parent":null}catch(o){r=i=null}if(!i)for(var l=0;l<window.frames.length;l++)try{window.frames[l].document.getElementById(e)&&(i=window.frames[l].document,r="window.frames["+l+"]")}catch(c){}if(r&&(s=r+".document"),!i)throw"Slot element not found: "+e;l=n?i.getElementById(n):i.getElementById("_fw_container_"+e),a.Util.buildNode(l,t,i,s,r)},pingURLWithImage:function(e){new Image(1,1).src=e},pingURLWithForm:function(e,t,n){n=n?"_fw_request":"_fw_cb",null==t&&(t=Math.random());var i=document.createElement("iframe");i.name=n+"_iframe_"+t,i.id=n+"_iframe_"+t,i.style.position="absolute",i.style.left="-10000px",i.style.width="1px",i.style.visibility="hidden";var a=document.createElement("form");a.action=e,a.id=n+"_form_"+t,a.target=i.id,a.method="post",a.style.position="absolute",a.style.left="-10000px",a.style.width="1px",a.style.visibility="hidden",document.body&&(document.body.appendChild(i),document.body.appendChild(a),a.submit(),document.body.removeChild(a))},pingURLWithScript:function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.src=e,n.onload=n.onreadystatechange=function(){(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)&&t.removeChild(n)},t.appendChild(n)},pingURL:function(e){e&&(a.PLATFORM_SEND_REQUEST_BY_FORM?a.Util.pingURLWithForm(e,null,!1):a.Util.pingURLWithImage(e))},pingURLs:function(e){for(var t=0;t<e.length;t++)a.Util.pingURL(e[t])},setParameterInURL:function(e,t,n){if(!e||!t||null==n)return null;var i,a,r=!1,e=e.split("?"),n=encodeURIComponent(n);if(e[1]){a=e[1].split("&");for(var s=0;s<a.length;++s)if(i=a[s].split("="),i[0]==t){a[s]=i[0]+"="+n,r=!0;break}i=a.join("&"),r||(i=t+"="+n+"&"+i)}else i=t+"="+n;return i=e[0]+"?"+i},getParameterInURL:function(e,t){if(!e||!t)return null;var n=e.split("?");if(n[1])for(var n=n[1].split("&"),i=0;i<n.length;++i){
var r=n[i].split("=");if(r[0]==t&&!a.Util.isBlank(r[1]))return decodeURIComponent(r[1])}return null},isParameterInURL:function(e,t){if(!e||!t)return!1;var n=e.split("?");if(n[1])for(var n=n[1].split("&"),i=0;i<n.length;++i)if(n[i].split("=")[0]==t)return!0;return!1},flashVersion:function(){var e="0,0,0,0";if(null!=navigator.plugins&&0<navigator.plugins.length){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"])try{var t=navigator.plugins["Shockwave Flash"+(navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"")].description.split(" "),n=t[2].split("."),i=n[0],a=n[1],r=t[3];""==r&&(r=t[4]),"d"==r[0]?r=r.substring(1):"r"==r[0]&&(r=r.substring(1),0<r.indexOf("d")&&(r=r.substring(0,r.indexOf("d")))),e=i+","+a+","+r+",0"}catch(s){}}else{var o;try{o=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");var l=o.GetVariable("$version").split(" ")[1].split(",");3==l.length?e=l.join(",")+",0":4==l.length&&(e=l.join(","))}catch(c){}}return e},xmlToJson:function(e){var t={};if(!e)return null;if(1===e.nodeType){if(0<e.attributes.length){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var i=e.attributes.item(n);t["@attributes"][i.nodeName]=i.nodeValue}}}else 3===e.nodeType?t=e.nodeValue:4===e.nodeType&&(t=e.nodeValue);if(e.hasChildNodes()){for(n=0;n<e.childNodes.length;n++){var i=e.childNodes.item(n),r=i.nodeName;if("undefined"==typeof t[r])t[r]=a.Util.xmlToJson(i);else{if("undefined"==typeof t[r].length||"string"==typeof t[r]){var s=t[r];t[r]=[],t[r].push(s)}t[r].push(a.Util.xmlToJson(i))}}"undefined"!=typeof t["#cdata-section"]?t.value=t["#cdata-section"]:t["#text"]&&(t.value=t["#text"])}return t},lazyJavaScriptLoad:function(e,t){var n=document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("script");i.type="text/javascript",i.src=e,t&&(i.attachEvent&&!window.opera?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(n.removeChild(i),i.onreadystatechange=null,t())}:i.addEventListener("load",function(){n.removeChild(i),t()},!1)),n.insertBefore(i,n.firstChild)},getViewport:function(){var e=0,t=0;return"undefined"!=typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.getElementsByTagName("body")&&document.getElementsByTagName("body")[0]&&(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),{width:e,height:t,offsetX:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,offsetY:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}},getAbsoluteUrl:function(e,t){if(e=a.Util.trim(e),t=a.Util.trim(t),-1!==t.indexOf("://"))return t;var n=e.substring(0,e.indexOf("://")-1);if(0===t.indexOf("//"))return n+":"+t;var n=e.indexOf("/",e.indexOf("://")+5),i=e;return-1!==n&&(i=e.substring(0,n)),0==t.indexOf("/")?i+t:(n=e.lastIndexOf("#"),i=e,-1!==n&&(i=e.substring(0,n)),0==t.indexOf("#")?i+t:(i=e.indexOf("?"),n=e,-1!==i&&(n=e.substring(0,i)),0==t.indexOf("?")?n+t:(i=-1===i?e.lastIndexOf("/"):n.lastIndexOf("/"),n=-1!==i?e.substring(0,i+1):n+"/",n+t)))}},a.MediaState=function(){},a.MediaState.prototype={},a.MediaState.prototype.constructor=a.MediaState,a.Util.mixin(a.MediaState.prototype,{play:function(e){},pause:function(e){},complete:function(e){}}),a.MediaInitState=function(){this._name="MediaInitState"},a.MediaInitState.prototype=new a.MediaState,a.MediaInitState.prototype.constructor=a.MediaInitState,a.Util.mixin(a.MediaInitState.prototype,{play:function(e){e.setMediaState(a.MediaPlayingState.instance),"function"==typeof e.onStartPlaying&&e.onStartPlaying()}}),a.MediaInitState.instance=new a.MediaInitState,a.MediaPlayingState=function(){this._name="MediaPlayingState"},a.MediaPlayingState.prototype=new a.MediaState,a.MediaPlayingState.prototype.constructor=a.MediaPlayingState,a.Util.mixin(a.MediaPlayingState.prototype,{pause:function(e){e.setMediaState(a.MediaPausedState.instance),"function"==typeof e.onPausePlaying&&e.onPausePlaying()},complete:function(e){e.setMediaState(a.MediaEndState.instance),"function"==typeof e.onCompletePlaying&&e.onCompletePlaying()}}),a.MediaPlayingState.instance=new a.MediaPlayingState,a.MediaPausedState=function(){this._name="MediaPausedState"},a.MediaPausedState.prototype=new a.MediaState,a.MediaPausedState.prototype.constructor=a.MediaPausedState,a.Util.mixin(a.MediaPausedState.prototype,{play:function(e){e.setMediaState(a.MediaPlayingState.instance),"function"==typeof e.onResumePlaying&&e.onResumePlaying()},complete:function(e){e.setMediaState(a.MediaEndState.instance),"function"==typeof e.onCompletePlaying&&e.onCompletePlaying()}}),a.MediaPausedState.instance=new a.MediaPausedState,a.MediaReplayingState=function(){this._name="MediaReplayingState"},a.MediaReplayingState.prototype=new a.MediaState,a.MediaReplayingState.prototype.constructor=a.MediaReplayingState,a.Util.mixin(a.MediaReplayingState.prototype,{pause:function(e){e.setMediaState(a.MediaReplayPausedState.instance),"function"==typeof e.onPausePlaying&&e.onPausePlaying()},complete:function(e){e.setMediaState(a.MediaEndState.instance),"function"==typeof e.onCompleteReplaying&&e.onCompleteReplaying()}}),a.MediaReplayingState.instance=new a.MediaReplayingState,a.MediaReplayPausedState=function(){this._name="MediaReplayPausedState"},a.MediaReplayPausedState.prototype=new a.MediaState,a.MediaReplayPausedState.prototype.constructor=a.MediaReplayPausedState,a.Util.mixin(a.MediaReplayPausedState.prototype,{play:function(e){e.setMediaState(a.MediaReplayingState.instance),"function"==typeof e.onResumePlaying&&e.onResumePlaying()},complete:function(e){e.setMediaState(a.MediaEndState.instance),"function"==typeof e.onCompleteReplaying&&e.onCompleteReplaying()}}),a.MediaReplayPausedState.instance=new a.MediaReplayingState,a.MediaEndState=function(){this._name="MediaEndState"},a.MediaEndState.prototype=new a.MediaState,a.MediaEndState.prototype.constructor=a.MediaEndState,a.Util.mixin(a.MediaEndState.prototype,{play:function(e){e.setMediaState(a.MediaReplayingState.instance),"function"==typeof e.onStartReplaying&&e.onStartReplaying()}}),a.MediaEndState.instance=new a.MediaEndState,a.RendererState=function(){},a.RendererState.prototype={},a.RendererState.prototype.constructor=a.RendererState,a.Util.mixin(a.RendererState.prototype,{start:function(){},notifyStarted:function(){},stop:function(){},complete:function(){},notifyCompleted:function(){},fail:function(e){e.setRendererState(a.RendererFailedState.instance),e.getAdInstance().complete()}}),a.RendererInitState=function(){this._name="RendererInitState"},a.RendererInitState.prototype=new a.RendererState,a.RendererInitState.prototype.constructor=a.RendererInitState,a.RendererInitState.instance=new a.RendererInitState,a.Util.mixin(a.RendererInitState.prototype,{start:function(e){e.setRendererState(a.RendererStartingState.instance),e.getRenderer().start(e)},stop:function(e){e.setRendererState(a.RendererCompletingState.instance),e.getRendererState().notifyCompleted()}}),a.RendererStartingState=function(){this._name="RendererStartingState"},a.RendererStartingState.prototype=new a.RendererState,a.RendererStartingState.prototype.constructor=a.RendererStartingState,a.RendererStartingState.instance=new a.RendererStartingState,a.Util.mixin(a.RendererStartingState.prototype,{notifyStarted:function(e){e.setRendererState(a.RendererStartedState.instance),e.getAdInstance().play()},stop:function(e){"function"==typeof e.getRenderer().stop&&(e.setRendererState(a.RendererCompletingState.instance),e.getRenderer().stop())}}),a.RendererStartedState=function(){this._name="RendererStartedState"},a.RendererStartedState.prototype=new a.RendererState,a.RendererStartedState.prototype.constructor=a.RendererStartedState,a.RendererStartedState.instance=new a.RendererStartedState,a.Util.mixin(a.RendererStartedState.prototype,{complete:function(e){e.setRendererState(a.RendererCompletingState.instance)},stop:function(e){"function"==typeof e.getRenderer().stop&&(e.setRendererState(a.RendererCompletingState.instance),!1===e.getRenderer().stop()&&e.getAdInstance().fakeComplete())}}),a.RendererCompletingState=function(){this._name="RendererCompletingState"},a.RendererCompletingState.prototype=new a.RendererState,a.RendererCompletingState.prototype.constructor=a.RendererCompletingState,a.RendererCompletingState.instance=new a.RendererCompletingState,a.Util.mixin(a.RendererCompletingState.prototype,{notifyCompleted:function(e){e.setRendererState(a.RendererCompletedState.instance),e.getAdInstance().complete()}}),a.RendererCompletedState=function(){this._name="RendererCompletedState"},a.RendererCompletedState.prototype=new a.RendererState,a.RendererCompletedState.prototype.constructor=a.RendererCompletedState,a.RendererCompletedState.instance=new a.RendererCompletedState,a.RendererFailedState=function(){this._name="RendererFailedState"},a.RendererFailedState.prototype=new a.RendererState,a.RendererFailedState.prototype.constructor=a.RendererFailedState,a.RendererFailedState.instance=new a.RendererFailedState,a.HTMLRenderer=function(){},a.HTMLRenderer.prototype={start:function(e){this.rendererController=e,e.getAdInstance().getSlot().getBase()?this._setupParameters()&&(this._render(),e.handleStateTransition(a.RENDERER_STATE_STARTED)):e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_INVALID_SLOT,errorInfo:"slot base is empty"})},pause:function(){},resume:function(){},stop:function(){return this.isMRAIDAd||this._tpc!=a.TIME_POSITION_CLASS_DISPLAY||this.shouldKeepInterstitial?(this._cleanup(),void this.rendererController.handleStateTransition(a.RENDERER_STATE_COMPLETED)):!1},_cleanup:function(){if(this.timer&&(this.timer.stop(),this.timer=null),this.adLoadTimeoutTimer&&(this.adLoadTimeoutTimer.stop(),this.adLoadTimeoutTimer=null),window.removeEventListener?(document.removeEventListener("touchmove",this.touchMoveDisabler,!1),window.removeEventListener("message",this.messageHandlerFunc,!1),window.removeEventListener("resize",this.viewportChangeFunc,!1),window.removeEventListener("scroll",this.viewportChangeFunc,!1)):window.detachEvent&&(window.detachEvent("onmessage",this.messageHandlerFunc),window.detachEvent("onresize",this.viewportChangeFunc),window.detachEvent("onscroll",this.viewportChangeFunc)),this.isMRAIDAd&&(this.mraid.inExpandedState()&&this._mraidClose(),this.mraid.inDefaultState()))return void this._mraidClose();var e;if(this.expandedAdElement&&(e=this.expandedAdElement.parentNode,this.expandedAdElement._fw_closeButton&&e.removeChild(this.expandedAdElement._fw_closeButton),e.removeChild(this.expandedAdElement),this.expandedAdElement===this.defaultAdElement&&(this.defaultAdElementContainer===this.defaultAdElement&&(this.defaultAdElementContainer=null),this.defaultAdElement=null),this.expandedAdElement=null),this.expandedLightbox&&(e=this.expandedLightbox.parentNode,e.removeChild(this.expandedLightbox),this.expandedLightbox=null),this.rendererController.getAdInstance().getSlot().getTimePositionClass(),this.defaultAdElement){e=this.defaultAdElement.parentNode;var t=this.defaultAdElement;t.style.display="none",e!==this.rendererController.getAdInstance().getSlot().getBase()&&window.setTimeout(function(){for(var n=e&&e.childNodes||[],i=0;i<n.length;i++){var a=n[i];a===t&&e.removeChild(a)}},200),this.defaultAdElementContainer===this.defaultAdElement&&(this.defaultAdElementContainer=null),this.defaultAdElement=null}this.defaultAdElementContainer&&(e=this.defaultAdElementContainer.parentNode,e.removeChild(this.defaultAdElementContainer),this.defaultAdElementContainer=null),this.shouldPauseContentWhenStart&&this.rendererController.requestContentStateChange(!1)},_setupParameters:function(){var e=this.rendererController,t=e.getAdInstance(),n=t.getSlot().getTimePositionClass();this._tpc=n;var i,r=t.getActiveCreativeRendition(),t=r.getBaseUnit(),r=r.getCreativeApi();if(a.PLATFORM_NOT_SUPPORT_OVERLAY_AD&&n===a.TIME_POSITION_CLASS_OVERLAY)return e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"Overlay not supported on this device."}),!1;if(a.PLATFORM_NOT_SUPPORT_MIDROLL_AD&&(n===a.TIME_POSITION_CLASS_MIDROLL||n===a.TIME_POSITION_CLASS_PAUSE_MIDROLL))return e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"Midroll, pause_midroll not supported on this device."}),!1;if(a.PLATFORM_IS_IPHONE_IPOD)switch(n){case a.TIME_POSITION_CLASS_MIDROLL:case a.TIME_POSITION_CLASS_PAUSE_MIDROLL:case a.TIME_POSITION_CLASS_OVERLAY:return e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"Midroll, pause_midroll and overlay ads are not supported on iPod, iPhone."}),!1;case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_POSTROLL:e.setCapability(a.EVENT_AD_CLICK,a.CAPABILITY_STATUS_OFF)}if(this.adLoadTimeout=5,(i=e.getParameter(a.PARAMETER_RENDERER_HTML_AD_LOAD_TIMEOUT))&&(this.adLoadTimeout=0<Number(i)?Number(i):this.adLoadTimeout),this.shouldKeepInterstitial=!1,(i=e.getParameter(a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE))?this.shouldKeepInterstitial=i===a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE_INTERSTITIAL:"string"==typeof t&&(this.shouldKeepInterstitial=t.toLowerCase()===a.PARAMETER_RENDERER_HTML_BASEUNIT_INTERSTITIAL),this.isInterstitialNow=this.shouldKeepInterstitial,this.shouldPauseContentWhenStart=!1,this.shouldPauseContentWhenExpandOrClick=!this.shouldKeepInterstitial&&(n===a.TIME_POSITION_CLASS_DISPLAY||n===a.TIME_POSITION_CLASS_OVERLAY),this.shouldBackgroundTransparent=!1,i=e.getParameter(a.PARAMETER_RENDERER_HTML_SHOULD_BACKGROUND_TRANSPARENT),"undefined"!=typeof i&&null!==i&&(this.shouldBackgroundTransparent=a.Util.str2bool(i)),this.shouldEndAfterDuration=n!==a.TIME_POSITION_CLASS_DISPLAY,i=e.getParameter(a.PARAMETER_RENDERER_HTML_SHOULD_END_AFTER_DURATION),"undefined"!=typeof i&&null!==i&&(this.shouldEndAfterDuration=a.Util.str2bool(i)),this.coadScriptName=e.getParameter(a.PARAMETER_RENDERER_HTML_COAD_SCRIPT_NAME),this.coadScriptName||(this.coadScriptName=e.getParameter("coad_script_name")),this.primaryAnchor=e.getParameter(a.PARAMETER_RENDERER_HTML_PRIMARY_ANCHOR)||"bc",this.marginWidth=e.getParameter(a.PARAMETER_RENDERER_HTML_MARGIN_WIDTH)||0,this.marginHeight=e.getParameter(a.PARAMETER_RENDERER_HTML_MARGIN_HEIGHT)||0,this.bootstrap=e.getParameter(a.PARAMETER_RENDERER_HTML_BOOTSTRAP),t=a.Util.getViewport(),this.defaultExpandWidth=t.width,this.defaultExpandHeight=t.height,this.isMRAIDAd="MRAID-1.0"===r,this.mraid=new function(e){this.STATELOADING="loading",this.STATEDEFAULT="default",this.STATEEXPANDED="expanded",this.STATEHIDDEN="hidden",this._renderer=e,this._state=this.STATELOADING,this._useCustomClose=!1,this.viewable=this.expandIsModal=!0,this._baseUrlExpanded=this._baseUrlDefault="",e=Object.defineProperty||function(e,t,n){n.get&&e.__defineGetter__(t,n.get),n.set&&e.__defineSetter__(t,n.set)},e(this,"baseUrl",{get:function(){return this.inExpandedState()?this._baseUrlExpanded||this._baseUrlDefault:this._baseUrlDefault},set:function(e){this.inExpandedState()?this._baseUrlExpanded=e:(this._baseUrlDefault=e,this._baseUrlExpanded="")}}),e(this,"useCustomClose",{get:function(){return this._useCustomClose},set:function(e){this._useCustomClose===!e&&(this._useCustomClose=!!e,this.pushData())}}),e(this,"placementType",{get:function(){return this._renderer.shouldKeepInterstitial?"interstitial":"inline"}}),e(this,"expandWidth",{get:function(){return this._renderer.requestedExpandWidth&&this._renderer.requestedExpandWidth<this._renderer.defaultExpandWidth?this._renderer.requestedExpandWidth:this._renderer.defaultExpandWidth}}),e(this,"expandHeight",{get:function(){return this._renderer.requestedExpandHeight&&this._renderer.requestedExpandHeight<this._renderer.defaultExpandHeight?this._renderer.requestedExpandHeight:this._renderer.defaultExpandHeight}}),e(this,"state",{get:function(){return this._state},set:function(e){this.state!==e&&(this._renderer.shouldPauseContentWhenExpandOrClick&&(e===this.STATEEXPANDED?this._renderer.rendererController.requestContentStateChange(!0):this.inExpandedState()&&this._renderer.rendererController.requestContentStateChange(!1)),e===this.STATEEXPANDED?(this._renderer.expandedAdElement?this._renderer.rendererController.processEvent({name:a.EVENT_AD_ACCEPT_INVITATION}):(this._renderer.expandedAdElement=this._renderer.defaultAdElement,this._renderer.rendererController.processEvent({name:a.EVENT_AD_EXPAND})),this._renderer.presentInterstitial(),this._renderer.shouldEndAfterDuration&&this._renderer.timer.pause()):e===this.STATEDEFAULT&&(this._renderer.shouldKeepInterstitial?(this._renderer.expandedAdElement=this._renderer.defaultAdElement,this._renderer.presentInterstitial()):(this.inExpandedState()&&(this._renderer.expandedAdElement!==this._renderer.defaultAdElement?this._renderer.rendererController.processEvent({name:a.EVENT_AD_CLOSE}):this._renderer.rendererController.processEvent({name:a.EVENT_AD_COLLAPSE})),this._renderer.expandedAdElement=null,this._renderer.presentInline()),this._renderer.shouldEndAfterDuration&&this._renderer.timer.start()),this._state=e,this.pushData(),e===this.STATEHIDDEN&&this._renderer.stop())}}),this.inLoadingState=function(){return this.state===this.STATELOADING},this.inDefaultState=function(){return this.state===this.STATEDEFAULT},this.inExpandedState=function(){return this.state===this.STATEEXPANDED},this.inHiddenState=function(){return this.state===this.STATEHIDDEN},this.pushData=function(){var e='mraid._Update("'+this.state+'", '+this.viewable+', "'+this.placementType+'", '+this.expandWidth+", "+this.expandHeight+", "+this.useCustomClose+", "+this.expandIsModal+")";this._renderer.defaultAdElement?(this._renderer.defaultAdElement.contentWindow.postMessage("fwsdk-bounce:"+e,"*"),this._renderer.expandedAdElement&&this._renderer.expandedAdElement!==this._renderer.defaultAdElement&&this._renderer.expandedAdElement.contentWindow.postMessage("fwsdk-bounce:"+e,"*")):void 0},a.log=function(e){},a.log=function(e){}}(this),this.onLoadFunc=a.Util.bind(this,function(){this.adLoadTimeoutTimer&&(this.adLoadTimeoutTimer.stop(),this.adLoadTimeoutTimer=null),this.timer&&this.shouldEndAfterDuration&&this.timer.start()}),this.touchMoveDisabler=function(e){e.preventDefault()},this.shouldKeepInterstitial){if(n===a.TIME_POSITION_CLASS_OVERLAY)return e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_INVALID_SLOT,errorInfo:"Interstitial ad is not supported on overlay slot."}),!1}else!this.isMRAIDAd||a.PLATFORM_IS_IPHONE_IPOD&&n!==a.TIME_POSITION_CLASS_DISPLAY||(e.setCapability(a.EVENT_AD_ACCEPT_INVITATION,a.CAPABILITY_STATUS_ON),e.setCapability(a.EVENT_AD_CLOSE,a.CAPABILITY_STATUS_ON),e.setCapability(a.EVENT_AD_COLLAPSE,a.CAPABILITY_STATUS_ON),e.setCapability(a.EVENT_AD_EXPAND,a.CAPABILITY_STATUS_ON));return!0},_render:function(){var b=this.rendererController,c=b.getAdInstance(),d=c.getSlot(),f=d.getTimePositionClass(),g=d.getBase(),h=c.getActiveCreativeRendition(),i=h.getDuration(),k=h.getPrimaryCreativeRenditionAsset(),c=k.getUrl(),j=k.getContent();if(f===a.TIME_POSITION_CLASS_DISPLAY&&(g.innerHTML=""),this.timer=new a.Timer(i,a.Util.bind(this,this.stop)),this.coadScriptName&&"function"==typeof window[this.coadScriptName])this.defaultAdElement=window[this.coadScriptName](j,c,h.getHeight(),h.getWidth(),k.getMimeType(),d.getCustomId()),this.timer&&this.shouldEndAfterDuration&&this.timer.start();else{if(i=document.createElement("span"),i.id="_fw_ad_container_html_"+d.getCustomId()+"_",i.style.position="relative"===g.style.position?"absolute":"relative",i.style.display="inline-block",i.style.margin="0px",i.style.padding="0px",i.style.width=g.style.width||"100%",i.style.height=g.style.height||"100%",i.style.top=i.style.left="0px",g.appendChild(i),this.defaultAdElementContainer=i,!c&&!j)return b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_NULL_ASSET}),void this.stop();if("text/html_lit_nowrapper"==h.getContentType()||"text/html_lit_js_wc_nw"==h.getContentType()){if(this.isMRAIDAd||this.isInterstitialNow)return b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_INVALID_VALUE}),void this.stop();if(!j)return b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_NULL_ASSET}),void this.stop();this.defaultAdElement=i,this.defaultAdElement.innerHTML=j;for(var d=this.defaultAdElement.getElementsByTagName("script"),m=document.getElementsByTagName("head")[0],g=0;g<d.length;++g)if(d[g].src){var l=document.createElement("script");d[g].charset&&(l.charset=d[g].charset),d[g].src&&(l.src=d[g].src),d[g].innerHTML&&(l.innerHTML=d[g].innerHTML),l.onload=l.onreadystatechange=function(){(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)&&m.removeChild(l)},m.appendChild(l)}else l=d[g].innerHTML,eval(l);return this.presentInline(),void this.onLoadFunc()}h=document.createElement("iframe"),h.id="_fw_ad_container_iframe_"+d.getCustomId()+"_"+Math.random(),h.attachEvent?h.attachEvent("onload",this.onLoadFunc):h.onload=this.onLoadFunc,this.defaultAdElement=h,this.defaultAdElementContainer.appendChild(h),this._fillAdNode(h,c,j),this.isMRAIDAd&&(this.adLoadTimeoutTimer=new a.Timer(this.adLoadTimeout,a.Util.bind(this,function(){b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorCode:a.ERROR_TIMEOUT,errorModule:"HTMLRenderer",errorInfo:"Loading element timeout"}),f!==a.TIME_POSITION_CLASS_DISPLAY&&this.isMRAIDAd&&!this.mraid.inLoadingState()?this._mraidClose():this.stop()})),this.adLoadTimeoutTimer.start())}!this.defaultAdElement&&(d=g.getElementsByTagName("iframe"))&&0<d.length&&(this.defaultAdElement=d[d.length-1]),this.defaultAdElement?(this.defaultAdElement.frameBorder="0",this.shouldBackgroundTransparent&&(this.defaultAdElement.allowTransparency="true",this.defaultAdElement.style["background-color"]="rgba(255,255,255,0)"),this.isInterstitialNow?(this.expandedAdElement=this.defaultAdElement,this.presentInterstitial()):this.presentInline(),this.messageHandlerFunc=a.Util.bind(this,this._onWindowMessageReceived),this.viewportChangeFunc=a.Util.bind(this,function(){this.viewportChangeFuncTimer&&window.clearTimeout(this.viewportChangeFuncTimer),this.viewportChangeFuncTimer=window.setTimeout(a.Util.bind(this,this._onViewportResizeScroll),200)}),window.addEventListener?(window.addEventListener("message",this.messageHandlerFunc,!1),window.addEventListener("resize",this.viewportChangeFunc,!1),window.addEventListener("scroll",this.viewportChangeFunc,!1)):window.attachEvent&&(window.attachEvent("onmessage",this.messageHandlerFunc),window.attachEvent("onresize",this.viewportChangeFunc),window.attachEvent("onscroll",this.viewportChangeFunc))):this.isMRAIDAd&&(b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorCode:a.ERROR_UNKNOWN,errorModule:"HTMLRenderer",errorInfo:"Failed to find iframe in slotBase for MRAID ad"}),this.stop())},_layoutOverlayAd:function(e){var t=this.rendererController.getAdInstance(),n=t.getSlot(),i=n.getVideoDisplaySize().width,n=n.getVideoDisplaySize().height,a=t.getActiveCreativeRendition(),t=a.getWidth()||240,a=a.getHeight()||50;switch(e.style.width=Math.min(t,i)+"px",e.style.height=Math.min(a,n)+"px",e.style.left=e.style.top=e.style.right=e.style.bottom="",this.primaryAnchor){case"tl":case"lt":e.style.top=this.marginHeight+"px",e.style.left=this.marginWidth+"px";break;case"tr":case"rt":e.style.top=this.marginHeight+"px",e.style.right=this.marginWidth+"px";break;case"bl":case"lb":e.style.bottom=this.marginHeight+"px",e.style.left=this.marginWidth+"px";break;case"br":case"rb":e.style.bottom=this.marginHeight+"px",e.style.right=this.marginWidth+"px";break;case"tc":case"ct":e.style.top=this.marginHeight+"px",e.style.left=.5*Math.max(0,i-t)+"px";break;case"lm":case"ml":e.style.left=this.marginWidth+"px",e.style.top=.5*Math.max(0,n-a)+"px";break;case"rm":case"mr":e.style.right=this.marginWidth+"px",e.style.top=.5*Math.max(0,n-a)+"px";break;case"mc":case"cm":case"c":case"m":e.style.left=.5*Math.max(0,i-t)+"px",e.style.top=.5*Math.max(0,n-a)+"px";break;default:case"bc":case"cb":e.style.bottom=this.marginHeight+"px",e.style.left=.5*Math.max(0,i-t)+"px"}},_fillAdNode:function(e,t,n){var i=this.rendererController;if(t)e.src=t;else{if(!n)return i.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_NULL_ASSET}),!1;e=e.contentWindow?e.contentWindow.document:e.contentDocument.document?e.contentDocument.document:e.contentDocument,e.open(),e.write(n),e.close()}return!0},presentInline:function(){this.isInterstitialNow=!1;var e=this.defaultAdElement;if(e){var t=this.rendererController.getAdInstance(),n=t.getSlot(),i=n.getTimePositionClass(),r=n.getWidth(),s=n.getHeight(),o=n.getVideoDisplaySize().width,n=n.getVideoDisplaySize().height,l=t.getActiveCreativeRendition(),t=l.getWidth(),l=l.getHeight();switch(e.scrolling="no",e.style.overflow="hidden",i){case a.TIME_POSITION_CLASS_DISPLAY:e.style.position="",e.style.background=this.shouldBackgroundTransparent?"transparent":"",e.style.left="0px",e.style.top="0px",e.style.width=(r?r:t)+"px",e.style.height=(s?s:l)+"px";break;case a.TIME_POSITION_CLASS_OVERLAY:e.style.position="absolute",e.style.background=this.shouldBackgroundTransparent?"transparent":"white",this._layoutOverlayAd(e);break;default:e.style.position="absolute",e.style.background=this.shouldBackgroundTransparent?"transparent":"white",e.style.left="0px",e.style.top="0px",e.style.width=o+"px",e.style.height=n+"px"}}},presentInterstitial:function(){if(this.expandedAdElement){this.isInterstitialNow=!0,document.addEventListener&&(document.removeEventListener("touchmove",this.touchMoveDisabler,!1),document.addEventListener("touchmove",this.touchMoveDisabler,!1));var e=this.expandedAdElement.parentNode;if(this.expandedLightbox||(this.expandedLightbox=document.createElement("div"),this.expandedLightbox.style.background="black",this.expandedLightbox.style.opacity=.8,this.expandedLightbox.style.position="fixed",this.expandedLightbox.style.top="0px",this.expandedLightbox.style.left="0px",this.expandedLightbox.style.zIndex=this.expandedLightbox.style["z-index"]=9999,e.appendChild(this.expandedLightbox)),this.expandedLightbox.style.width=this.defaultExpandWidth+"px",this.expandedLightbox.style.height=this.defaultExpandHeight+"px",this.expandedAdElement.frameBorder="0",this.expandedAdElement.scrolling="no",this.expandedAdElement.style.position="fixed",this.expandedAdElement.style.overflow="hidden",this.expandedAdElement.style.top=this.expandedAdElement.top=Math.max(0,this.defaultExpandHeight-this.mraid.expandHeight)/2+"px",this.expandedAdElement.style.left=this.expandedAdElement.left=Math.max(0,this.defaultExpandWidth-this.mraid.expandWidth)/2+"px",this.expandedAdElement.style.width=this.expandedAdElement.width=this.mraid.expandWidth+"px",this.expandedAdElement.style.height=this.expandedAdElement.height=this.mraid.expandHeight+"px",this.expandedAdElement.style.zIndex=this.expandedAdElement.style["z-index"]=1e4,this.isMRAIDAd){var t=this.expandedAdElement._fw_closeButton;t||(t=document.createElement("div"),t.addEventListener?t.addEventListener("click",a.Util.bind(this,function(){this._mraidClose()})):t.attachEvent&&t.attachEvent("onclick",a.Util.bind(this,function(){this._mraidClose()})),t.style.position="fixed",t.style.margin="0px",t.style.padding="0px",t.style.width="25px",t.style.height="25px",t.style.zIndex=t.style["z-index"]=10001,e.appendChild(t),this.expandedAdElement._fw_closeButton=t),t.style.top=this.expandedAdElement.style.top,t.style.left=Math.max(0,this.defaultExpandWidth-this.mraid.expandWidth)/2+this.mraid.expandWidth-25+"px",t.innerHTML=this.mraid.useCustomClose?0<a.PLATFORM_ANDROID_VERSION?"   ":"":0<a.PLATFORM_ANDROID_VERSION&&3>=a.PLATFORM_ANDROID_VERSION?'<img style="width:25px; height:25px; border:0" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4xJREFUeNrMmjFv2kAUxw/IUAZUw4AqJjIxMAQJ9sIHgDYLUqfSBTowJBudAmOnNCNeAitLyVgxxNlBgk+QTKgb6UQHhr7nniNj8PmM3zk86XQZOPt+ee/e+9+dI4zQms1mGTpsb6EVXH42h/YHmqHrukH17kjAiWvQfYT2gfeH2BjaHfYA9hwqCABkobvik9eI/qkIMYB2A0BPSkG4By44hErrQfvhx0MRn/F/Cy3LwjH0yhfZdRSThOhyCI2FZ/iuRrFYjMxmMyMwCEDc8nB6LSsDTBZg7g4GAYj7ANmI0gpeMDEPTxwDhBRMzAXiGrqv7PgMYTSA+eWZtQACvfCTHbedQzYbu4LwOvHolp3q9TorlUpsuVyyfr/P1us16ezi8TirVqtmP5lMzPcIiuepvc5EHT+4doPIZDImhPV3q9UyX0hl+MxOp2O+I5/Ps1qt5pWat4py1CE7Gm4jnf99Sph9z5Lw9gWf845HhLJjtVqx0WhEDuMGgaElYVdbWYuTDbxGYcwiELreskQiwXK5HFssFmyz2ZBA4PoTrA9nFhtCFnu2PCJdL6bTKYlnCCCYfe4WyGc/I4PCEEK8zD3Cw+rxkPjGDIMp2Rl+otRMDGHZaZRvTQ8yv55RBGEKSwQ5C/IEWRiFEGhnMVj1naCbJa9slk6nVUKg/T2h2iyhZywZ4/RCMplUCWFW+hPBsQ0ZjFMhEEOY9SRKLUv3rRnFEHtFI4nhRPelX1xH2FQYOYjf9EsJ8qQSQqVqth8dkYGI6oQK1awExKvYUQlNL5CFSghq1exiCwQxVEOEAGPEYFPyG2QKniS+CWNTRL05w7DSdf2blX7HYe7siD0ztteRm7B3doQww5c9Ow+vspcKRvHXbrfJBCBBmOH13XdnZe95jcKzJmoVK/KMhPV2JAq/UDG8TgJVCEA3GAlvGG5a61JGpmM4UKtYJ4zEs7fmuu8Qu8vU3xEK12EqlXJV0FZIgTe6QhAOcx/kUEKxYUhVZGX8Oft/sX9sNudz2zHXW13wCm6B71m4F6AiwyuECnhj7mtjxQdUKPcrQdStCELoEZtnNO6ZwiuGU8Xr4wE/HwzgJVDY19T49cOlzA9jsk/EC0iQMQ/cM+9C8MIngOjLDjj0o5oGrzVZBWsBa8TA78Cgnznh3QQe6we9j0cpPnTe1IYG4kgIZR5273mvCdIohg6G6TzI5O32T4ABAPsBS28k7apdAAAAAElFTkSuQmCC">':'<img style="width:25px; height:25px; border:0" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwIiB5PSIwIiB3aWR0aD0iNDAwcHgiIGhlaWdodD0iNDAwcHgiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48Y2lyY2xlIGZpbGw9IiM2NjY2NjYiIGN4PSIyMDAuMTM5IiBjeT0iMTk5Ljg2IiByPSIxOTcuODYiLz48cGF0aCBmaWxsPSIjRjBGMEYwIiBzdHJva2U9IiNGMEYwRjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTExNC44NjUsMzAzLjY0NGMtNi4yMjYsNi4yMjctMTUuMzYzLDcuMTg2LTIwLjQwNywyLjE0NGwtMC41MjItMC41MjJjLTUuMDQzLTUuMDQzLTQuMDgzLTE0LjE4LDIuMTQ0LTIwLjQwN0wyODQuODYsOTYuMDc4YzYuMjI2LTYuMjI3LDE1LjM2Mi03LjE4NiwyMC40MDUtMi4xNDRsMC41MjIsMC41MjFjNS4wNDMsNS4wNDIsNC4wODMsMTQuMTc5LTIuMTQ0LDIwLjQwOEwxMTQuODY1LDMwMy42NDR6Ii8+PHBhdGggZmlsbD0iI0YwRjBGMCIgc3Ryb2tlPSIjRjBGMEYwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0zMDcuODE5LDI4OC42NjZjNS4xNTMsNS4xNTgsNS4wNDgsMTMuNjI0LTAuMjQxLDE4LjkxMWwwLDBjLTUuMjg4LDUuMjg5LTEzLjc1Miw1LjM5My0xOC45MDksMC4yNEw5MS45MDYsMTExLjA1NWMtNS4xNTYtNS4xNTYtNS4wNDgtMTMuNjIzLDAuMjQtMTguOTFsMCwwYzUuMjktNS4yODksMTMuNzU1LTUuMzk2LDE4LjkxMS0wLjI0MUwzMDcuODE5LDI4OC42NjZ6Ii8+PC9zdmc+">'}}},_onWindowMessageReceived:function(e){if(this.defaultAdElement&&(e.source===this.defaultAdElement.contentWindow||(this.expandedAdElement?e.source===this.expandedAdElement.contentWindow:!1))){var t=e.data.toString().split(":");if(t&&2<=t.length&&"fwsdk-invoke"===t[0]){var n=t[1];if((t=t.slice(2))&&0<t.length){for(var i=0;i<t.length;i++)t[i]=decodeURIComponent(t[i]);1===t.length&&(t=t[0])}else t=null;"iframe_ready"===n?(this.onLoadFunc&&e.source===this.defaultAdElement.contentWindow&&this.defaultAdElement!==this.expandedAdElement&&this.onLoadFunc(),t&&(t=a.Util.trim(t))&&this.isMRAIDAd&&(this.mraid.baseUrl=t),this.bootstrap&&e.source.postMessage("fwsdk-bounce:"+this.bootstrap,e.origin),e.source.postMessage('fwsdk-bounce:mraid._messagingModel = "postMessage"',e.origin),this.isMRAIDAd&&(e.source===this.defaultAdElement.contentWindow&&this.shouldPauseContentWhenStart&&this.rendererController.requestContentStateChange(!0),this.mraid.inLoadingState()?this.mraid.state=this.mraid.STATEDEFAULT:this.expandedAdElement&&e.source===this.expandedAdElement.contentWindow&&this.mraid.pushData())):this.isMRAIDAd?this._mraidMethods(n,t):"close"===n&&this.stop();
}}},_mraidMethods:function(e,t){if(e&&this.isMRAIDAd)switch(e){case"open":"string"==typeof t?this._mraidOpen(t):2<=t.length&&this._mraidOpen(t[0],a.Util.str2bool(t[1]));break;case"close":this._mraidClose();break;case"expand":this._mraidExpand(t);break;case"useCustomClose":t&&0<t.length?this.mraid.useCustomClose=a.Util.str2bool(t):void 0;break;case"setExpandProperties":if(!t)break;this.requestedExpandWidth=Number(t[0]),this.requestedExpandHeight=Number(t[1]),this.requestedExpandWidth&&this.requestedExpandHeight&&(this.requestedExpandWidth!==this.defaultExpandWidth||this.requestedExpandHeight!==this.defaultExpandHeight)||(this.requestedExpandHeight=this.requestedExpandWidth=0),this.mraid.useCustomClose=a.Util.str2bool(t[2]),(this.requestedExpandWidth!==this.mraid.expandWidth||this.requestedExpandHeight!==this.mraid.expandHeight)&&this.mraid.pushData();break;case"log":}},_mraidOpen:function(e,t){var n=this.rendererController;n.getAdInstance(),e&&"string"==typeof e&&0<e.length?((t||"undefined"==typeof t)&&window.open(e),n.processEvent({name:a.EVENT_AD_CLICK,info:{showBrowser:!1,url:e}})):void 0},_mraidClose:function(){if(this.mraid.inExpandedState()){window.removeEventListener&&document.removeEventListener("touchmove",this.touchMoveDisabler,!1);var e=this.expandedAdElement,t=this.expandedAdElement._fw_closeButton;this.expandedAdElement._fw_closeButton=null;var n=this.expandedAdElement.parentNode;this.mraid.state=this.mraid.STATEDEFAULT,this.expandedLightbox&&(n.removeChild(this.expandedLightbox),this.expandedLightbox=null),e!==this.defaultAdElement&&(e.style.display="hidden",window.setTimeout(function(){n.removeChild(e)},50)),n.removeChild(t)}else this.mraid.inDefaultState()?this.mraid.state=this.mraid.STATEHIDDEN:void 0},_mraidExpand:function(e){if(this.mraid.inDefaultState())if(this.shouldKeepInterstitial);else{if(e){var t=document.createElement("iframe");this.shouldBackgroundTransparent&&(t.allowTransparency="true",t.style["background-color"]="rgba(255,255,255,0)"),(this.defaultAdElementContainer||this.defaultAdElement.parentNode).appendChild(t),this.expandedAdElement=t,this._fillAdNode(t,e,null)}this.mraid.state=this.mraid.STATEEXPANDED,this.isInterstitialNow=!0,this._onViewportResizeScroll()}},_onViewportResizeScroll:function(){var e=a.Util.getViewport();this.defaultExpandWidth=e.width,this.defaultExpandHeight=e.height,this.isInterstitialNow&&this.presentInterstitial()},log:function(e){this.rendererController.getAdInstance().getSlot()},warn:function(e){this.rendererController.getAdInstance().getSlot()},info:function(){return{moduleType:a.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){return this.timer?this.timer.getPlayheadTime():-1},getDuration:function(){return this.timer?this.timer.getDuration():-1}},a.HTMLRenderer.prototype.constructor=a.HTMLRenderer,a.Ad=function(){var e=null,t=[],n=!1,i=null,r=!1;return{isRequiredToShow:function(){return r},parse:function(s){if(s){e=s.adId||null,n=s.noLoad,i=s.adUnit,s.hasOwnProperty("required")&&(r=s.required);for(var o=0,s=s.creatives||[];o<s.length;o++){var l=s[o],c=new a.Creative;c.parse(l),t.push(c)}}},getSoAdUnit:function(){return i},getId:function(){return e},getNoLoad:function(){return n},getCreative:function(e){for(var n=0;n<t.length;n++)if(t[n].getId()===e)return t[n];return null},addCreativeRendition:function(){var e=new a.Creative;return t.push(e),e}}},a.Creative=function(){var e=null,t=null,n=null,i={},r=[];return{getId:function(){return e},getBaseUnit:function(){return t},getDuration:function(){return n},getParameter:function(e){return i[e]},setParameter:function(e,t){null==t?delete i[e]:i[e]=t},parse:function(s){if(s){e=s.creativeId||null,t=s.baseUnit||null,n=1*s.duration;var o;if(s.parameters)if(s.parameters.constructor===Array)for(var l=0,c=s.parameters||[];l<c.length;l++)o=c[l],i[o.name]=o.value;else"object"==typeof s.parameters&&(i=a.Util.copy(s.parameters));for(l=0,c=s.creativeRenditions||[];l<c.length;l++)o=c[l],s=new a.CreativeRendition,s.parse(o),s.setDuration(n),s.setBaseUnit(t),r.push(s)}},getAllCreativeRenditions:function(){return r},cloneForTranslation:function(){var r=new a.Creative;return r.parse({creativeId:e,baseUnit:t,duration:n,parameters:a.Util.copy(i)}),r}}},a.CreativeRendition=function(){var e=null,t="None",n=null,i=null,r=null,s=null,o=null,l=null,c=null,d=null,u={},_=null,p=[],h=null;return{getId:function(){return e},getCreativeApi:function(){return t},setCreativeApi:function(e){t=e||"None"},getReplicaId:function(){return i},getContentType:function(){return r?r:_&&_.getContentType()?_.getContentType():null},setContentType:function(e){r=e},getWrapperType:function(){return s},setWrapperType:function(e){s=e},getWrapperUrl:function(){return o},setWrapperUrl:function(e){o=e},getBaseUnit:function(){return n},setBaseUnit:function(e){n=e},getPreference:function(){return l},setPreference:function(e){l=e},getWidth:function(){return c},setWidth:function(e){c=e},getHeight:function(){return d},setHeight:function(e){d=e},getDuration:function(){return h},setDuration:function(e){h=e},getParameter:function(e){return u[e]},setParameter:function(e,t){null==t?delete u[e]:u[e]=t},getPrimaryCreativeRenditionAsset:function(){return _},getOtherCreativeRenditionAssets:function(){return p.slice()},addCreativeRenditionAsset:function(e,t){var n=new a.CreativeRenditionAsset;return n.setName(e),t?_=n:p.push(n),n},parse:function(n){if(n){e=n.creativeRenditionId||null,t=n.creativeApi||"None",i=n.hasOwnProperty("adReplicaId")?1*n.adReplicaId:-1,r=n.contentType||null,s=n.wrapperType||null,o=n.wrapperUrl||null,l=1*n.preference,c=1*n.width,d=1*n.height;for(var h,g=0,f=n.parameters||[];g<f.length;g++)h=f[g],u[h.name]=h.value;for(_=new a.CreativeRenditionAsset,_.parse(n.asset),g=0,f=n.otherAssets||[];g<f.length;g++)h=f[g],n=new a.CreativeRenditionAsset,n.parse(h),p.push(n)}}}},a.CreativeRenditionAsset=function(){var e=null,t=null,n=null,i=null,a=null,r=null;return{getName:function(){return e},setName:function(t){e=t},getUrl:function(){return t},setUrl:function(e){t=e},getContent:function(){return n},setContent:function(e){n=e},getContentType:function(){return i},setContentType:function(e){i=e},getMimeType:function(){return a},setMimeType:function(e){a=e},getBytes:function(){return r},setBytes:function(e){r=e},parse:function(s){s&&(e=s.name||null,t=s.url||null,n=s.content||null,i=s.contentType||null,a=s.mimeType||null,r=1*s.bytes)}}},a.AdControlExtension=function(e){this._context=e,this._currentSlot=this._dragEvent=this._clickEvent=this._targetElement=null,this._dragging=!1},a.AdControlExtension.prototype={start:function(){this._clickEvent||(this._clickEvent=a.PLATFORM_EVENT_CLICK,this._dragEvent=a.MOBILE_EVENT_DRAG),this._onAdClicked=a.Util.bind(this,function(){this._dragging?this._dragging=!1:this._currentSlot&&this._currentSlot.getCurrentAdInstance()&&this._currentSlot.getCurrentAdInstance().getRendererController().processEvent({name:a.EVENT_AD_CLICK})}),this._onAdDragged=a.Util.bind(this,function(){this._dragging=!0}),this._onSlotStarted=a.Util.bind(this,function(e){e.slot&&this._isTargetSlot(e.slot)&&(this._clearListener(),this._attachListener(e.slot))}),this._onSlotEnded=a.Util.bind(this,function(e){e.slot&&this._isTargetSlot(e.slot)&&(this._targetElement&&(this._targetElement.style.visibility="hidden"),this._clearListener())}),this._onAdStarted=a.Util.bind(this,function(e){(e=e.adInstance)&&this._isTargetSlot(e.getSlot())&&this._targetElement&&(this._targetElement.style.visibility=0<e.getEventCallbackUrls(a.EVENT_AD_CLICK,a.EVENT_TYPE_CLICK).length?"":"hidden")}),this._context.addEventListener(a.EVENT_SLOT_ENDED,this._onSlotEnded),this._context.addEventListener(a.EVENT_SLOT_STARTED,this._onSlotStarted),this._context.addEventListener(a.EVENT_AD_IMPRESSION,this._onAdStarted),this._targetElement&&(this._targetElement.style.visibility="hidden")},_onAdClicked:function(){},_onSlotStarted:function(){},_onSlotEnded:function(){},_attachListener:function(e){var t=this._context.getParameter(a.PARAMETER_EXTENSION_AD_CONTROL_CLICK_ELEMENT);t&&((this._targetElement=document.getElementById(t))?(this._currentSlot=e,this._targetElement.addEventListener(this._clickEvent,this._onAdClicked,!1),this._targetElement.addEventListener(this._dragEvent,this._onAdDragged,!1)):void 0)},_clearListener:function(){this._targetElement&&(this._targetElement.removeEventListener(this._clickEvent,this._onAdClicked,!1),this._targetElement.removeEventListener(this._dragEvent,this._onAdDragged,!1),this._targetElement=null),this._currentSlot=null},_isTargetSlot:function(e){return e.getType()===a.SLOT_TYPE_TEMPORAL&&e.getTimePositionClass()!==a.TIME_POSITION_CLASS_OVERLAY},dispose:function(){this._clearListener(),this._onAdClicked=null,this._context.removeEventListener(a.EVENT_SLOT_ENDED,this._onSlotEnded),this._context.removeEventListener(a.EVENT_SLOT_STARTED,this._onSlotStarted),this._context.removeEventListener(a.EVENT_AD_IMPRESSION,this._onAdStarted),this._onAdStarted=this._onSlotEnded=this._onSlotStarted=null}},a.AdControlExtension.prototype.constructor=a.AdControlExtension,a.AdInstance=function(e){this._context=e,this._primaryCreativeRendition=this._creative=this._replicaId=this._creativeRenditionId=this._creativeId=this._soAdUnit=this._adId=this._slot=null,this._creativeRenditions=[],this._noLoad=!1,this._companionAdInstances=[],this._eventCallbacks=[],this._externalEventCallbackUrlsDictionary={},this._rendererController=new a.RendererController(e,this),this._timer=new a.Timer,this._metr=0,this._state=a.MediaInitState.instance,this._isStartSuccessfully=this._translated=this._isImpressionSent=!1,this._lastDurationFromRenderer=-1,this._slotCustomId=this._parentAdInstancesGroup=null},a.AdInstance.prototype={},a.AdInstance.prototype.constructor=a.AdInstance,a.METR_MASK_QUARTILE=0,a.METR_MASK_MIDPOINT=1,a.METR_MASK_COMPLETE=2,a.METR_MASK_VOLUME=3,a.METR_MASK_SIZE=4,a.METR_MASK_CONTROL=5,a.METR_MASK_REWIND=6,a.METR_MASK_ACCEPT_INVITATION=7,a.METR_MASK_CLOSE=8,a.METR_MASK_MINIMIZE=9,a.METR_MASK_CLICK=10,a.AdInstance._metrDictionary={},a.AdInstance._metrDictionary[a.EVENT_AD_FIRST_QUARTILE]=a.AdInstance._metrDictionary[a.EVENT_AD_THIRD_QUARTILE]=a.AdInstance._metrDictionary[a.EVENT_AD_QUARTILE]=1<<a.METR_MASK_QUARTILE|1<<a.METR_MASK_MIDPOINT|1<<a.METR_MASK_COMPLETE,a.AdInstance._metrDictionary[a.EVENT_AD_MIDPOINT]=1<<a.METR_MASK_MIDPOINT|1<<a.METR_MASK_COMPLETE,a.AdInstance._metrDictionary[a.EVENT_AD_COMPLETE]=1<<a.METR_MASK_COMPLETE,a.AdInstance._metrDictionary[a.EVENT_AD_MUTE]=1<<a.METR_MASK_VOLUME,a.AdInstance._metrDictionary[a.EVENT_AD_UNMUTE]=1<<a.METR_MASK_VOLUME,a.AdInstance._metrDictionary[a.EVENT_AD_COLLAPSE]=1<<a.METR_MASK_SIZE,a.AdInstance._metrDictionary[a.EVENT_AD_EXPAND]=1<<a.METR_MASK_SIZE,a.AdInstance._metrDictionary[a.EVENT_AD_PAUSE]=1<<a.METR_MASK_CONTROL,a.AdInstance._metrDictionary[a.EVENT_AD_RESUME]=1<<a.METR_MASK_CONTROL,a.AdInstance._metrDictionary[a.EVENT_AD_REWIND]=1<<a.METR_MASK_REWIND,a.AdInstance._metrDictionary[a.EVENT_AD_ACCEPT_INVITATION]=1<<a.METR_MASK_ACCEPT_INVITATION,a.AdInstance._metrDictionary[a.EVENT_AD_CLOSE]=1<<a.METR_MASK_CLOSE,a.AdInstance._metrDictionary[a.EVENT_AD_MINIMIZE]=1<<a.METR_MASK_MINIMIZE,a.AdInstance._metrDictionary[a.EVENT_AD_CLICK]=1<<a.METR_MASK_CLICK,a.Util.mixin(a.AdInstance.prototype,{getAdId:function(){return this._adId},getSoAdUnit:function(){return this._soAdUnit},getEventCallbackUrls:function(e,t){var n=[],i=t===a.EVENT_TYPE_CLICK,r=t===a.EVENT_TYPE_CLICK_TRACKING,s=a.EventCallback.getEventCallback(this._eventCallbacks,e,r?a.EVENT_TYPE_CLICK:t);if(!s)return n;var o={};return o[a.INFO_KEY_NEED_EMPTY_CT]=!0,i?s._showBrowser&&n.push(s.getUrl(o)):r?s._showBrowser||n.push(s.getUrl(o)):n.push(s.getUrl(o)),i||(n=n.concat(s.getTrackingUrls())),n},addEventCallbackUrls:function(e,t,n){n&&this._isValidEventNameAndType(e,t)&&(this._externalEventCallbackUrlsDictionary[t+"-"+e]=this.getExternalEventCallbackUrls(e,t).concat(n||[]))},setClickThroughUrl:function(e,t){if(t&&this._isValidEventNameAndType(e,a.EVENT_TYPE_CLICK)){var n=this.getEventCallback(e,a.EVENT_TYPE_CLICK);n&&(a.Util.isParameterInURL(n._url,a.URL_PARAMETER_KEY_CR)||(n._url=n._url+"&"+a.URL_PARAMETER_KEY_CR+"="),n._url=a.Util.setParameterInURL(n._url,a.URL_PARAMETER_KEY_CR,t),n._showBrowser=!0)}},addCreativeRendition:function(){var e=new a.CreativeRendition;return e.parse({creativeRenditionId:this._creativeRenditionId,preference:0}),e.setBaseUnit(this._creative.getBaseUnit()),e.setDuration(this._creative.getDuration()),this._creativeRenditions.push(e),this.isPlaceholder()&&(this._noLoad=!1),e},getRendererController:function(){return this._rendererController},getSlot:function(){return this._slot||(this._slot=this._context._adResponse.getSlotByCustomId(this._slotCustomId)),this._slot},getCompanionSlots:function(){for(var e=[],t=0;t<this._companionAdInstances.length;t++)e.push(this._companionAdInstances[t]._slot);return e},getCreativeRendition:function(e,t){for(var n=null,i=0,a=this._creativeRenditions||[];i<a.length;i++)if(a[i].getId()===e){if(a[i].getReplicaId()===t)return a[i];(!n||a[i].getReplicaId()<n.getReplicaId())&&(n=a[i])}return n},getActiveCreativeRendition:function(){return this._primaryCreativeRendition},setActiveCreativeRendition:function(e){e?(-1==this._creativeRenditions.indexOf(e)&&this._creativeRenditions.push(cr),this._primaryCreativeRendition=e,this._creativeRenditionId=e.getId()):void 0},getAllCreativeRenditions:function(){var e=this._creativeRenditions.slice();e.sort(function(e,t){return t.getPreference()-e.getPreference()});var t=e.indexOf(this._primaryCreativeRendition);return t>-1&&(e.splice(t,1),e.unshift(this._primaryCreativeRendition)),e},getRenderableCreativeRenditions:function(){var e=this._creativeRenditions.slice().sort(function(e,t){return t.getPreference()-e.getPreference()}).filter(function(e){return this._rendererController.rendererMatch(e)},this),t=e.indexOf(this._primaryCreativeRendition);return t>-1&&(e.splice(t,1),e.unshift(this._primaryCreativeRendition)),e},getPlayheadTime:function(){var e=-1;if(this._rendererController.getRenderer()&&"function"==typeof this._rendererController.getRenderer().getPlayheadTime)try{e=this._rendererController.getRenderer().getPlayheadTime()}catch(t){}return e},getDuration:function(){var e=-1;return this._rendererController.getRenderer()&&"function"==typeof this._rendererController.getRenderer().getDuration&&(this._lastDurationFromRenderer=e=this._rendererController.getRenderer().getDuration()),-1===e&&(e=-1<this._lastDurationFromRenderer?this._lastDurationFromRenderer:this.getActiveCreativeRendition().getDuration()),e},parse:function(e){if(e){this._adId=e.adId,this._creativeId=e.creativeId,this._creativeRenditionId=e.creativeRenditionId,this._replicaId=e.hasOwnProperty("replicaId")?1*e.replicaId:-1,this._noLoad=this._context._adResponse.getAd(this._adId).getNoLoad(),this._soAdUnit=this._context._adResponse.getAd(this._adId).getSoAdUnit(),this._creative=this._context._adResponse.getCreative(this._adId,this._creativeId),this._creativeRenditions=this._creative.getAllCreativeRenditions();for(var t,n=0,i=e.eventCallbacks||[];n<i.length;n++){t=i[n];var r=a.EventCallback.newEventCallback(this._context,t.name,t.type);r&&(r._adInstance=this,r.parse(t),this._eventCallbacks.push(r))}for(n=0,i=e.companionAds||[];n<i.length;++n)(t=i[n])&&t.adSlotCustomId&&(r=new a.AdInstance(this._context),r._slotCustomId=t.adSlotCustomId,r.parse(t),this._companionAdInstances.push(r));for(n=0,i=e.fallbackAds||[];n<i.length;++n)t=i[n],r=new a.AdInstance(this._context),this._parentAdInstancesGroup.push(r),r._slot=this._slot,r._parentAdInstancesGroup=this._parentAdInstancesGroup,r.parse(t);this._primaryCreativeRendition=this.getCreativeRendition(this._creativeRenditionId,this._replicaId)}},play:function(){if(this._timer.tick(),this.processEvent(a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION),this._isStartSuccessfully||(a.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE]&&this._context.dispatchEvent(a.EVENT_AD_IMPRESSION,{adInstance:this,slotCustomId:this._slotCustomId}),this._isStartSuccessfully=!0),this._state.play(this),this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE]===a.MODULE_TYPE_RENDERER)for(var e=0;e<this._companionAdInstances.length;e++)this._companionAdInstances[e].isPlaceholder()||this._companionAdInstances[e].getSlot().playCompanionAds(this._companionAdInstances[e])},stop:function(){this._rendererController.stop()},fakeComplete:function(){this._slot.getTimePositionClass()===a.TIME_POSITION_CLASS_DISPLAY&&(this._isStartSuccessfully=!1,this._slot.playNextAdInstance())},complete:function(){this._isStartSuccessfully&&(this.processEvent(a.EVENT_AD_IMPRESSION_END,a.EVENT_TYPE_IMPRESSION),a.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE]&&this._context.dispatchEvent(a.EVENT_AD_IMPRESSION_END,{adInstance:this})),this._state.complete(this),this._rendererController._restorePlaceholdersForHybrid(),this._rendererController.setRenderer(null),this._isStartSuccessfully=!1,this._slot.playNextAdInstance()},isStarted:function(){return this._isStartSuccessfully},onStartPlaying:function(){a.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE]?this._isImpressionSent=!0:this._translated=!0},onCompletePlaying:function(){},onStartReplaying:function(){},onCompleteReplaying:function(){},getEventCallback:function(e,t){return a.EventCallback.getEventCallback(this._eventCallbacks,e,t)},processEvent:function(e,t,n){var i=!0,t=this.getEventCallback(e,t);return e===a.EVENT_AD_IMPRESSION&&this._isStartSuccessfully&&(t=this.getEventCallback(a.EVENT_ERROR,a.EVENT_TYPE_ERROR),n={errorInfo:"Trying to send defaultImpression multiple times"},i=!1),t?t.process(n):i=!1,e===a.EVENT_AD_CLICK&&this._context.dispatchEvent(a.EVENT_AD_CLICK,{adInstance:this}),(e!=a.EVENT_AD_IMPRESSION&&e!=a.EVENT_AD_IMPRESSION_END||a.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE])&&this._context.dispatchEvent(a.EVENT_AD,{subType:e,adInstance:this,slot:this._slot}),i},setMetr:function(e,t){var n=a.AdInstance._metrDictionary[e];n&&(e===a.EVENT_AD_CLICK&&(t=!t),this._metr=t===a.CAPABILITY_STATUS_ON||!0===t?this._metr|n:this._metr&~n)},getExternalEventCallbackUrls:function(e,t){return(this._externalEventCallbackUrlsDictionary[t+"-"+e]||[]).slice()},reset:function(){this._rendererController.reset();for(var e=0;e<this._companionAdInstances.length;e++){var t=this._companionAdInstances[e];(t._state===a.MediaPlayingState.instance||t._state===a.MediaReplayingState.instance)&&t.stop(),t._rendererController.reset()}},cloneForTranslation:function(){var e=new a.AdInstance(this._context);e._parent=this,e._adId=this._adId,e._creativeId=this._creativeId,e._creative=this._creative.cloneForTranslation(),e._creativeRenditionId=this._creativeRenditionId,e._noLoad=this._noLoad,e._slot=this.getSlot(),e._soAdUnit=this.getSoAdUnit();for(var t=0;t<this._eventCallbacks.length;t++){var n=this._eventCallbacks[t].copy();n._adInstance=e,e._eventCallbacks.push(n)}for(e._externalEventCallbackUrlsDictionary=a.Util.copy(this._externalEventCallbackUrlsDictionary),t=0;t<this._companionAdInstances.length;t++)this._companionAdInstances[t].isPlaceholder()?e._companionAdInstances.push(this._companionAdInstances[t].cloneForTranslation()):e._companionAdInstances.push(this._companionAdInstances[t]);return e},isPlaceholder:function(){return this._noLoad},setMediaState:function(e){this._state=e},_isValidEventNameAndType:function(e,t){return a.Util.isBlank(e)||a.Util.isBlank(t)?!1:t===a.EVENT_TYPE_CLICK||t===a.EVENT_TYPE_CLICK_TRACKING||t===a.EVENT_TYPE_IMPRESSION&&(e===a.EVENT_AD_IMPRESSION||e===a.EVENT_AD_FIRST_QUARTILE||e===a.EVENT_AD_MIDPOINT||e===a.EVENT_AD_THIRD_QUARTILE||e===a.EVENT_AD_COMPLETE)||t===a.EVENT_TYPE_STANDARD&&(e===a.EVENT_AD_PAUSE||e===a.EVENT_AD_RESUME||e===a.EVENT_AD_REWIND||e===a.EVENT_AD_MUTE||e===a.EVENT_AD_UNMUTE||e===a.EVENT_AD_COLLAPSE||e===a.EVENT_AD_EXPAND||e===a.EVENT_AD_MINIMIZE||e===a.EVENT_AD_CLOSE||e===a.EVENT_AD_ACCEPT_INVITATION)||t===a.EVENT_TYPE_ERROR&&e===a.EVENT_ERROR},isPlayable:function(){var e;return(e=!(this._rendererController.getRendererState()==a.RendererFailedState.instance&&!this._isImpressionSent))?((e=e&&!this._translated)||void 0,e):e},toString:function(){return"[AdInstance "+this._adId+"]"},getCompanionAdInstances:function(){for(var e=[],t=0;t<this._companionAdInstances.length;++t)this._companionAdInstances[t].isPlaceholder()||e.push(this._companionAdInstances[t]);return e},isRequiredToShow:function(){return this._context._adResponse.getAd(this._adId).isRequiredToShow()}}),a.AdManager=function(){var e=this;this._context=this.newContext(),this._context.addEventListener(a.EVENT_REQUEST_COMPLETE,function(t){e.onRequestComplete(t)}),this._networkId=this._serverURL="",this._onRequestComplete=this._location=null},a.AdManager.prototype={getVersion:function(){if(a.version){var e=a.version.match(/^js-(\d)\.(\d)\.(\d).(\d)/)||a.version.match(/^js-(\d)\.(\d)\.(\d)/)||a.version.match(/^js-(\d)\.(\d)/);if(0<e.length)return(e[1]<<24)+(e[2]<<16)+(e[3]<<8)+e[4];if(0===a.versions.indexOf("js-trunk"))return 4294967295}return 0},setNetwork:function(e){if(1*e>0){this._networkId=1*e;for(var t in a._instanceQueue)if(a._instanceQueue.hasOwnProperty(t)){var n=a._instanceQueue[t];n&&n._videoAsset._videoPlayPending&&n._videoAsset.play()}}},setServerURL:function(e){this.setServer(e)},setServer:function(e){if(e&&"string"==typeof e){this._serverURL=e;for(var t in a._instanceQueue)if(a._instanceQueue.hasOwnProperty(t)){var n=a._instanceQueue[t];n&&n._videoAsset._videoPlayPending&&n._videoAsset.play()}}else;},setLocation:function(e){this._location=e},newContext:function(){return new a.Context(this)},setParameter:function(e,t,n){this._context.setParameter(e,t,n)},getParameter:function(e){return this._context.getParameter(e)},submitRequest:function(e,t){e&&"function"==typeof e?this._onRequestComplete=e:void 0,this._context.submitRequest(t/1e3)},onRequestComplete:function(e){this._onRequestComplete&&(this._onRequestComplete({success:e.success,response:e.response}),this._onRequestComplete=null)},registerVideoDisplayBase:function(e){this._context.registerVideoDisplayBase(e)},setVideoAsset:function(e,t){this._context.setVideoAsset(e,t)},setSiteSection:function(e){this._context.setSiteSection(e)},addKeyValue:function(e,t){this._context.addKeyValue(e,t)},setVideoDisplayCompatibleSizes:function(e){this._context.setVideoDisplayCompatibleSizes(e)},playSlots:function(e,t){"string"==typeof e&&(e=e.toUpperCase()),this._playSlots(e,t)},_playSlots:function(e,t){if("function"!=typeof t&&(t=function(){}),this._context._adResponse){for(var n=[],i=this._context.getTemporalSlots(),r=0;r<i.length;++r){var s=i[r];(.1>Math.abs(s.getTimePosition()-e)||e===s.getTimePositionClass())&&n.push(s)}if(0===n.length)t();else if(e===a.TIME_POSITION_CLASS_OVERLAY)for(r=0;r<n.length;r++)(function(e){if(!e._onContentVideoTimeUpdate){var t=this._context.getContentVideoElement(),n=e._onContentVideoTimeUpdate=function(){!t.paused&&!0!==t._fw_videoAdPlaying&&0<=t.currentTime-e.getTimePosition()&&1>t.currentTime-e.getTimePosition()&&(t.removeEventListener("timeupdate",n,!1),e._play(function(){var i=setInterval(function(){!t.paused&&2<Math.abs(t.currentTime-e.getTimePosition())&&(t.addEventListener("timeupdate",n,!1),clearInterval(i))},1e3)}))};t.addEventListener("timeupdate",n,!1)}})(n[r]);else(function(){var e=n.shift();e?e._play(arguments.callee):t()})()}else t()},dispose:function(){this._context.dispose(),this._onRequestComplete=null},cloneContext:function(e){var t,n=this.newContext(),i=e._adRequest._capabilities._capabilities;for(t in i)i.hasOwnProperty(t)&&n.setCapability(t,i[t]);return n.setProfile(e._adRequest._playerProfile),n.setSiteSection(e._ss_id,e._ss_networkId,e._ss_pageViewRandom,e._ss_idType,e._ss_fallbackId),n.setVideoAsset(e._va_id,e._va_duration,e._va_networkId,e._va_location,e._va_autoPlayType,e._va_viewRandom,e._va_idType,e._va_fallbackId),n.setVisitor(e._adRequest._visitorCustomId),n}},a.AdManager.prototype.constructor=a.AdManager,a.AdRequest=function(e){this._context=e,this._capabilities=new a.Capabilities,this._keyValues=[],this._playerProfile="",this._compatibleDimensions=null,this._temporalSlots=[],this._siteSectionId=this._siteSectionCustomId="",this._siteSectionViewRandom=this._siteSectionFallbackId=this._siteSectionNetworkId=0,this._visitorCustomId="",this._subsessionToken=0,this._slotScanner=new a.PageSlotScanner(e),this._urlParams={},this._urlKeyValues=[],this._customInfo=""},a.AdRequest.prototype={setCapability:function(e,t){this._capabilities.setCapability(e,t)},addKeyValue:function(e,t){if("string"!=typeof e||"string"!=typeof t||0===e.length);else{var n=encodeURIComponent(e)+"="+encodeURIComponent(t);0>this._keyValues.indexOf(n)&&this._keyValues.push(n)}},setProfile:function(e){"string"!=typeof e?void 0:this._playerProfile=e},setVideoDisplayCompatibleSizes:function(e){if(e&&e.length){for(var t=[],n={},i=0;i<e.length;++i)if(0<e[i].width&&0<e[i].height){var a=e[i].width+","+e[i].height;null==n[a]&&(n[a]="",t.push(a))}0<t.length&&(this._compatibleDimensions=t.join("|"))}else;},setSiteSection:function(e,t,n,i,r){if(e){switch(i){case a.ID_TYPE_FW:this._siteSectionId=e;break;case a.ID_TYPE_GROUP:this._siteSectionId="g"+e;break;default:this._siteSectionCustomId=e}1*t>0&&(this._siteSectionNetworkId=1*t),1*n>0&&(this._siteSectionViewRandom=1*n),1*r>0&&(this._siteSectionFallbackId=1*r)}},setVisitor:function(e){"string"!=typeof e?void 0:this._visitorCustomId=e},addTemporalSlot:function(e,t,n,i,r){if(a.Util.isBlank(e)||a.Util.isBlank(t)||0>n);else{for(var s=0;s<this._temporalSlots.length;s++)if(this._temporalSlots[s].getCustomId()===e)return;s=new a.Slot(this._context),s.setCustomId(e),s.setAdUnit(t),s.setTimePosition(n),s.setSlotProfile(i),s.setCuepointSequence(1*r),this._temporalSlots.push(s)}},setSubsessionToken:function(e){this._subsessionToken=e},scanPageSlots:function(){this._slotScanner.scanPageSlots()},generateTypeBRequestUrl:function(){var e=this._context._adManager._serverURL.split("?"),t=e[0],n=[/fwmrm\.net$/,/fwmrm\.net\/$/,/fwmrm\.net\/ad$/,/fwmrm\.net\/ad\/$/,/fwmrm\.net\/ad\/g$/,/fwmrm\.net\/ad\/g\/$/,/fwmrm\.net\/ad\/g\/1$/];if(0===t.indexOf("http://")||0===t.indexOf("https://"))for(var i=0;i<n.length;++i)if(t.match(n[i])){t=t.slice(0,t.indexOf("fwmrm.net")+9)+"/ad/g/1";break}return this.parseQueryStr(e.slice(1).join("?")),e=this.generateGlobalParametersQueryStr()+";"+this.generateKeyValuesStr()+";",this._capabilities.getCapability(a.CAPABILITY_SKIP_AD_SELECTION)&&1==this._capabilities.getCapability(a.CAPABILITY_SKIP_AD_SELECTION)||(e+=this.generateSlotsTypeBStr()),a.Util.isBlank(this._customInfo)||(e+=";"+this._customInfo),t+"?"+e},generateVideoViewRequestUrlWithDummyContextInstanceId:function(e){this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_ON),this._context.setCapability(a.CAPABILITY_SKIP_AD_SELECTION,a.CAPABILITY_STATUS_ON);var t=this.generateTypeBRequestUrl(),t=a.Util.setParameterInURL(t,"cbfn","tv.freewheel.SDK._instanceQueue['Context_"+e+"']._videoAsset.requestComplete");return this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_UNSET),this._context.setCapability(a.CAPABILITY_SKIP_AD_SELECTION,a.CAPABILITY_STATUS_UNSET),t},parseQueryStr:function(e){if(this._urlParams={},this._urlKeyValues=[],this._customInfo="",e){";"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1));var t,n,i=e.split(";");if(i[0])for(t=i[0].split("&"),n=0;n<t.length;++n){var a=t[n].split("=");2===a.length&&(this._urlParams[a[0]]=a[1])}if(i[1])for(t=i[1].split("&"),n=0;n<t.length;++n)this._urlKeyValues.push(t[n]);i[2]&&(this._customInfo=i.slice(2).join(";"))}},generateGlobalParametersQueryStr:function(){for(var e=this._context.getParameter("wrapperVersion"),e=[["prof",this._playerProfile,"string"],["nw",this._context._adManager._networkId,"number"],["caid",this._context._videoAsset._customId,"string"],["asid",this._context._videoAsset._id,"string"],["vdur",this._context._videoAsset._duration,"number"],["asnw",this._context._videoAsset._networkId,"number"],["asml",this._context._videoAsset._location,"string"],["vprn",this._context._videoAsset._viewRandom,"number"],["afid",this._context._videoAsset._fallbackId,"number"],["csid",this._siteSectionCustomId,"string"],["ssid",this._siteSectionId,"string"],["ssnw",this._siteSectionNetworkId,"number"],["pvrn",this._siteSectionViewRandom,"number"],["sfid",this._siteSectionFallbackId,"number"],["vcid",this._visitorCustomId,"string"],["ssto",this._subsessionToken,"number"],["cd",this._compatibleDimensions||this.detectScreenDimension(),"string"],["vclr",a.version+(e?","+e:""),"string"],["resp",a.PLATFORM_SEND_REQUEST_BY_FORM?"json2":"json","string"],["orig",window.location.protocol+"//"+window.location.host,"string"],["cbfn","tv.freewheel.SDK._instanceQueue['Context_"+this._context._instanceId+"'].requestComplete","string"]],t=0;t<e.length;t++){var n=e[t];switch(n[2]){case"string":a.Util.isBlank(n[1])||(this._urlParams[n[0]]=encodeURIComponent(n[1]));break;case"number":0<n[1]&&(this._urlParams[n[0]]=n[1])}}var i,e="";for(i in this._urlParams)this._urlParams.hasOwnProperty(i)&&(e+=i+"="+this._urlParams[i]+"&");switch(e=e.substring(0,e.length-1),0<this._slotScanner._candidateAds.length&&(null==this._capabilities._capabilities[a.CAPABILITY_CHECK_COMPANION]&&this._capabilities.setCapability(a.CAPABILITY_CHECK_COMPANION,a.CAPABILITY_STATUS_ON),null==this._capabilities._capabilities[a.CAPABILITY_CHECK_TARGETING]&&this._capabilities.setCapability(a.CAPABILITY_CHECK_TARGETING,a.CAPABILITY_STATUS_OFF)),!this._context._videoAsset._eventCallback&&!this._context._videoAsset._requestedVideoViewUrl&&(this._context._videoAsset._id||this._context._videoAsset._customId)&&this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_ON),e=this._capabilities.parseCapabilities(e),this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_UNSET),i="",this._context._videoAsset._autoPlayType){case a.VIDEO_ASSET_AUTO_PLAY_TYPE_UNATTENDED:i="+play+uapl";break;case a.VIDEO_ASSET_AUTO_PLAY_TYPE_NONE:i="-play";break;default:i="+play-uapl"}return e=e.replace(/flag=/,"flag="+encodeURIComponent(i))},generateKeyValuesStr:function(){for(var e=a.Util.flashVersion(),e=this._keyValues.concat(["_fw_h_x_flash_version="+encodeURIComponent(e),"_fw_dpr="+(void 0===window.devicePixelRatio?"1":window.devicePixelRatio.toFixed(2).toString())]),t=0;t<this._urlKeyValues.length;t++){var n=this._urlKeyValues[t];0>e.indexOf(n)&&e.push(n)}return(t=this._context._adManager._location)&&e.push("ltlg="+encodeURIComponent(Math.round(1e4*t.coords.latitude)/1e4+","+Math.round(1e4*t.coords.longitude)/1e4)),e.join("&")},generateSlotsTypeBStr:function(){for(var e="",t=[],n=0;n<this._temporalSlots.length;n++){for(var i=this._temporalSlots[n],i=[["slid",i.getCustomId(),"string"],["slau",i.getAdUnit(),"string"],["ptgt","a","string"],["tpos",i.getTimePosition(),"number"],["cpsq",i.getCuepointSequence(),"number"],["envp",i.getSlotProfile(),"string"]],r=[],s=0;s<i.length;s++){var o=i[s];switch(o[2]){case"string":a.Util.isBlank(o[1])||r.push(o[0]+"="+encodeURIComponent(o[1]));break;case"number":"cpsq"===o[0]?0<o[1]&&r.push(o[0]+"="+o[1]):0<=o[1]&&r.push(o[0]+"="+o[1])}}t.push(r.join("&"))}return 0<t.length&&(e=t.join(";")+";"),e+=this._slotScanner.slotsToTypeBStr()},detectScreenDimension:function(){return screen.width+","+screen.height}},a.AdResponse=function(e){this._context=e},a.AdResponse.prototype={},a.AdResponse.prototype.constructor=a.AdResponse,a.Util.mixin(a.AdResponse.prototype,{parse:function(e,t){this._data=e,this._temporalSlots=[],this._videoPlayerNonTemporalSlots=[],this._siteSectionNonTemporalSlots=[],this._profileParameters={},this._ads=[],this._siteSectionCustomId=a.Util.getObject("siteSection.customId",e)||"",this._adRenderers=[];var n,i,r;
for(i=a.Util.getObject("parameters",e)||[],n=0;n<i.length;++n)r=i[n],this._profileParameters[r.name]=r.value;for(this._adRenderers=a.Util.getObject("rendererManifest.adRenderers.adRenderer",e)||[],n=0;n<this._adRenderers.length;n++)"undefined"!=typeof this._adRenderers[n].adUnit&&(this._adRenderers[n].baseUnit=this._adRenderers[n].adUnit,delete this._adRenderers[n].adUnit);for(i=a.Util.getObject("ads.ads",e)||[],n=0;n<i.length;++n)r=new a.Ad(this._context),r.parse(i[n]),this._ads.push(r);for(i=a.Util.getObject("siteSection.videoPlayer.videoAsset.adSlots",e)||[],n=0;n<i.length;++n)r=new a.Slot(this._context),r.setType(a.SLOT_TYPE_TEMPORAL),r.setBase(t),r.parse(i[n]),this._temporalSlots.push(r);for(i=a.Util.getObject("siteSection.videoPlayer.adSlots",e)||[],n=0;n<i.length;++n)r=new a.Slot(this._context),r.setType(a.SLOT_TYPE_VIDEOPLAYER_NONTEMPORAL),r.setTimePositionClass(a.TIME_POSITION_CLASS_DISPLAY),r.parse(i[n]),this._initSlotData(r),this._videoPlayerNonTemporalSlots.push(r);for(i=a.Util.getObject("siteSection.adSlots",e)||[],n=0;n<i.length;++n)r=new a.Slot(this._context),r.setType(a.SLOT_TYPE_SITESECTION_NONTEMPORAL),r.setTimePositionClass(a.TIME_POSITION_CLASS_DISPLAY),r.parse(i[n]),this._initSlotData(r),this._siteSectionNonTemporalSlots.push(r);this._context._videoAsset.parse(a.Util.getObject("siteSection.videoPlayer.videoAsset",e)||{})},getCreativeRendition:function(e,t,n,i){return(e=this.getCreative(e,t))?e.getCreativeRendition(n,i):null},getCreative:function(e,t){var n=this.getAd(e);return n?n.getCreative(t):null},getAd:function(e){for(var t=0;t<this._ads.length;t++){var n=this._ads[t];if(n.getId()===e)return n}return null},getTemporalSlots:function(){return this._temporalSlots},getSiteSectionNonTemporalSlots:function(){return this._siteSectionNonTemporalSlots},getVideoPlayerNonTemporalSlots:function(){return this._videoPlayerNonTemporalSlots},getSiteSectionCustomId:function(){return this._siteSectionCustomId},getSlotByCustomId:function(e){for(var t=0;t<this._temporalSlots.length;++t)if(this._temporalSlots[t].getCustomId()===e)return this._temporalSlots[t];for(t=0;t<this._videoPlayerNonTemporalSlots.length;++t)if(this._videoPlayerNonTemporalSlots[t].getCustomId()===e)return this._videoPlayerNonTemporalSlots[t];for(t=0;t<this._siteSectionNonTemporalSlots.length;++t)if(this._siteSectionNonTemporalSlots[t].getCustomId()===e)return this._siteSectionNonTemporalSlots[t];return null},_initSlotData:function(e){for(var t=!1,n=0;n<this._context._adRequest._slotScanner._knownSlots.length;n++){var i=this._context._adRequest._slotScanner._knownSlots[n];if(e.getCustomId()===i.id&&i.element){e.setWidth(i.width),e.setHeight(i.height),e.setBase(i.element),e.setAcceptCompanion(i.acceptCompanion),e.setInitialAdOption(i.initialAdOption),t=!0;break}}return t}}),a.Capabilities=function(){this._capabilities={},this.init()},a.Capabilities.prototype={init:function(){for(var e=[a.CAPABILITY_SLOT_TEMPLATE,a.CAPABILITY_MULTIPLE_CREATIVE_RENDITIONS,a.CAPABILITY_FALLBACK_UNKNOWN_ASSET,a.CAPABILITY_FALLBACK_UNKNOWN_SITE_SECTION,a.CAPABILITY_FALLBACK_ADS,a.CAPABILITY_SLOT_CALLBACK,a.CAPABILITY_NULL_CREATIVE,a.CAPABILITY_AUTO_EVENT_TRACKING,a.CAPABILITY_RENDERER_MANIFEST],t=0;t<e.length;t++)this._capabilities[e[t]]=a.CAPABILITY_STATUS_ON},setCapability:function(e,t){this._capabilities[e]=t},getCapability:function(e){return this._capabilities[e]},parseCapabilities:function(e){var t,n="";for(t in this._capabilities)if(this._capabilities.hasOwnProperty(t)){switch(this._capabilities[t]){case a.CAPABILITY_STATUS_ON:n+="+"+t;break;case a.CAPABILITY_STATUS_OFF:n+="-"+t}e=e.replace(RegExp("(%2B|-|\\+)"+t,"g"),"")}return n=encodeURIComponent(n),e=-1<e.indexOf("flag=")?e.replace(/flag=/,"flag="+n):e+("&flag="+n)}},a.ContentVideoExtension=function(e){function t(){u=d.currentTime,d.pause()}function n(){if(!c._videoAsset||null!=c._videoAsset._state&&c._videoAsset._state!==a.VIDEO_STATE_COMPLETED){if(d.play(),a.PLATFORM_AUTO_SEEK_AFTER_MIDROLL){var e=c.getParameter(a.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SEEK_BACK);null==e&&(e="true"),!1!==a.Util.str2bool(e)&&(_&&(d.removeEventListener("timeupdate",_,!1),_=null),_=function(){if(!(0>=d.currentTime||0>=d.seekable.length)&&(d.removeEventListener("timeupdate",_,!1),_=null,0<d.currentTime&&1>d.currentTime&&u>1))try{d.currentTime=u}catch(e){}},d.addEventListener("timeupdate",_,!1))}}else;}function i(e){switch(e.slot.getTimePositionClass()){case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_POSTROLL:p=d.src,h=d.controls,d.paused||d.pause()}}function r(e){switch(e=e.slot.getTimePositionClass()){case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_POSTROLL:d.src!==p&&(d.src=p),d.controls=h,e===a.TIME_POSITION_CLASS_PREROLL&&d.load()}}function s(e,t){var n=c.getParameter(e);return null==n&&(n=t),a.Util.str2bool(n)}var o=!0,l=!0,c=e,d=e.getContentVideoElement(),u=0,_=null,p=null,h=null;return{start:function(){o=s(a.PARAMETER_EXTENSION_CONTENT_VIDEO_RESPOND_PAUSE_RESUME,!0),l=s(a.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE,!0),o&&(c.addEventListener(a.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,t),c.addEventListener(a.EVENT_CONTENT_VIDEO_RESUME_REQUEST,n)),l&&(c.addEventListener(a.EVENT_SLOT_STARTED,i),c.addEventListener(a.EVENT_SLOT_ENDED,r))},dispose:function(){c&&(c.removeEventListener(a.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,t),c.removeEventListener(a.EVENT_CONTENT_VIDEO_RESUME_REQUEST,n),c.removeEventListener(a.EVENT_SLOT_STARTED,i),c.removeEventListener(a.EVENT_SLOT_ENDED,r),d&&_&&(d.removeEventListener("timeupdate",_,!1),_=null),c=null),d=null}}},a._instanceCounter=0,a._instanceQueue={},a.Context=function(e){this._adManager=e,this._adRequest=new a.AdRequest(this),this._adResponse=null,this._videoAsset=new a.VideoAsset(this),this._temporalSlotBase=null,this._videoDisplaySize={},this._globalLevelParameterDictionary={},this._overrideLevelParameterDictionary={},this._rendererManifest={},this._overriddenAdRenderers=[],this._eventDispatcher=new a.EventDispatcher,this._requestState=0,this._adControlExtension=new a.AdControlExtension(this),this._surveyExtension=new a.SurveyExtension(this),this._videoStateExtension=new a.VideoStateExtension(this),this._displayRefreshExtension=new a.DisplayRefreshExtension(this),this._totalSetDisplaySizeCount=this._autoSetDisplaySizeCount=0,this._instanceId=a._instanceCounter,a._instanceQueue["Context_"+a._instanceCounter]=this,a._instanceCounter++,this._contentVideoAttached=!1,this._currentContentPlayheadTime=0,this._ss_id="",this._ss_networkId=this._ss_pageViewRandom=0,this._ss_idType=a.ID_TYPE_CUSTOM,this._ss_fallbackId=0,this._va_location=this._va_networkId=this._va_duration=this._va_id="",this._va_autoPlayType=a.VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED,this._va_viewRandom=this._va_fallbackId=0,this._va_idType=a.ID_TYPE_CUSTOM,this._isRefreshRequest=!1,this._refreshSlots=[]},a.Context.prototype={addRenderer:function(e,t,n,i,a,r,s){this._overriddenAdRenderers.push({url:e,baseUnit:t,contentType:n,creativeApi:r,slotType:i,soAdUnit:a,parameter:s})},setCapability:function(e,t){this._adRequest.setCapability(e,t)},addKeyValue:function(e,t){this._adRequest.addKeyValue(e,t)},setParameter:function(e,t,n){var i=null;if(n===a.PARAMETER_LEVEL_GLOBAL)i=this._globalLevelParameterDictionary;else{if(n!==a.PARAMETER_LEVEL_OVERRIDE)return;i=this._overrideLevelParameterDictionary}null==t?delete i[e]:i[e]=t},getParameter:function(e){return e?this._overrideLevelParameterDictionary.hasOwnProperty(e)?this._overrideLevelParameterDictionary[e]:this._adResponse&&this._adResponse._profileParameters.hasOwnProperty(e)?this._adResponse._profileParameters[e]:this._globalLevelParameterDictionary.hasOwnProperty(e)?this._globalLevelParameterDictionary[e]:null:null},setVideoState:function(e){this._videoAsset.setVideoState(e)},registerVideoDisplayBase:function(e){if(e&&"string"==typeof e)if(this._temporalSlotBase&&this._temporalSlotBase.id===e){var t=this._temporalSlotBase.getElementsByTagName("video");this._setVideoDisplaySizeByContentVideo(t[0])}else(this._temporalSlotBase=document.getElementById(e))?(t=this._temporalSlotBase.getElementsByTagName("video"),0===t.length?this._temporalSlotBase=null:(this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]=t[0],this._setVideoDisplaySizeByContentVideo(t[0]),this._startContentVideoExtension())):void 0;else;},setContentVideoElement:function(e){e&&e.parentNode?(this._temporalSlotBase=e.parentNode,this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]===e?this._setVideoDisplaySizeByContentVideo(e):(this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]=e,this._setVideoDisplaySizeByContentVideo(e),this._startContentVideoExtension())):void 0},getContentVideoElement:function(){return this._temporalSlotBase?this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]:null},setVideoDisplaySize:function(e,t,n,i,r){this._totalSetDisplaySizeCount++,this._videoDisplaySize={left:e,top:t,width:n,height:i,position:r};for(var s=this.getTemporalSlots(),o=0;o<s.length;++o){var l=s[o];if(l.getState()===a.MediaPlayingState.instance||l.getState()===a.MediaReplayingState.instance){(s=l.getCurrentAdInstance())&&((s=s.getRendererController().getRenderer())&&s.resize?s.resize():void 0);break}}},getVideoDisplaySize:function(){function e(e){return e=parseInt(e,10),isNaN(e)&&(e=0),e}return this._videoDisplaySize.left=e(this._videoDisplaySize.left),this._videoDisplaySize.right=e(this._videoDisplaySize.right),this._videoDisplaySize.width=e(this._videoDisplaySize.width),this._videoDisplaySize.height=e(this._videoDisplaySize.height),this._videoDisplaySize},setVideoDisplayCompatibleSizes:function(e){this._adRequest.setVideoDisplayCompatibleSizes(e)},setProfile:function(e){this._adRequest.setProfile(e)},setVideoAsset:function(e,t,n,i,a,r,s,o){this._videoAsset.setVideoAsset(e,t,n,i,a,r,s,o),this._va_id=e,this._va_duration=t,this._va_networkId=n,this._va_location=i,this._va_autoPlayType=a,this._va_viewRandom=r,this._va_idType=s,this._va_fallbackId=o},setSiteSection:function(e,t,n,i,a){this._adRequest.setSiteSection(e,t,n,i,a),this._ss_id=e,this._ss_networkId=t,this._ss_pageViewRandom=n,this._ss_idType=i,this._ss_fallbackId=a},setVisitor:function(e){this._adRequest.setVisitor(e)},startSubsession:function(e){this._adRequest.setSubsessionToken(e)},addTemporalSlot:function(e,t,n,i,a){this._adRequest.addTemporalSlot(e,t,n,i,a)},getTemporalSlots:function(){return this._adResponse?this._adResponse._temporalSlots.slice():[]},getSlotByCustomId:function(e){return this._adResponse?this._adResponse.getSlotByCustomId(e):null},getSlotsByTimePositionClass:function(e){var t=[];if(this._adResponse){for(var n=0;n<this._adResponse._temporalSlots.length;n++)this._adResponse._temporalSlots[n].getTimePositionClass()===e&&t.push(this._adResponse._temporalSlots[n]);for(n=0;n<this._adResponse._siteSectionNonTemporalSlots.length;n++)this._adResponse._siteSectionNonTemporalSlots[n].getTimePositionClass()===e&&t.push(this._adResponse._siteSectionNonTemporalSlots[n]);for(n=0;n<this._adResponse._videoPlayerNonTemporalSlots.length;n++)this._adResponse._videoPlayerNonTemporalSlots[n].getTimePositionClass()===e&&t.push(this._adResponse._videoPlayerNonTemporalSlots[n])}return t},submitRequest:function(e){if(this._requestState);else if(a.Util.isBlank(this._adManager._serverURL));else{if(this._requestState=1,this._adRequest.scanPageSlots(),this._isRefreshRequest){for(var t={},n=[],i=0;i<this._refreshSlots.length;i++){var r=this._refreshSlots[i];if(void 0!=this._adRequest._slotScanner._slots[r]){t[r]=this._adRequest._slotScanner._slots[r];for(var s=t[r].split("&"),o=0;o<s.length;o++)-1!==s[o].search("flag")&&(s[o]="flag=-cmpn");t[r]=s.join("&")}for(o=0;o<this._adRequest._slotScanner._knownSlots.length;o++)this._adRequest._slotScanner._knownSlots[o].id==r&&(s=this._adRequest._slotScanner._knownSlots[o],s.acceptCompanion=!1,s.initialAdOption=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE,n.push(s))}this._adRequest._slotScanner._slots=t,this._adRequest._slotScanner._knownSlots=n}this.getParameter(a.PARAMETER_ENABLE_FORM_TRANSPORT)&&(a.PLATFORM_SEND_REQUEST_BY_FORM=!0),t=this._adManager._serverURL,".js"!==t.substring(t.length-3,t.length)&&(t=this._adRequest.generateTypeBRequestUrl());var l=this;("number"!=typeof e||0>=e||!e)&&(e=5),setTimeout(function(){1===l._requestState&&l.requestComplete(null)},1e3*e),a.PLATFORM_SEND_REQUEST_BY_FORM?(a.Util.pingURLWithForm(t,this._instanceId,!0),l._onMessagePosted=function(e){"object"==typeof e.data&&e.data.hasOwnProperty("cbfn")&&-1<e.data.cbfn.indexOf("['Context_"+l._instanceId+"']")&&l.requestComplete(e.data.response)},window.addEventListener("message",l._onMessagePosted,!1)):a.Util.pingURLWithScript(t)}},requestComplete:function(e){if(1!==this._requestState)this.dispatchEvent(a.EVENT_REQUEST_COMPLETE,{success:!1});else{if(this._requestState=2,a.PLATFORM_SEND_REQUEST_BY_FORM){window.removeEventListener("message",this._onMessagePosted,!1);var t=document.getElementById("_fw_request_iframe_"+this._instanceId);document.body.removeChild(t)}if(null!==e){for(this._adControlExtension.start(),this._surveyExtension.start(),this._displayRefreshExtension.start(),a._instanceQueue["Context_"+this._instanceId]=null,this._adResponse=new a.AdResponse(this),this._adResponse.parse(e,this._temporalSlotBase),this._videoStateExtension.start(),this.dispatchEvent(a.EVENT_REQUEST_COMPLETE,{success:!0,response:e}),t=this._adResponse.getSiteSectionNonTemporalSlots(),e=0;e<t.length;++e)t[e].play();for(t=this._adResponse.getVideoPlayerNonTemporalSlots(),e=0;e<t.length;++e)t[e].play()}else this.dispatchEvent(a.EVENT_REQUEST_COMPLETE,{success:!1})}},addEventListener:function(e,t){this._eventDispatcher.addEventListener(e,t)},removeEventListener:function(e,t){this._eventDispatcher.removeEventListener(e,t)},dispatchEvent:function(e,t){if(e===a.EVENT_SLOT_STARTED){var n=t.slot.getTimePositionClass();n!==a.TIME_POSITION_CLASS_PREROLL&&n!==a.TIME_POSITION_CLASS_MIDROLL&&n!==a.TIME_POSITION_CLASS_POSTROLL||(this._contentVideoAttached=!0,this._markCurrentContentPlayheadTime())}else e===a.EVENT_SLOT_ENDED&&(n=t.slot.getTimePositionClass(),n===a.TIME_POSITION_CLASS_PREROLL||n===a.TIME_POSITION_CLASS_MIDROLL||n===a.TIME_POSITION_CLASS_POSTROLL)&&(this._contentVideoAttached=!1);t=t||{},t.type=e,t.target=this,this._eventDispatcher.dispatchEvent(t)},dispose:function(){if(this.setVideoState(a.VIDEO_STATE_STOPPED),this._adResponse){if(this._contentVideoExtension&&(this._contentVideoExtension.dispose(),this._contentVideoExtension=null),this._adControlExtension.dispose(),this._surveyExtension.dispose(),this._displayRefreshExtension.dispose(),this._videoStateExtension.dispose(),this._temporalSlotBase){for(var e=0,t=this._adResponse._temporalSlots||[];e<t.length;++e){var n=t[e];if(n._onContentVideoTimeUpdate){var i=this._temporalSlotBase["_fw_contentVideo_"+this._instanceId];i&&i.removeEventListener("timeupdate",n._onContentVideoTimeUpdate,!1),n._onContentVideoTimeUpdate=null}}this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]=null}this._isRefreshRequest=!1,this._refreshSlots=[]}},_markCurrentContentPlayheadTime:function(){var e=this._temporalSlotBase["_fw_contentVideo_"+this._instanceId].currentTime;e>0&&(this._currentContentPlayheadTime=e)},_getContentPlayheadTime:function(){var e=-1;return this._contentVideoAttached||(e=this._temporalSlotBase["_fw_contentVideo_"+this._instanceId].currentTime),e>0?e:this._currentContentPlayheadTime},_setVideoDisplaySizeByContentVideo:function(e){if(this._autoSetDisplaySizeCount===this._totalSetDisplaySizeCount){var t=e.style.left,n=e.style.top,i=e.offsetWidth?e.offsetWidth:e.style.pixelWidth,a=e.offsetHeight?e.offsetHeight:e.style.pixelHeight,e=e.style.position;this._autoSetDisplaySizeCount++,this.setVideoDisplaySize(t,n,i,a,e)}},_startContentVideoExtension:function(){var e=this.getParameter(a.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED);null==e&&(e="true"),!1===a.Util.str2bool(e)?void 0:this._temporalSlotBase?(this._contentVideoExtension&&this._contentVideoExtension.dispose(),this._contentVideoExtension=new a.ContentVideoExtension(this),this._contentVideoExtension.start()):void 0},_replacePageSlot:function(a,c){navigator.userAgent.match(/MSIE/);var d=null!=navigator.userAgent.match(/Firefox/),f=function(){window._fw_admanager&&1==window._fw_admanager.enableDebug&&window.console&&console.log&&(console.log.apply,void 0)};f("fw replace %s",a);var g,h,i;try{g=document.getElementById(a)?document:parent.document.getElementById(a)?parent.document:null,h=document.getElementById(a)?"window":parent.document.getElementById(a)?"parent":null}catch(k){h=g=null}if(!g)for(var j=0;j<window.frames.length;j++)try{window.frames[j].document.getElementById(a)&&(g=window.frames[j].document,h="window.frames["+j+"]")}catch(m){f(m)}if(h&&(i=h+".document"),f("fw replacing slot %s in frame %s",a,i),!g)throw"Slot element not found: "+a;j=g.getElementById("_fw_container_"+a),j.innerHTML=c;for(var j=j.getElementsByTagName("script"),l=g.getElementsByTagName("head")[0],o=0;o<j.length;++o)if(d||j[o].src){var n=g.createElement("script");j[o].charset&&(n.charset=j[o].charset),j[o].src&&(n.src=j[o].src),j[o].innerHTML&&(n.innerHTML=j[o].innerHTML),n.onload=n.onreadystatechange=function(){(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)&&l.removeChild(n)},f("fw append script for %s",a),l.appendChild(n)}else n=j[o].innerHTML,n=n.replace(/var fw_scope = document;/,"var fw_scope="+i+";"),n=n.replace(/var fw_scope_window = window;/,"var fw_scope_window="+h+";"),f("fw eval in %s for %s, %s",i,a,n),eval(n);f("fw finish replace %s",a)}},a.Context.prototype.constructor=a.Context,a.DisplayRefreshExtension=function(e){this.REFRESH_TYPE_NONE="refresh_none",this.REFRESH_TYPE_AD="refresh_ad",this.REFRESH_TYPE_TIME="refresh_time",this.REPLACE_TYPE_NONE="replace_none",this.REPLACE_TYPE_BLANK="replace_blank",this.REPLACE_TYPE_AD="replace_ad",this._context=e,this._subContext=null,this._displaySlots=[],this._companionSlots=[],this._keyValues=[],this._globalParameters=[],this._overrideParameters=[],this._refreshType=this.REFRESH_TYPE_NONE,this._replaceType=this.REPLACE_TYPE_NONE,this._refreshInterval=0,this._refreshTimer=null,this._firstTemporalAd=!0,this._REQUEST_TIME_OUT=5,this.init()},a.DisplayRefreshExtension.prototype={start:function(){},init:function(){this._onRendererEvent=a.Util.bind(this,function(e){e.subType===a.EVENT_AD_IMPRESSION&&this._onAdStarted(e)}),this._onSlotEnded=a.Util.bind(this,function(e){var t=e.slot.getTimePositionClass(),e=e.slot;if(null!=e&&t!=a.TIME_POSITION_CLASS_DISPLAY&&0!=e.getAdInstances().length)if(this._refreshType==this.REFRESH_TYPE_AD)this._resetSubContext(),this._refreshSlots(this._displaySlots);else if(this._refreshType==this.REFRESH_TYPE_TIME){this._resetSubContext(),this._refreshSlots(this._displaySlots);var n=this;this._refreshTimer=setInterval(function(){n._resetSubContext(),n._refreshSlots(n._displaySlots)},1e3*this._refreshInterval)}}),this._onRequestComplete=a.Util.bind(this,function(e){if(e.success){switch(this._context.getParameter("refreshType")){case"ad":this._refreshType=this.REFRESH_TYPE_AD;break;case"time":this._refreshInterval=this._context.getParameter("refreshInterval"),this._refreshType=0<this._refreshInterval?this.REFRESH_TYPE_TIME:this.REFRESH_TYPE_NONE;break;default:this._refreshType=this.REFRESH_TYPE_NONE}switch(this._context.getParameter("replaceMissingCompanion")){case"blank":this._replaceType=this.REPLACE_TYPE_BLANK;break;case"ad":this._replaceType=this.REPLACE_TYPE_AD;break;default:this._replaceType=this.REPLACE_TYPE_NONE}if(this._refreshType!=this.REFRESH_TYPE_NONE||this._replaceType!=this.REPLACE_TYPE_NONE){if(this._displaySlots=this._context.getSlotsByTimePositionClass(a.TIME_POSITION_CLASS_DISPLAY),this._companionSlots=this._displaySlots.filter(function(e){return e.getAcceptCompanion()}),this._keyValues=this._context._adRequest._keyValues,this._globalParameters=this._context._globalLevelParameterDictionary,this._overrideParameters=this._context._overrideLevelParameterDictionary,this._firstTemporalAd=!0,this._context.addEventListener(a.EVENT_AD,this._onRendererEvent),this._context.addEventListener(a.EVENT_SLOT_ENDED,this._onSlotEnded),this._refreshType==this.REFRESH_TYPE_TIME){var t=this;this._refreshTimer=setInterval(function(){t._resetSubContext(),t._refreshSlots(t._displaySlots)},1e3*this._refreshInterval)}}else this._refreshTimer&&clearInterval(this._refreshTimer)}}),this._context.addEventListener(a.EVENT_REQUEST_COMPLETE,this._onRequestComplete)},_resetSubContext:function(){this._subContext=this._context._adManager.cloneContext(this._context),this._subContext.setCapability(a.CAPABILITY_SLOT_TEMPLATE,a.CAPABILITY_STATUS_OFF),this._subContext.setCapability(a.CAPABILITY_DISPLAY_REFRESH,a.CAPABILITY_STATUS_ON),this._playRefreshedSlots=a.Util.bind(this,function(e){if(e.success)for(var e=this._subContext.getSlotsByTimePositionClass(a.TIME_POSITION_CLASS_DISPLAY),t=0;t<e.length;t++)e[t].play()}),this._subContext.addEventListener(a.EVENT_REQUEST_COMPLETE,this._playRefreshedSlots);for(var e=this._subContext._adRequest._keyValues,t=0;t<this._keyValues.length;t++)0>e.indexOf(this._keyValues[t])&&e.push(this._keyValues[t]);for(var n in this._globalParameters)this._globalParameters.hasOwnProperty(n)&&this._subContext.setParameter(n,this._globalParameters[n],a.PARAMETER_LEVEL_GLOBAL);for(n in this._overrideParameters)this._overrideParameters.hasOwnProperty(n)&&this._subContext.setParameter(n,this._overrideParameters[n],a.PARAMETER_LEVEL_OVERRIDE)},_onAdStarted:function(e){var t=e.adInstance.getSlot();if(null!=t&&t.getTimePositionClass()!=a.TIME_POSITION_CLASS_DISPLAY&&(this._resetSubContext(),this._refreshTimer&&clearInterval(this._refreshTimer),this._replaceType!=this.REPLACE_TYPE_NONE))for(var e=e.adInstance,t=t.getAdInstances(),n=0;n<t.length;n++)e.getAdId()===t[n].getAdId()&&this._checkMissingCompanionForAd(e)},_checkMissingCompanionForAd:function(e){for(var t=this._companionSlots.slice(),e=e.getCompanionAdInstances(),n=0;n<e.length;n++){var i=t.indexOf(e[n].getSlot());i>-1&&t.splice(i,1)}if(this._firstTemporalAd&&(this._firstTemporalAd=!1,t=t.filter(function(e){if(e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_ONLY&&e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_STAND_ALONE&&e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_THEN_STAND_ALONE&&e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE&&e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE_IF_TEMPORAL)return!0;for(var t=e.getAdInstances(),n=0;n<t.length;n++)if(!t[n].isPlaceholder())return!1;return!0})),this._replaceType==this.REPLACE_TYPE_BLANK)for(n=0;n<t.length;n++)t[n].stop(),this._subContext._replacePageSlot(t[n].getCustomId(),"");else this._replaceType==this.REPLACE_TYPE_AD&&this._refreshSlots(t)},_refreshSlots:function(e){if(null!=e&&0!=e.length){for(var t=0;t<e.length;t++)e[t].stop(),this._subContext._refreshSlots.push(e[t].getCustomId());this._subContext._isRefreshRequest=!0,this._subContext.submitRequest(this._REQUEST_TIME_OUT)}},dispose:function(){this._context&&(this._context.removeEventListener(a.EVENT_REQUEST_COMPLETE,this._onRequestComplete),this._context.removeEventListener(a.EVENT_SLOT_ENDED,this._onSlotEnded),this._context.removeEventListener(a.EVENT_AD,this._onRendererEvent),this._context=null),this._subContext&&(this._subContext.removeEventListener(a.EVENT_REQUEST_COMPLETE,this._playRefreshedSlots),this._subContext=null),this._displaySlots=[],this._companionSlots=[],this._keyValues=[],this._globalParameters=[],this._overrideParameters=[],this._refreshType=this.REFRESH_TYPE_NONE,this._replaceType=this.REPLACE_TYPE_NONE,this._refreshInterval=0,this._refreshTimer&&clearInterval(this._refreshTimer),this._refreshTimer=null,this._firstTemporalAd=!0}},a.DisplayRefreshExtension.prototype.constructor=a.DisplayRefreshExtension,a.EventCallback=function(e){this._url=this._name=this._type=null,this._showBrowser=!1,this._trackingUrls=[],this._adInstance=this._slot=null,this._context=e},a.EventCallback.prototype={},a.EventCallback.prototype.constructor=a.EventCallback,a.EventCallback.getEventCallback=function(e,t,n){for(var i,r=0;r<e.length;r++)if(i=e[r],i._name===t&&i._type===n)return i;for(r=0;r<e.length;r++)if(i=e[r],i._type===a.EVENT_TYPE_GENERIC)return(t=a.EventCallback.newEventCallback(i._context,t,n))&&(t._url=i._url,t._slot=i._slot,t._adInstance=i._adInstance,e.push(t)),t;return null},a.EventCallback.newEventCallback=function(e,t,n){var i=null;if(n===a.EVENT_TYPE_GENERIC)i=new a.EventCallback(e);else if(n===a.EVENT_TYPE_ERROR)i=new a.ErrorEventCallback(e);else if(n===a.EVENT_TYPE_CLICK)i=new a.AdClickEventCallback(e);else if(n===a.EVENT_TYPE_STANDARD)i=new a.AdStandardEventCallback(e);else if(t===a.EVENT_SLOT_IMPRESSION||t===a.EVENT_SLOT_END)i=new a.SlotImpressionEventCallback(e);else if(t===a.EVENT_AD_IMPRESSION||t===a.EVENT_AD_IMPRESSION_END)i=new a.AdImpressionEventCallback(e);else if(t===a.EVENT_VIDEO_VIEW)i=new a.VideoViewEventCallback(e);else if(t===a.EVENT_RESELLER_NO_AD)i=new a.ResellerNoAdEventCallback(e);else{if(t!==a.EVENT_AD_FIRST_QUARTILE&&t!==a.EVENT_AD_MIDPOINT&&t!==a.EVENT_AD_THIRD_QUARTILE&&t!==a.EVENT_AD_COMPLETE)return null;i=new a.AdQuartileEventCallback(e)}return i._name=t,i._type=n,i},a.EventCallback.getShortType=function(e){var t="";switch(e){case a.EVENT_TYPE_IMPRESSION:t=a.SHORT_EVENT_TYPE_IMPRESSION;break;case a.EVENT_TYPE_CLICK:t=a.SHORT_EVENT_TYPE_CLICK;break;case a.EVENT_TYPE_STANDARD:t=a.SHORT_EVENT_TYPE_STANDARD;break;case a.EVENT_TYPE_ERROR:t=a.SHORT_EVENT_TYPE_ERROR}return t},a.Util.mixin(a.EventCallback.prototype,{parse:function(e){if(e){this._usage=e.use,this._type=e.type,this._name=e.name,this._url=e.url,this._showBrowser=e.showBrowser,this._trackingUrls=[];for(var t=0,e=e.trackingUrls||[];t<e.length;t++)this._trackingUrls.push(e[t].value)}},copy:function(){var e=new this.constructor(this._context);return e._type=this._type,e._name=this._name,e._url=this._url,e._showBrowser=this._showBrowser,e._trackingUrls=this._trackingUrls.slice(),e._slot=this._slot,e._adInstance=this._adInstance,e},getUrl:function(){var e=this._replaceMacrosInUrl(this._url),e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_ET,a.EventCallback.getShortType(this._type)),e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_CN,this._name);return this._adInstance&&0<this._adInstance._creativeRenditionId&&(e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_CREATIVE_RENDITION_ID,this._adInstance._creativeRenditionId)),e},getTrackingUrls:function(){var e=this._trackingUrls;if(this._adInstance){var t=this._type;t===a.EVENT_TYPE_CLICK&&(t=a.EVENT_TYPE_CLICK_TRACKING),e=e.concat(this._adInstance.getExternalEventCallbackUrls(this._name,t))}for(var t=[],n=0;n<e.length;n++){var i=a.Util.trim(this._replaceMacrosInUrl(e[n]));a.Util.isBlank(i)||t.push(i)}return t},process:function(e){e=e||{},this._processTrackingUrls(),a.Util.pingURL(this.getUrl(e))},_processTrackingUrls:function(){this._shouldSkipSendingTrackingAndExternalUrls()||a.Util.pingURLs(this.getTrackingUrls())},_shouldSkipSendingTrackingAndExternalUrls:function(){return!1},_needEmptyCT:function(e){var t=!1;return e&&!0===e[a.INFO_KEY_NEED_EMPTY_CT]&&(t=!0),t},_getAdPlayheadTime:function(){var e=-1;return this._adInstance&&(e=this._adInstance.getPlayheadTime()),e},_getCreativeAssetLocation:function(){var e=null;return this._adInstance&&this._adInstance.getActiveCreativeRendition()&&this._adInstance.getActiveCreativeRendition().getPrimaryCreativeRenditionAsset()&&(e=this._adInstance.getActiveCreativeRendition().getPrimaryCreativeRenditionAsset().getUrl()),e},_getParameter:function(e){var t=null;return t=this._adInstance?this._adInstance._rendererController.getParameter(e):this._slot?this._slot.getParameter(e):this._context.getParameter(e)},_replaceMacrosInUrl:function(e){if(a.Util.isBlank(e))return e;var e=e.replace(/#(ce?)\{([^\}]+)\}/g,a.Util.bind(this,function(e,t,n){switch(e="ce"===t,t=null,n){case"ad.playheadTime":n=this._getAdPlayheadTime(),t=n>=0?Math.round(n)+"":"";break;case"content.playheadTime":n=this._context._getContentPlayheadTime(),t=n>=0?Math.round(n)+"":"";break;case"creative.assetLocation":t=this._getCreativeAssetLocation();break;default:0===n.indexOf("parameter.")&&(t=this._getParameter(n.substr(10)))}return a.Util.isBlank(t)&&(t=""),e?encodeURIComponent(t):t})),t=a.Util.getParameterInURL(e,a.URL_PARAMETER_KEY_CR);return a.Util.isBlank(t)||(e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_CR,this._replaceMacrosInUrl(t))),e}}),a.AdClickEventCallback=function(e){a.EventCallback.call(this,e)},a.AdClickEventCallback.prototype=new a.EventCallback,a.AdClickEventCallback.prototype.constructor=a.AdClickEventCallback,a.Util.mixin(a.AdClickEventCallback.prototype,{getUrl:function(e){var t=a.EventCallback.prototype.getUrl.call(this,e);return e[a.INFO_KEY_URL]&&(a.Util.isParameterInURL(t,a.URL_PARAMETER_KEY_CR)||(t=t+"&"+a.URL_PARAMETER_KEY_CR+"="),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CR,e[a.INFO_KEY_URL])),t},process:function(e){var e=e||{},t=this.getUrl(e),n=!0===this._showBrowser,n=e.hasOwnProperty(a.INFO_KEY_SHOW_BROWSER)?!0===e[a.INFO_KEY_SHOW_BROWSER]:n;e[a.INFO_KEY_URL]&&(n=!0),n&&!a.Util.isBlank(t)?(window.open(t),this._processTrackingUrls()):a.EventCallback.prototype.process.call(this,e)}}),a.AdImpressionEventCallback=function(e){a.EventCallback.call(this,e)},a.AdImpressionEventCallback.prototype=new a.EventCallback,a.AdImpressionEventCallback.prototype.constructor=a.AdImpressionEventCallback,a.Util.mixin(a.AdImpressionEventCallback.prototype,{_shouldSkipSendingTrackingAndExternalUrls:function(){return this._getInitValue()!==a.INIT_VALUE_ONE},_getInitValue:function(){return this._adInstance.getSlot().isPauseSlot()||!this._processed?a.INIT_VALUE_ONE:a.INIT_VALUE_TWO},getUrl:function(e){var t=a.EventCallback.prototype.getUrl.call(this,e),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_METR,this._adInstance._metr);return this._name!==a.EVENT_AD_IMPRESSION&&(t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CT,this._needEmptyCT(e)?"":this._adInstance._timer.tick())),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_INIT,this._getInitValue())},process:function(e){a.MODULE_TYPE_TRANSLATOR!==this._adInstance.getRendererController().getRenderer().info()[a.INFO_KEY_MODULE_TYPE]&&(a.EventCallback.prototype.process.call(this,e),this._processed=!0)}}),a.AdQuartileEventCallback=function(e){a.EventCallback.call(this,e)},a.AdQuartileEventCallback.prototype=new a.EventCallback,a.AdQuartileEventCallback.prototype.constructor=a.AdQuartileEventCallback,a.Util.mixin(a.AdQuartileEventCallback.prototype,{getUrl:function(e){var t=a.EventCallback.prototype.getUrl.call(this,e),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_METR,this._adInstance._metr);return t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CT,this._needEmptyCT(e)?"":this._adInstance._timer.tick())},process:function(e){this._processed||(a.EventCallback.prototype.process.call(this,e),this._processed=!0)}}),a.AdStandardEventCallback=function(e){a.EventCallback.call(this,e)},a.AdStandardEventCallback.prototype=new a.EventCallback,a.AdStandardEventCallback.prototype.constructor=a.AdStandardEventCallback,a.ErrorEventCallback=function(e){a.EventCallback.call(this,e)},a.ErrorEventCallback.prototype=new a.EventCallback,a.ErrorEventCallback.prototype.constructor=a.ErrorEventCallback,a.Util.mixin(a.ErrorEventCallback.prototype,{getUrl:function(e){var t=a.EventCallback.prototype.getUrl.call(this,e),n=e[a.INFO_KEY_ERROR_CODE];n||(n=a.ERROR_UNKNOWN);var i=e[a.INFO_KEY_ERROR_INFO];return i||(i=""),(e=e[a.INFO_KEY_ERROR_MODULE])||(e=""),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CN,n),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_KEY_VALUE,encodeURIComponent(a.URL_PARAMETER_KEY_ERROR_MODULE)+"="+encodeURIComponent(e)+"&"+encodeURIComponent(a.URL_PARAMETER_KEY_ERROR_INFO)+"="+a.PLATFORM_ID+"/"+encodeURIComponent(i))}}),a.ResellerNoAdEventCallback=function(e){
a.EventCallback.call(this,e)},a.ResellerNoAdEventCallback.prototype=new a.EventCallback,a.ResellerNoAdEventCallback.prototype.constructor=a.ResellerNoAdEventCallback,a.Util.mixin(a.ResellerNoAdEventCallback.prototype,{}),a.SlotImpressionEventCallback=function(e){a.EventCallback.call(this,e)},a.SlotImpressionEventCallback.prototype=new a.EventCallback,a.SlotImpressionEventCallback.prototype.constructor=a.SlotImpressionEventCallback,a.Util.mixin(a.SlotImpressionEventCallback.prototype,{_shouldSkipSendingTrackingAndExternalUrls:function(){return this._getInitValue()!==a.INIT_VALUE_ONE},_getInitValue:function(){return this._slot.isPauseSlot()||!this._processed?a.INIT_VALUE_ONE:a.INIT_VALUE_TWO},getUrl:function(e){return e=a.EventCallback.prototype.getUrl.call(this,e),e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_INIT,this._getInitValue())},process:function(e){a.EventCallback.prototype.process.call(this,e),this._processed=!0}}),a.VideoViewEventCallback=function(e){a.EventCallback.call(this,e)},a.VideoViewEventCallback.prototype=new a.EventCallback,a.VideoViewEventCallback.prototype.constructor=a.VideoViewEventCallback,a.Util.mixin(a.VideoViewEventCallback.prototype,{_shouldSkipSendingTrackingAndExternalUrls:function(){return this._getInitValue()!==a.INIT_VALUE_ONE},_getInitValue:function(){return this._processed?a.INIT_VALUE_ZERO:a.INIT_VALUE_ONE},_getCTValue:function(){return this._context._videoAsset.getPlayheadTime()},getUrl:function(e){return e=a.EventCallback.prototype.getUrl.call(this,e),e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_INIT,this._getInitValue()),e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_CT,this._getCTValue())},_shouldSkipSendingTrackingAndExternalUrls:function(){return this._processed},process:function(e){a.EventCallback.prototype.process.call(this,e),this._processed=!0}}),a.EventDispatcher=function(){this._listeners={}},a.EventDispatcher.prototype={addEventListener:function(e,t){"undefined"==typeof this._listeners[e]&&(this._listeners[e]=[]),this._listeners[e].push(t)},dispatchEvent:function(e){if("string"==typeof e&&(e={type:e}),e.target||(e.target=this),e.type&&this._listeners[e.type]instanceof Array)for(var t=this._listeners[e.type],n=0,i=t.length;i>n;n++)try{t[n]&&t[n].call(this,e)}catch(a){}},removeEventListener:function(e,t){if(this._listeners[e]instanceof Array){var n=this._listeners[e];if(null==t)this._listeners[e]=[];else for(var i=0,a=n.length;a>i;i++)if(n[i]===t){n.splice(i,1);break}}}},a.EventDispatcher.prototype.constructor=a.EventDispatcher,a.Hash=function(){this._keys=[],this._dictionary={}},a.Hash.prototype={},a.Hash.prototype.constructor=a.Hash,a.Util.mixin(a.Hash.prototype,{setKeyValue:function(e,t,n){e&&(this._dictionary.hasOwnProperty(e)||(0===n?this._keys.unshift(e):this._keys.push(e)),this._dictionary[e]=t)},move:function(e){for(var t=0;t<this._keys.length;t++){var n=this._keys[t];if(n===e){this._keys.splice(t,1),this._keys.push(n);break}}},getValue:function(e){return this._dictionary[e]}}),a.HTMLAdGenerator={log:function(e){},getExtension:function(e){return e&&(e=e.match(/^[^?]+\/[^?.]*(\.\w+)+/))?e[e.length-1].slice(1):""},generateAd:function(e,t,n,i,r,s,o){var l=s,c=!1;switch(null==l&&(c=!0,l=a.HTMLAdGenerator.getExtension(e).toLowerCase()),l){case"jpeg":case"jpg":case"gif":case"png":case"image/jpeg":case"image/jpg":case"image/gif":case"image/png":case"image/bmp":l=a.HTMLAdGenerator.generateImageHTML(e,t);break;case"swf":case"application/x-shockwave-flash":l=a.HTMLAdGenerator.generateFlashHTML(e,t,n,i,r);break;case"script":case"js":case"text/javascript":case"text/js_ref":case"application/x-javascript":l=a.HTMLAdGenerator.generateScriptHTML(e,n,i,r);break;case"iframe":case"html":case"htm":case"text/html":case"text/html_doc_ref":case"text/html_lit_nowrapper":case"text/html_doc_lit_mobile":l=a.HTMLAdGenerator.generateIFrameHTML(e,t,n,i,r);break;default:l=c?a.HTMLAdGenerator.generateIFrameHTML(e,t,n,i,r):a.HTMLAdGenerator.generateAd(e,t,n,i,r,null,o)}return"text/html_doc_lit_mobile"===o?a.HTMLAdGenerator.htmlLitToHTMLDocLitMobile(l):l},generateImageHTML:function(e,t){return t?'<a href="'+t+'" target="_blank"><img src="'+e+'" border="0" /></a>':'<img src="'+e+'" border="0" />'},generateFlashHTML:function(e,t,n,i,a){var r=e;return t&&0<t.length&&(r+=-1===e.indexOf("?")?"?":"&",r+="clickTag="+encodeURIComponent(t)),'<OBJECT classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"WIDTH="'+i+'" HEIGHT="'+a+'" id="'+n+'_external_ad">'+('<PARAM NAME=movie VALUE="'+r+'"/>')+'<PARAM NAME=quality VALUE=high/><PARAM NAME=bgcolor VALUE=#FFFFFF/><PARAM NAME="allowScriptAccess" VALUE="always"/><PARAM NAME="loop" VALUE="true"/>'+('<EMBED src="'+r+'" ')+('quality=high bgcolor=#FFFFFF WIDTH="'+i+'" HEIGHT="'+a+'"NAME="'+n+'_external_video" ALIGN="" TYPE="application/x-shockwave-flash"PLUGINSPAGE="http://www.macromedia.com/go/getflashplayer"></EMBED></OBJECT>')},generateIFrameHTML:function(e,t,n,i,a){return'<iframe height="'+a+'" width="'+i+'" frameborder="0" scrolling="no" allowtransparency="true" leftmargin="0" rightmargin="0" marginwidth="0" marginheight="0" src="'+e+'"></iframe>'},docLitToHTMLLit:function(e,t,n,i){return'<iframe id="_fw_frame_'+t+'" width="'+n+'" height="'+i+'" marginwidth="0" marginheight="0" frameborder="0" scrolling="no"></iframe><script language="javascript" type="text/javascript" id="_fw_container_js_'+t+"\">if(!fw_targets) {var fw_targets = [];}var _fw_wr;var fw_scope = document;var fw_content = '"+a.Util.encodeToHex(e)+"';var trgtFrm = fw_scope.getElementById(\"_fw_frame_"+t+'");trgtFrm = (trgtFrm.contentWindow) ? trgtFrm.contentWindow : (trgtFrm.contentDocument.document) ? trgtFrm.contentDocument.document : trgtFrm.contentDocument;fw_targets["'+t+'"] = trgtFrm;if(navigator.userAgent.match(/\\bMSIE\\b/) || navigator.userAgent.match(/\\bOpera\\b/)){trgtFrm.document.open();trgtFrm.document.write(fw_content);setTimeout(function(){fw_close(fw_targets["'+t+'"])}, 7500);} else if (navigator.userAgent.match(/\\bFirefox\\b/)) {if(true && fw_content.length < 2000){var ec = escape(fw_content);var fw_iframe_url = "http://m2.feiwei.tv/g/lib/template/echo.html?s="+ec;fw_scope.getElementById("_fw_frame_'+t+'").src = fw_iframe_url;} else {trgtFrm.document.open();trgtFrm.document.write(fw_content);trgtFrm.document.close();}} else {trgtFrm.document.open();trgtFrm.document.write(fw_content);trgtFrm.document.close();}function fw_close(theFrame){theFrame.document.close();}</script>'},htmlLitToDocLit:function(e){return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><title>Advertisement</title></head><body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">'+e+"</body></html>"},wrapUnsafeHTML:function(e,t,n,i){return a.HTMLAdGenerator.htmlLitToHTMLDocLitMobile(a.HTMLAdGenerator.docLitToHTMLLit(a.HTMLAdGenerator.htmlLitToDocLit(e),t,n,i))},wrapJSCode:function(e,t,n,i){return a.HTMLAdGenerator.wrapUnsafeHTML('<script language="javascript" type="text/javascript">'+e+"</script>",t,n,i)},generateScriptHTML:function(e,t,n,i){return a.HTMLAdGenerator.wrapUnsafeHTML('<script language="javascript" type="text/javascript" src="'+e+'"></script>',t,n,i)},htmlLitToHTMLDocLitMobile:function(e){return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><meta name = "viewport" content = "initial-scale = 1.0, target-densitydpi = device-dpi" /><title>Advertisement</title><script type="text/javascript">window._fw_page_url = "";</script></head><body style="margin:0px;background-color:transparent;">'+e+"</body></html>"}},a.NullRenderer=function(){},a.NullRenderer.prototype={start:function(e){e.setCapability(a.EVENT_AD_CLICK,a.CAPABILITY_STATUS_OFF),e.handleStateTransition(a.RENDERER_STATE_STARTED),e.handleStateTransition(a.RENDERER_STATE_COMPLETED)},info:function(){return{moduleType:a.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){return-1},getDuration:function(){return-1}},a.NullRenderer.prototype.constructor=a.NullRenderer,a.PageSlotScanner=function(e){this.OPTION_INIT=1,this.OPTION_FCAI=2,this.OPTION_NIIC=4,this.OPTION_NOSA=8,this.OPTION_NSIT=16,this._knownSlots=[],this._slots={},this._candidateAds=[],this._slotOptionFound=!1,this._context=e},a.PageSlotScanner.prototype={isSlotDuplicate:function(e){for(var t=0;t<this._knownSlots.length;++t)if(this._knownSlots[t].id===e)return!0;return!1},findPageSlotByScope:function(e){var t=e.document;if(t){var n,i=/(^|\s)_fwph(\s|$)/,r=t.getElementsByTagName("span");for(e._fw_admanager||(e._fw_admanager={}),e._fw_admanager.pageScanState=!0,e=0;e<r.length;++e){var s;if(n=r[e],i.test(n.className)&&(n=n.getAttribute("id"),(s=t.getElementById("_fw_input_"+n))&&!this.isSlotDuplicate(n))&&(s=s.getAttribute("value"))){";"!==s.charAt(s.length-1)&&(s+=";"),s=s.split(";");var o=s[s.length-2],l=!1;-1!==o.search("lo=i")&&(l=!0);var c=!1;-1!==o.search("prct=")&&(c=!0),0>o.search("flag=")&&(o+="&flag="),0>o.search("ptgt=")&&(o="ptgt=s&"+o),s=[];for(var d,u,_,p=o.split("&"),o=!0,h=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE,g=0;g<p.length;++g)if(d=p[g].split("="),2===d.length){if(d[1]=decodeURIComponent(d[1]),"ssct"===d[0]){if(c)continue;c=!0,d[0]="prct"}"flag"===d[0]?(-1===d[1].search(/[-\+]cmpn/)&&(d[1]+="+cmpn"),"+"!==d[1].charAt(0)&&"-"!==d[1].charAt(0)&&(d[1]="+"+d[1]),l&&-1===d[1].search("-init")&&(d[1]+="-init"),-1!==d[1].search("-nrpl")&&(d[1]=d[1].replace("-nrpl","+cmpn")),-1!==d[1].search("-cmpn")&&(o=!1),h=this._getInitialOption(d[1]),this._slotOptionFound||(h=l?a.SLOT_OPTION_INITIAL_AD_KEEP_ORIGINAL:a.SLOT_OPTION_INITIAL_AD_STAND_ALONE)):"w"===d[0]?u=Number(d[1]):"h"===d[0]?_=Number(d[1]):"cana"===d[0]&&this._addCandidateAds(d[1]),d=encodeURIComponent(d[0])+"="+encodeURIComponent(d[1]),s.push(d)}c||(l=this._context.getParameter(a.PARAMETER_PAGE_SLOT_CONTENT_TYPE)||"text/html_doc_lit_mobile,text/html_doc_ref",s.push("prct="+encodeURIComponent(l))),(l=t.getElementById("_fw_container_"+n))?(this._slots[n]=s.join("&")+";",this._knownSlots.push({id:n,width:u,height:_,element:l,acceptCompanion:o,initialAdOption:h})):void 0}}}},scanPageSlots:function(){for(var e=0;e<window.frames.length;++e)try{this.findPageSlotByScope(window.frames[e])}catch(t){}try{window.parent&&window.parent!==window&&this.findPageSlotByScope(window.parent)}catch(n){}try{this.findPageSlotByScope(window)}catch(i){}},slotsToTypeBStr:function(){var e,t="";for(e in this._slots)if(this._slots.hasOwnProperty(e)){var n=this._slots[e];-1===n.search("slid=")&&(n="slid="+encodeURIComponent(e)+"&"+n),t+=n,";"!==t.charAt(t.length-1)&&(t+=";")}return t&&(t=t.substring(0,t.length-1)),t},_addCandidateAds:function(e){for(var e=e.split(","),t=0;t<e.length;t++){var n=parseInt(e[t],10);n>0&&this._candidateAds.push(n)}},_parseFlags:function(e){for(var t=[],n=[],i="",a=!0,e=e+"+",r=0;r<e.length;++r){var s=e.charAt(r);switch(s){case"+":case"-":""!=i&&(a?t.push(i):n.push(i),i=""),a="+"==s;break;default:i+=s}}return[t,n]},_getInitialOption:function(e){for(var t=!1,n=0,e=this._parseFlags(e),i=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE,r=0;r<e.length;++r)for(var s=0;s<e[r].length;++s)switch(e[r][s].toString().toLowerCase()){case"init":n=0==r?n&~this.OPTION_INIT:n|this.OPTION_INIT,t=!0;break;case"fcai":n=0==r?n|this.OPTION_FCAI:n&~this.OPTION_FCAI,t=!0;break;case"niic":n=0==r?n|this.OPTION_NIIC:n&~this.OPTION_NIIC,t=!0;break;case"nosa":n=0==r?n|this.OPTION_NOSA:n&~this.OPTION_NOSA,t=!0;break;case"nsit":n=0==r?n|this.OPTION_NSIT:n&~this.OPTION_NSIT,t=!0}switch(n){case 0:t&&(i=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE);break;case 1:i=a.SLOT_OPTION_INITIAL_AD_KEEP_ORIGINAL;break;case 3:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_ONLY;break;case 2:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_STAND_ALONE;break;case 6:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_THEN_STAND_ALONE;break;case 8:i=a.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE;break;case 10:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE;break;case 16:i=a.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE_IF_TEMPORAL;break;case 18:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE_IF_TEMPORAL;break;default:i=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE}return this._slotOptionFound=t,i}},a.PageSlotScanner.prototype.constructor=a.PageSlotScanner,a.RendererController=function(e,t){var n=null,i=null,r={},s=a.RendererInitState.instance,o={},l=[],c=0;return{getAdInstance:function(){return t},getContext:function(){return e},getRendererState:function(){return s},processEvent:function(e){var n=e.name;if(n===a.RENDERER_STATE_STARTED||n===a.RENDERER_STATE_COMPLETING||n===a.RENDERER_STATE_COMPLETED||n===a.RENDERER_STATE_FAILED)this.handleStateTransition(n,e.info);else{var i=this._inferEventType(n);i&&(i===a.EVENT_TYPE_CLICK&&e.info&&e.info[a.INFO_KEY_CUSTOM_EVENT_NAME]&&(n=e.info[a.INFO_KEY_CUSTOM_EVENT_NAME]),t.processEvent(n,i,e.info))}},handleStateTransition:function(e,n){switch(e){case a.RENDERER_STATE_STARTED:s.notifyStarted(this);break;case a.RENDERER_STATE_COMPLETING:s.complete(this);break;case a.RENDERER_STATE_COMPLETED:s.complete(this),s.notifyCompleted(this);break;case a.RENDERER_STATE_FAILED:t.getSlot()._clearScheduledAdInstance(),n||(n={});var i=t.processEvent(a.EVENT_ERROR,a.EVENT_TYPE_ERROR,n);if(n)switch(n[a.INFO_KEY_ERROR_CODE]){case a.ERROR_NO_AD_AVAILABLE:case a.ERROR_3P_COMPONENT:case a.ERROR_PARSE:(i=t.processEvent(a.EVENT_RESELLER_NO_AD,a.EVENT_TYPE_IMPRESSION))||void 0}s.fail(this)}},setCapability:function(e,n){t.setMetr(e,n)},getVersion:function(){return e._adManager.getVersion()},getParameter:function(n){if(!n)return null;if(e._overrideLevelParameterDictionary.hasOwnProperty(n))return e._overrideLevelParameterDictionary[n];if(t.getActiveCreativeRendition()&&"undefined"!=typeof t.getActiveCreativeRendition().getParameter(n))return t.getActiveCreativeRendition().getParameter(n);var i=t._creative;return i&&"undefined"!=typeof i.getParameter(n)?i.getParameter(n):"undefined"!=typeof t.getSlot().getParameter(n)?t.getSlot().getParameter(n):e._adResponse._profileParameters.hasOwnProperty(n)?e._adResponse._profileParameters[n]:e._globalLevelParameterDictionary.hasOwnProperty(n)?e._globalLevelParameterDictionary[n]:r&&r.hasOwnProperty(n)?r[n]:null},getCompanionSlots:function(){for(var e=[],n=t._companionAdInstances,i=0;i<n.length;i++)n[i].isPlaceholder()&&e.push(n[i].getSlot());return e},createNullDrivingAdInstance:function(){var e=t.getSlot().scheduleAdInstance();return e.addCreativeRendition().setContentType("null/null"),e},scheduleAdInstances:function(e){var n,i=[],a=null,e=e||[];if(0===e.length)return i;for(n=0;n<e.length;n++)e[n].getCustomId()===t.getSlot().getCustomId()&&(a=t.getSlot().scheduleAdInstance());if(!a)if(this.isTranslator())a=this.createNullDrivingAdInstance();else{if(!this.isRenderer())return i;a=t}for(var r=0;r<e.length;r++){if(e[r].getCustomId()===t.getSlot().getCustomId())a!==t&&i.push(a);else for(var s=0,c=a._companionAdInstances;s<c.length;s++)if(n=c[s],e[r]===n.getSlot()){if(this.isTranslator())i.push(n);else if(this.isRenderer()&&n.isPlaceholder()){var d=n.cloneForTranslation();a===t&&(o[d]=n),c[s]=d,i.push(d),l.push(d)}break}i.length<=r&&i.push(null)}return i},commitAdInstance:function(){if(this.isRenderer()&&t.isStarted()){for(var e=0;e<l.length;e++){var n=l[e];n&&n.getSlot().playCompanionAds(n)}l=[]}},isRenderer:function(){return n&&a.MODULE_TYPE_RENDERER===n.info()[a.INFO_KEY_MODULE_TYPE]},isTranslator:function(){return n&&a.MODULE_TYPE_TRANSLATOR===n.info()[a.INFO_KEY_MODULE_TYPE]},playable:function(){return s===a.RendererInitState.instance},reset:function(){s=a.RendererInitState.instance},play:function(){for(var e=t.getAllCreativeRenditions()||[],n=null,i=0;i<e.length;i++){var a=e[i];if(n=this._matchRendererClassName(a)){t.setActiveCreativeRendition(a);break}}0===c&&this._actualPlay(n)},_actualPlay:function(e){(i=a.Util.getObject(e)||a.Util.getObject(u+"."+e))&&(n=new i),n?s.start(this):this.handleStateTransition(a.RENDERER_STATE_FAILED,{errorCode:a.ERROR_NO_RENDERER,errorInfo:"Renderer class <"+e+"> not found"})},dispatchEvent:function(t,n){e.dispatchEvent(t,n)},requestContentStateChange:function(e){e?this.dispatchEvent(a.EVENT_CONTENT_VIDEO_PAUSE_REQUEST):this.dispatchEvent(a.EVENT_CONTENT_VIDEO_RESUME_REQUEST)},getRenderer:function(){return n},setRenderer:function(e){n=e},setRendererState:function(e){s=e},getContentVideoElement:function(){return e.getContentVideoElement()},_restorePlaceholdersForHybrid:function(){if(o&&this.isRenderer()){for(var e=[],n=0;n<t._companionAdInstances.length;n++){var i=t._companionAdInstances[n],a=o[i];a?e.push(a):e.push(i)}t._companionAdInstances=e}0<l.length&&this.isRenderer()&&(l=[])},rendererMatch:function(e){return i?i===a.Util.getObject(this._matchRendererClassName(e)):!0},_matchRendererClassName:function(n){function i(e,t,n){if(!t)return!0;if(t=t.split(","),t[t.length-1]||t.pop(),n){for(e=e.toLowerCase(),n=0;n<t.length;n++)if(e==t[n].toLowerCase())return!0;return!1}return(t=0<=t.indexOf(e))||void 0,t}var s=n.getPrimaryCreativeRenditionAsset().getContentType(),o=n.getContentType(),l=n.getWrapperType(),d=n.getCreativeApi(),_=n.getBaseUnit(),p=t.getSoAdUnit(),h=t.getSlot();if(h.getType(),h=h.getTimePositionClass(),a.Util.isBlank(o)&&a.Util.isBlank(l))return null;var g=e._rendererManifest["*"];if(g||(g=e._rendererManifest[l]),g||(g=e._rendererManifest[o]),!g)for(var f=e._overriddenAdRenderers.concat(e._adResponse._adRenderers),E=0;E<f.length;E++){var T=f[E],m=!T.contentType;if(m||(l?m=i(l,T.contentType,!0):(s&&(m=i(s,T.contentType,!0)),m||(m=i(o,T.contentType,!0)))),m&&((m=!T.creativeApi)||(m=i(d,T.creativeApi)),m))if(T.baseUnit&&!i(_,T.baseUnit));else if(T.soAdUnit&&!i(p,T.soAdUnit));else if(T.slotType&&!i(h.toUpperCase(),T.slotType.toUpperCase()));else if(T.url){g=T.url,n=g.indexOf("?"),-1!==n&&(g=g.substring(0,n)),n=g.lastIndexOf("/"),-1!==n&&(g=g.substring(n+1)),n=g.lastIndexOf(".js"),-1!==n&&(g=g.substring(0,n));var A={};if(T.parameter)for(n=[].concat(T.parameter),s=0;s<n.length;s++)if(n[s].hasOwnProperty("name"))A[n[s].name]=n[s].value;else for(var v in n[s])n[s].hasOwnProperty(v)&&(A[v]=n[s][v]);if(a.Util.getObject(u+"."+g)&&(g=u+"."+g),a.Util.getObject(g))r=A,c=0;else{if(c>0)break;var I=this;v=1*this.getContext().getParameter("moduleLoadTimeout")||6e4,c=window.setTimeout(function(){c=-1,I.handleStateTransition(a.RENDERER_STATE_FAILED,{errorCode:a.ERROR_NO_RENDERER,errorInfo:"Load renderer timeout, URL:"+T.url})},v),a.Util.lazyJavaScriptLoad(T.url,function(){-1===c?void 0:(window.clearTimeout(c),c=0,r=A,I._actualPlay(g))})}break}}return g?g:a.Util.isBlank(l)&&"null/null"===o?u+".NullRenderer":null},_inferEventType:function(e){return e===a.EVENT_ERROR?a.EVENT_TYPE_ERROR:e===a.EVENT_AD_CLICK?a.EVENT_TYPE_CLICK:e===a.EVENT_AD_IMPRESSION||e===a.EVENT_AD_FIRST_QUARTILE||e===a.EVENT_AD_MIDPOINT||e===a.EVENT_AD_THIRD_QUARTILE||e===a.EVENT_AD_COMPLETE||e===a.EVENT_RESELLER_NO_AD?a.EVENT_TYPE_IMPRESSION:e===a.EVENT_AD_PAUSE||e===a.EVENT_AD_RESUME||e===a.EVENT_AD_REWIND||e===a.EVENT_AD_MUTE||e===a.EVENT_AD_UNMUTE||e===a.EVENT_AD_COLLAPSE||e===a.EVENT_AD_EXPAND||e===a.EVENT_AD_MINIMIZE||e===a.EVENT_AD_CLOSE||e===a.EVENT_AD_ACCEPT_INVITATION?a.EVENT_TYPE_STANDARD:null},stop:function(){c>0&&(c=-1),s.stop(this)}}},a.RenditionSelector=function(e,t,n,i){this._targetByterate=e,this._arWeight=t,this._pxWeight=n,this._conversionFactor=i},a.RenditionSelector.prototype={getBestFitRendition:function(e,t,n){var i=this;if(e.reverse(),e=e.filter(function(e){return e&&e.getPrimaryCreativeRenditionAsset()&&(e.getPrimaryCreativeRenditionAsset().getUrl()||e.getPrimaryCreativeRenditionAsset().getContent())&&a.Util.canPlayVideoType(e.getPrimaryCreativeRenditionAsset().getMimeType())}).sort(function(e,t){return i.getBitrate(e)-i.getBitrate(t)}),!e.length)return null;var r=Number.MAX_VALUE,s=e.filter(function(e){return e=i.getBitrate(e),r=r>e?e:r,e<=i._targetByterate});return s.length||(s=e.filter(function(e){return i.getBitrate(e)<=r})),s.sort(function(e,a){return i.compareVisualMetrics(e,a,t,n)}).pop()},compareVisualMetrics:function(e,t,n,i){var a=this.calculateVisualRatios(e.getWidth(),e.getHeight(),n,i),i=this.calculateVisualRatios(t.getWidth(),t.getHeight(),n,i);if(!a&&i)return-1;if(a&&!i)return 1;if(a&&i){var n=this._conversionFactor*this._arWeight*Math.log(a.arRatio),r=this._pxWeight*Math.log(a.pixelation),a=this._conversionFactor*this._arWeight*Math.log(i.arRatio),i=this._pxWeight*Math.log(i.pixelation),n=this.findDistance(n,r,0,0),a=this.findDistance(a,i,0,0);if(a!=n)return a-n}return e.getPreference()-t.getPreference()},calculateVisualRatios:function(e,t,n,i){if(e>0&&t>0&&n>0&&i>0){var a=e/t,r=n/i;return a>r?i=n/a:n=i*a,{arRatio:a/r,pixelation:e*t/(n*i)}}return null},findDistance:function(e,t,n,i){return isNaN(e)||isNaN(n)||isNaN(t)||isNaN(i)?NaN:Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))},getBitrate:function(e){var t=e.getDuration();return(e=e.getPrimaryCreativeRenditionAsset().getBytes())&&t&&!isNaN(e)&&!isNaN(t)&&e>0&&t>0?8*e/1e3/t:-1}},a.RenditionSelector.prototype.constructor=a.RenditionSelector,a.Slot=function(e){var t,n,i,r,s,o,l,c,d="",u=null,_=null,p=null,h=null,g=[],f=[],E={},T=null,m=a.MediaInitState.instance,A=0,v=null,I=!1,S=!1,y=!0,P=[];return{getSlotProfile:function(){return _},setSlotProfile:function(e){_=e},setMediaState:function(e){m=e},setParameter:function(e,t){null===t?delete E[e]:E[e]=t},getParameter:function(e){return e&&E.hasOwnProperty(e)?E[e]:void 0},getAdCount:function(){return g.length},setCustomId:function(e){d=e},getCustomId:function(){return d},setAdUnit:function(e){s=e},getAdUnit:function(){return s},setType:function(e){u=e},getType:function(){return u},setTimePosition:function(e){n=e},getTimePosition:function(){return n},setTimePositionClass:function(e){v=e&&e.toUpperCase()},getTimePositionClass:function(){return v},setWidth:function(e){i=e},getWidth:function(){return v!==a.TIME_POSITION_CLASS_DISPLAY?i?i:e.getVideoDisplaySize().width:i},setHeight:function(e){r=1*e},getHeight:function(){return v!==a.TIME_POSITION_CLASS_DISPLAY?r?r:e.getVideoDisplaySize().height:r},setBase:function(e){t=e},getBase:function(){return t},setCuepointSequence:function(e){o=1*e?1*e:0},getCuepointSequence:function(){return o},getVideoDisplaySize:function(){return e.getVideoDisplaySize()},parse:function(t){if(t){d=t.customId,n=1*t.timePosition,v=t.timePositionClass&&t.timePositionClass.toUpperCase()||v,s=t.adUnit;for(var i,r=0,o=t.eventCallbacks||[];r<o.length;r++){i=o[r];var l=a.EventCallback.newEventCallback(e,i.name,i.type);l&&(l._slot=this,l.parse(i),f.push(l))}for(r=0,o=t.selectedAds||[];r<o.length;r++)i=o[r],t=[],l=new a.AdInstance(e),t.push(l),l._slot=this,l._slotCustomId=d,l._parentAdInstancesGroup=t,l.parse(i),g.push(t)}},getCurrentAdInstance:function(){return p},isPauseSlot:function(){return v===a.TIME_POSITION_CLASS_PAUSE_MIDROLL},play:function(e){v!==a.TIME_POSITION_CLASS_DISPLAY||y?(I=!1,v===a.TIME_POSITION_CLASS_DISPLAY&&1<g.length&&g.splice(0,g.length-1),this._play(e)):P.push({operation:this.play,argument:e})},stop:function(){v===a.TIME_POSITION_CLASS_DISPLAY&&(P=[]),m===a.MediaInitState.instance||m===a.MediaEndState.instance?void 0:(I=!0,p?p.stop():void 0)},setVisible:function(e){if(!v===a.TIME_POSITION_CLASS_DISPLAY);else if(y!=e&&(y=e))for(;0<P.length;)op=P.pop(),op.operation&&op.operation.call(this,op.argument)},_play:function(e){T=T||e,m.play(this)},onStartPlaying:function(){this._onStartPlaying()},onStartReplaying:function(){this._onStartPlaying()},onCompletePlaying:function(){this._onCompletePlaying()},onCompleteReplaying:function(){this._onCompletePlaying()},playNextAdInstance:function(){this._playNextAdInstance()||m.complete(this)},scheduleAdInstance:function(){return h=p.cloneForTranslation()},_clearScheduledAdInstance:function(){h=null},_onStartPlaying:function(){var e=a.EventCallback.getEventCallback(f,a.EVENT_SLOT_IMPRESSION,a.EVENT_TYPE_IMPRESSION);e&&e.process(),this.dispatchSlotEvent(a.EVENT_SLOT_STARTED),this.playNextAdInstance()},dispatchSlotEvent:function(t){S||e.dispatchEvent(t,{slot:this})},_onCompletePlaying:function(){T&&T(),T=null,P=[];var e=a.EventCallback.getEventCallback(f,a.EVENT_SLOT_END,a.EVENT_TYPE_IMPRESSION);e&&e.process(),p=null,this.dispatchSlotEvent(a.EVENT_SLOT_ENDED)},_playNextAdInstance:function(){return I||m!==a.MediaPlayingState.instance&&m!==a.MediaReplayingState.instance?!1:(this._commitScheduledAdInstance(),(p=this._nextPlayableAdInstance())?(p.reset(),p.getRendererController().play(),!0):!1)},_commitScheduledAdInstance:function(){if(h){var e=p._parentAdInstancesGroup.indexOf(p);e>=0&&(h._parentAdInstancesGroup=p._parentAdInstancesGroup,p._parentAdInstancesGroup.splice(e,1,h),h=null)}},_nextPlayableAdInstance:function(){var e=-1;if(p){var t=p._parentAdInstancesGroup,n=t.indexOf(p),e=g.indexOf(t);e>=0&&n>=0&&(p._isImpressionSent||n==t.length-1)&&e++}else e=0;if(0>e||e>=g.length)return null;if(m===a.MediaPlayingState.instance)for(t=g[e],n=0;n<t.length;n++){var i=t[n];if(i.getRendererController().playable())return i}else if(m===a.MediaReplayingState.instance)for(;e<g.length;e++){for(t=g[e],n=0;n<t.length;n++)if(i=t[n],i._isImpressionSent)return i;for(n=0;n<t.length;n++)if(i=t[n],i.getRendererController().getRendererState()!==a.RendererFailedState.instance&&!i._translated)return i}return null},toString:function(){return"[Slot "+d+"]"},getAdInstances:function(){for(var e=[],t=0;t<g.length;++t)for(var n=g[t],i=0;i<n.length;++i){var a=n[i];if(a.isPlayable()){e.push(a);break}}return e},getPlayheadTime:function(){for(var e=0,t=this.getAdInstances(),n=0;n<t.length;++n){if(t[n]===p){t=p.getPlayheadTime(),t>-1&&(e+=t);break}var i=t[n].getDuration();i>-1&&(e+=i)}return A&&e>A&&(e=A),e},getTotalDuration:function(){for(var e=0,t=this.getAdInstances(),n=0;n<t.length;++n){var i=t[n].getDuration();i>-1&&(e+=i)}return A=e},playCompanionAds:function(e){var t=[];e._parentAdInstancesGroup=t,t.push(e),g.push(t),S=!0,p&&this.stop(),this.play()},getState:function(){return m},setAcceptCompanion:function(e){l=e},getAcceptCompanion:function(){return l},setInitialAdOption:function(e){c=e},getInitialAdOption:function(){return c}}},a.SurveyExtension=function(e){this._context=e,this._surveyPingedIds=[]},a.SurveyExtension.prototype={start:function(){this._onAdStarted=a.Util.bind(this,function(e){if(this._parameters=this._getParameters(),this._parameters.enabled){var t=e.adInstance;if(-1<this._surveyPingedIds.indexOf(t.getAdId()));else{var n=t._creative.getParameter("_fw_survey_url");if(n)try{var i=document.getElementsByTagName("head")[0],a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("src",n),i.appendChild(a),this._surveyPingedIds.push(t.getAdId())}catch(r){}}}}),this._context.addEventListener(a.EVENT_AD_IMPRESSION,this._onAdStarted)},dispose:function(){this._context.removeEventListener(a.EVENT_AD_IMPRESSION,this._onAdStarted),this._parameters=this._onAdStarted=null},_getParameters:function(){var e={};return e.enabled="false"!=this._context.getParameter(a.PARAMETER_EXTENSION_SURVEY_ENABLED),e}},a.SurveyExtension.prototype.constructor=a.SurveyExtension,a.Timer=function(e,t){this._lastTickDate=new Date,this._duration=e||-1,this._playheadTime=-1,this._callback=t,this._state=-1},a.Timer.prototype={},a.Timer.prototype.constructor=a.Timer,a.Util.mixin(a.Timer.prototype,{tick:function(){var e=new Date,t=Math.round((e.getTime()-this._lastTickDate.getTime())/1e3);return this._lastTickDate=e,t},start:function(){if(0!==this._state){2!==this._state&&-1!==this._playheadTime||(this._playheadTime=0),this._state=0,this._timeStamp=new Date,this._timeouter&&(window.clearTimeout(this._timeouter),this._timeouter=null);var e=this,t=1e3*(this._duration-this._playheadTime);0>t||(this._timeouter=window.setTimeout(function(){e.stop(),e._playheadTime=e._duration,e._callback&&e._callback()},t))}},pause:function(){0===this._state&&(this._state=1,this._timeouter&&(window.clearTimeout(this._timeouter),this._timeouter=null),this._playheadTime=(new Date-this._timeStamp)/1e3+this._playheadTime)},stop:function(){this._state=2,this._timeouter&&(window.clearTimeout(this._timeouter),this._timeouter=null),this._playheadTime=(new Date-this._timeStamp)/1e3+this._playheadTime},getPlayheadTime:function(){return 0===this._state?(new Date-this._timeStamp)/1e3+this._playheadTime:this._playheadTime},getCTValue:function(){return(new Date-this._timeStamp)/1e3},getDuration:function(){return this._duration}}),a.Url=function(e){this._session=this._base="",this._parameters=new a.Hash,this.setString(e)},a.Url.prototype={},a.Url.prototype.constructor=a.Url,a.Util.mixin(a.Url.prototype,{setString:function(e){if(this._string!==e&&e&&(this._string=e,e=e.split("?"),this._base=e[0],this._parameters=new a.Hash,e[1])){var t=e[1].indexOf(";"),n="";for(t>0&&0===e[1].indexOf("session=")?(this._session=e[1].substring(0,t+1),n=e[1].substring(t+1)):n=e[1],e=n.split("&"),n=0;n<e.length;n++){var i=e[n],t=i.indexOf("=");if(!(0>t)){var r=decodeURIComponent(i.substring(0,t)),t=decodeURIComponent(i.substring(t+1));this._parameters.setKeyValue(r,t)}}}},setParameter:function(e,t){this._parameters.setKeyValue(e,t,0),this._string=null},getParameter:function(e){return this._parameters.getValue(e)},toString:function(){if(this._string)return this._string;this._parameters.move("cr",-1);for(var e=this._parameters._keys,t=[],n=0;n<e.length;n++){var i=e[n],a=this._parameters.getValue(i);t.push(encodeURIComponent(i)+"="+encodeURIComponent(a))}return this._string=this._base+"?"+this._session+t.join("&")}}),a.VastTranslator=function(){},a.VastTranslator.prototype={start:function(e){function t(e){}function n(e){}function i(e,t){if(e)if(e.length&&"string"!=typeof e)for(var n=0;n<e.length;n++)t(e[n].value);else e.value&&t(e.value)}function r(e,t){i(t,function(t){t&&e.push(t)})}function s(e){if(!e)return!1;for(var t=0;t<S.length;t++)if(a.Util.trim(S[t]).toLowerCase()===a.Util.trim(e).toLowerCase())return!0;return!1}function o(e){return e?("string"!=typeof e&&(e=e.toString()),e=a.Util.trim(e),-1<e.indexOf("://")?e:null):null}function l(e){this.code=this.url=null,this.height=this.width=NaN,this.resourceType=this.creativeType=null,this.bitrate=NaN,this.creativeApi=null,this.ad=e,this.clickThrough=null,this.clickTrackings=[],this.customClicks=[],this.creativeData=null}function c(){this.creativeView=[],this.start=[],this.firstQuartile=[],this.midpoint=[],this.thirdQuartile=[],this.complete=[],this.mute=[],this.unmute=[],this.pause=[],this.rewind=[],this.resume=[],this.replay=[],this.fullscreen=[],this.expand=[],this.collapse=[],this.acceptInvitation=[],this.stop=[]}function d(e){this._impressions=[],this.clickThrough=null,this.clickTrackings=[],this.customClicks=[],this.creativeData=null,this.sequence=-1,this.vastRenditions=[],this.duration=NaN,this.adp=e,this.isDrivingAd=!1}function u(e){d.call(this,e)}function _(e){d.call(this,e)}function p(e){d.call(this,e)}function h(){}function g(e,n,i,a){if(e&&a&&0<a.length){t("augmentCallbacks("+n+", "+i+", "+a+")");for(var r=e.getEventCallbackUrls(n,i),s=0;s<r.length;s++)-1<a.indexOf(r[s])&&(t("augmentCallbacks() url = "+r[s]),a.unshift(r[s]));e.addEventCallbackUrls(n,i,a)}else t("augmentCallbacks("+n+", "+i+", "+a+"), empty callbacks")}function f(e,n){if(t("initErrorTrackings()"),e&&n){for(var i=n.errorTrackings,r=0;r<i.length;r++)-1<i[r].search("[ERRORCODE]")&&(i[r]=i[r].replace("[ERRORCODE]","900"));g(e,a.EVENT_ERROR,a.EVENT_TYPE_ERROR,n.errorTrackings)}}function E(e,n){t("initTrackingEvents()"),n&&e&&(g(e,a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION,n.creativeView),g(e,a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION,n.start),g(e,a.EVENT_AD_FIRST_QUARTILE,a.EVENT_TYPE_IMPRESSION,n.firstQuartile),g(e,a.EVENT_AD_MIDPOINT,a.EVENT_TYPE_IMPRESSION,n.midpoint),g(e,a.EVENT_AD_THIRD_QUARTILE,a.EVENT_TYPE_IMPRESSION,n.thirdQuartile),g(e,a.EVENT_AD_COMPLETE,a.EVENT_TYPE_IMPRESSION,n.complete),g(e,a.EVENT_AD_MUTE,a.EVENT_TYPE_STANDARD,n.mute),g(e,a.EVENT_AD_UNMUTE,a.EVENT_TYPE_STANDARD,n.unmute),
g(e,a.EVENT_AD_PAUSE,a.EVENT_TYPE_STANDARD,n.pause),g(e,a.EVENT_AD_RESUME,a.EVENT_TYPE_STANDARD,n.resume),g(e,a.EVENT_AD_REWIND,a.EVENT_TYPE_STANDARD,n.rewind),g(e,a.EVENT_AD_EXPAND,a.EVENT_TYPE_STANDARD,n.fullscreen),g(e,a.EVENT_AD_COLLAPSE,a.EVENT_TYPE_STANDARD,n.collapse),g(e,a.EVENT_AD_EXPAND,a.EVENT_TYPE_STANDARD,n.expand),g(e,a.EVENT_AD_CLOSE,a.EVENT_TYPE_STANDARD,n.stop),g(e,a.EVENT_AD_ACCEPT_INVITATION,a.EVENT_TYPE_STANDARD,n.acceptInvitation))}function T(e,n,i,r,s){if(t("initClickAndImpressionEvents"),e){if(n&&e.setClickThroughUrl(a.EVENT_AD_CLICK,n),i&&0<i.length&&g(e,a.EVENT_AD_CLICK,a.EVENT_TYPE_CLICK_TRACKING,i),r&&0<r.length)for(n=0;n<r.length;n++)r[n].url&&g(e,r[n].id,a.EVENT_TYPE_CLICK_TRACKING,[r[n].url]);s&&g(e,a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION,s)}}function m(e,i){if(t("initTemporalAdInstance"),e||n("initTemporalAdInstance: Invalid adInstance"),i.selectedDrivingAd){i.surveyUrl&&e._creative.setParameter("_fw_survey_url",i.surveyUrl);var a=i.selectedDrivingAd,r=i.selectedDrivingRenditions;t("vastRenditions:"+r);for(var o=R===y,l=0;l<r.length;l++){var c,d=r[l],u=e.addCreativeRendition(),_=u.addCreativeRenditionAsset("VAST_CRA",!0);e:switch(c=d.creativeType){case"video/mp4":c="video/mp4-h264";break e;case"video/3gp":c="video/3gpp"}if(t("initTemporalAdInstance() set rendition/asset [vastRd.creativeApi,vastAd.duration,vastRd.width,vastRd.height,vastRd.url,assetContentType,vastRd.creativeType] =  "+[d.creativeApi,a.duration,d.width,d.height,d.url,c,d.creativeType]),u.setCreativeApi(d.creativeApi),isNaN(a.duration)||u.setDuration(a.duration),d.width&&!isNaN(d.width)&&u.setWidth(d.width),d.height&&!isNaN(d.height)&&u.setHeight(d.height),d.url&&_.setUrl(d.url),d.code&&_.setContent(d.code),_.setMimeType(d.creativeType),"static"===d.resourceType&&"text/html"===d.creativeType?_.setContentType("text/html_doc_ref"):"application/x-javascript"===d.creativeType||"application/javascript"===d.creativeType?_.setContentType("text/js_ref"):"iframe"===d.resourceType?_.setContentType("text/html_doc_ref"):"text/html"===d.creativeType||"text/html_doc_ref"===d.creativeType?_.setContentType("text/html_doc_ref"):"text/html_doc_lit_mobile"===d.creativeType?_.setContentType("text/html_doc_lit_mobile"):o||s(c)?(_.setContentType("text/html_doc_lit_mobile"),_.setUrl(null),_.setContent(A(e,C.getCustomId(),a,d,"text/html_doc_lit_mobile"))):_.setContentType(c),a.creativeData&&0!==a.creativeData.length&&(t("initTemporalAdInstance(), set asset parameter VPAID_creativeData:"+a.creativeData),u.setParameter("VPAID_creativeData",a.creativeData)),o||s(c)||(d=d.bitrate,!isNaN(d)&&d>0&&_.setBytes(1e3*d*a.duration/8)),c=D,_=N,d=!1,u.getContentType()&&c){var p=u.getContentType().toLowerCase(),h=c.toLowerCase();p==h?d=!0:(0==p.indexOf("video/mp4")&&0==h.indexOf("video/mp4")||"application/javascript"==h&&"text/js_ref"==p)&&(u.setContentType(c),d=!0)}c=!1,u.getCreativeApi()&&_&&(p=u.getCreativeApi().toLowerCase(),h=_.toLowerCase(),p==h?c=!0:0==p.indexOf("mraid")&&0==h.indexOf("mraid")&&(c=!0,u.setCreativeApi(_))),d&&c?u.setPreference(10):c?u.setPreference(6):d?u.setPreference(5):u.setPreference(0),t("adjustMatchedRendition "+u.getId()+", contentType "+u.getContentType()+", creativeAPI "+u.getCreativeApi()+", preference "+u.getPreference())}E(e,a.trackingEvents),f(e,i),T(e,o?r[0].clickThrough:a.clickThrough,a.clickTrackings,a.customClicks,a.impressions)}else{var u=e.addCreativeRendition();u.setContentType("null/null");var _=u.addCreativeRenditionAsset("VAST_CRA",!0);_.setContentType("null/null")}}function A(e,n,i,r,s){return t("getCoadHTML, ad id = "+e.getAdId()),r.url&&0<r.url.length?((i=r.clickThrough)&&0<i.length&&e.setClickThroughUrl(a.EVENT_AD_CLICK,i),e=e.getEventCallbackUrls(a.EVENT_AD_CLICK,a.EVENT_TYPE_CLICK)[0],a.HTMLAdGenerator.generateAd(r.url,e,n,r.width,r.height,r.creativeType,s)):r.code&&0<r.code.length?"script"===r.resourceType||"text/javascript"===r.resourceType||"text/js_ref"===r.resourceType||"application/x-javascript"===r.resourceType?a.HTMLAdGenerator.wrapJSCode(r.code,n,r.width,r.height):a.HTMLAdGenerator.wrapUnsafeHTML(r.code,n,r.width,r.height):null}function v(e,n,i,r){t("initPageAdInstance ad:"+n.getAdId());var s=i.vastRenditions[0];if(s.url||s.code){var o=n.addCreativeRendition(),l=o.addCreativeRenditionAsset("VAST_CRA",!0);o.setCreativeApi(s.creativeApi),o.setWidth(s.width),o.setHeight(s.height),"static"===s.resourceType&&"text/html"===s.creativeType?(l.setContentType("text/html_doc_ref"),l.setUrl(s.url)):"iframe"===s.resourceType?(l.setContentType("text/html_doc_ref"),l.setUrl(s.url)):"HTML"===s.resourceType?(l.setContentType("text/html_doc_lit_mobile"),l.setContent(a.HTMLAdGenerator.wrapUnsafeHTML(s.code,e.getCustomId(),s.width,s.height))):(l.setContentType("text/html_doc_lit_mobile"),l.setContent(A(n,e.getCustomId(),i,s,"text/html_doc_lit_mobile"))),l.setMimeType("text/html")}else t("initPageAdInstance will add a tracking only companion ad");E(n,i.trackingEvents),f(n,r),T(n,s.clickThrough,s.clickTrackings,s.customClicks,i.impressions)}function I(n){if(200==n.status)if(n.responseXML){var i=(new h).parseAdData(n.responseXML);if(i){if(t("scheduleVastAds"),i&&0!==i.length)if(n=i[0].selectedPackage,i=i[0].redirectPackage,n||i){if(!n&&i){t("scheduleVastAds(), no ads scheduled, redirect to downstream Secondary Ad Server"),t("scheduleRedirect");var n=[],r=[];n.push(C),r.push({});for(var s=b,o=i.selectedCompanionAds,l=0;l<s.length;l++){var c=s[l];o&&o[c.getCustomId()]&&(n.push(c),r.push(o[c.getCustomId()]))}for((s=e.scheduleAdInstances(n))&&0<s.length&&(o=s[0],l=o.addCreativeRendition(),l.setWrapperUrl(i.tagUrl),l.setWrapperType(O),l.setContentType(D),l.setCreativeApi(N),E(o,i.getTrackingEventsOfWrapper()),f(o,i),T(o,i.getClickThroughOfWrapper(),i.getClickTrackingsOfWrapper(),i.getCustomClicksOfWrapper(),i.getImpressionOfWrapper())),t("scheduleRedirect, schedule companion for redirect ad ",i),l=1;l<s.length;l++)(o=s[l])&&(c=r[l],c instanceof p&&v(n[l],o,c,i))}else if(n){for(t("scheduleVastAds(), ads returned from vast response, going to schedule them"),n.selectedDrivingAd?(t("scheduleVastAds(), ads returned from vast response, going to schedule them with driving ad"),n.selectedDrivingAd.isDrivingAd=!0):t("scheduleVastAds(), ads returned from vast response, going to schedule them without driving ad"),t("scheduleAdPackage()"),i=[],r=[],i.push(C),n.selectedDrivingAd&&r.push(n.selectedDrivingAd),s=b,o=n.selectedCompanionAds,l=0;l<s.length;l++)c=s[l],o&&o[c.getCustomId()]&&(i.push(c),r.push(o[c.getCustomId()]));if(o=e.scheduleAdInstances(i),0<o.length){for(t("scheduleAdPackage, scheduled "+o.length+" ads"+n.selectedDrivingAd?"":", 1 of it is nullAd for pure companion ad schedule"),n.selectedDrivingAd||t("Driving ad is not selected, will create a dummy null ad."),n.selectedDrivingAd||(i.shift(),m(o.shift(),n)),l=0;l<o.length;l++)if(c=o[l]){var d=r[l];d instanceof p?v(i[l],c,d,n):m(c,n)}!n.selectedDrivingAd&&0<s.length&&0<n.companionAds.length&&0===r.length&&(t("found empty companion slots and companion ads in package, but none of them matches slot size"),e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_UNMATCHED_SLOT_SIZE}))}else t("scheduleAdPackage, no ad scheduled.")}}else t("scheduleVastAds(), no ads from vast response!!!"),e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_NO_AD_AVAILABLE});else t("no ads for scheduleVastAds");e.handleStateTransition(a.TRANSLATOR_STATE_STARTED),e.handleStateTransition(a.TRANSLATOR_STATE_COMPLETED)}}else e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_PARSE,errorInfo:M});else 400<=n.status&&e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_IO,errorInfo:M})}var S="image/gif,image/jpeg,image/png,text/html,text/javascript,text/html_doc_ref,text/html_doc_lit_mobile,application/x-javascript,application/javascript".split(","),y=4,P=e.getAdInstance(),C=P.getSlot(),R=function(){if(!C)return 1;switch(C.getTimePositionClass()){case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_MIDROLL:case a.TIME_POSITION_CLASS_POSTROLL:return 2;case a.TIME_POSITION_CLASS_OVERLAY:return y;case a.TIME_POSITION_CLASS_DISPLAY:return C&&!C.getBase()?8:1;default:return 1}}(),b=e.getCompanionSlots().filter(function(e){if(!e)return!1;switch(e.getTimePositionClass()){case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_MIDROLL:case a.TIME_POSITION_CLASS_PAUSE_MIDROLL:case a.TIME_POSITION_CLASS_POSTROLL:return!1;default:return!0}});t("Checking CompanionSlots, length = "+b.length+", rendererController.getCompanionSlots().length = "+e.getCompanionSlots().length+", AdInstance.getCompanionSlots.length = "+P.getCompanionSlots().length);var D=P.getActiveCreativeRendition().getContentType(),N=P.getActiveCreativeRendition().getCreativeApi()||"None",O=P.getActiveCreativeRendition().getWrapperType();l.prototype={init:function(e,t,n,i,a,r,s,o){this.url=e,this.width=1*t,this.height=1*n,this.creativeType=i,this.resourceType=a,this.bitrate=r;var l;if(l=s,l&&0!==l.length){var c="";switch(l.toLowerCase()){case"flashvar":case"flashvars":c="clickTag";break;case"vpaid":c="VPAID";break;case"mraid":c="MRAID-1.0";break;default:c=l}l=c}else l="None";this.creativeApi=l,this.code=o||null},log:function(e){},toString:function(){var e,t=[];for(e in this)this.hasOwnProperty(e)&&"function"!=typeof this[e]&&"ad"!==e&&t.push(e+":"+this[e]);return t.join(",")}},l.prototype.constructor=l,d.prototype={parse:function(e){if(e.Duration&&e.Duration.value){var t=/(\d+):(\d+):(\d+)/.exec(e.Duration.value);t?this.duration=3600*t[1]+60*t[2]+1*t[3]:void 0}e.VideoClicks&&(e.VideoClicks=[].concat(e.VideoClicks),a.Util.forEachOnArray(e.VideoClicks,function(e){if(e.ClickThrough&&e.ClickThrough.value&&(this.clickThrough=o(e.ClickThrough.value)),e.ClickTracking){e.ClickTracking=[].concat(e.ClickTracking);for(var t=0;t<e.ClickTracking.length;t++){var n=o(e.ClickTracking[t].value);n&&this.clickTrackings.push(n)}}if(e.CustomClick)for(e.CustomClick=[].concat(e.CustomClick),t=0;t<e.CustomClick.length;t++){var i=null;e.CustomClick[t]["@attributes"]&&(i=e.CustomClick[t]["@attributes"].id),(n=o(e.CustomClick[t].value))&&this.customClicks.push({id:i,url:n})}},this)),e.MediaFiles&&e.MediaFiles.MediaFile&&(e.MediaFiles.MediaFile=[].concat(e.MediaFiles.MediaFile),a.Util.forEachOnArray(e.MediaFiles.MediaFile,function(e){var t=o(e.value),n=NaN,i=NaN,a=null,r="None",s=NaN;e["@attributes"]&&(n=e["@attributes"].width||NaN,i=e["@attributes"].height||NaN,a=e["@attributes"].type,r=e["@attributes"].apiFramework||"None",s=e["@attributes"].bitrate||NaN),t&&-1!==t.indexOf(":")?(e=new l(this),e.init(t,n,i,a,"",s,r,null),e.clickThrough=this.clickThrough,this.vastRenditions.push(e),(isNaN(n)||isNaN(i))&&void 0):void 0},this)),e.TrackingEvents&&this.parseTrackingEvents(e.TrackingEvents,this.setTrackingEvents()),e.AdParameters&&(this.creativeData=e.AdParameters.value),e.Companion&&(e.Companion=[].concat(e.Companion),a.Util.forEachOnArray(e.Companion,function(e){var t=null,n=null,i="",r="",c=null,d=null,u=!1;e.CompanionClickThrough&&(r=o(e.CompanionClickThrough.value)),e.StaticResource&&(t=o(e.StaticResource.value),e.StaticResource["@attributes"]&&(n=e.StaticResource["@attributes"].creativeType),i="static"),e.IFrameResource&&(t=o(e.IFrameResource.value))&&(n="text/html_doc_ref",i="iframe"),e.HTMLResource&&(c=e.HTMLResource["#cdata-section"]||"",c=a.Util.trim(c))&&(n="text/html_doc_lit_mobile",i="HTML"),e.TrackingEvents&&(d=e.TrackingEvents);var _=new p(this.adp);if(_.sequence=this.sequence,_.clickThrough=r,d&&_.parseTrackingEvents(d,_.setTrackingEvents()),e["@attributes"]){var d=e["@attributes"].width||NaN,h=e["@attributes"].height||NaN,e=e["@attributes"].apiFramework||"None";if((t&&-1!==t.indexOf(":")||c)&&!isNaN(d)&&!isNaN(h)&&s(n)||this.adp.isWrapper){var g=new l(_);g.init(t,d,h,n,i,NaN,e,c),g.clickThrough=r,_.vastRenditions.push(g)}else void(u=!0)}else this.adp.isWrapper||void(u=!0);u?this.adp.isWrapper&&this.adp.companionAds.push(_):this.adp.companionAds.push(_)},this)),e.NonLinear&&(e.NonLinear=[].concat(e.NonLinear),a.Util.forEachOnArray(e.NonLinear,function(e){var t=null,n=null,i="",r="",c="",d=null,u=!1;e.AdParameters&&(c=e.AdParameters.value),e.NonLinearClickThrough&&(r=o(e.NonLinearClickThrough.value)),e.StaticResource&&(t=o(e.StaticResource.value),e.StaticResource["@attributes"]&&(n=e.StaticResource["@attributes"].creativeType),i="static"),e.IFrameResource&&(t=o(e.IFrameResource.value),n="text/html_doc_ref",i="iframe"),e.HTMLResource&&(d=e.HTMLResource["#cdata-section"]||"",d=a.Util.trim(d),n="text/html_doc_lit_mobile",i="HTML");var p=new _(this.adp);if(p.sequence=this.sequence,p.clickThrough=r,p._trackingEvents=this._trackingEvents,c&&(p.creativeData=c),e["@attributes"]){var c=e["@attributes"].width||NaN,h=e["@attributes"].height||NaN,e=e["@attributes"].apiFramework||"None";if(!t&&!d||isNaN(c)||isNaN(h)||!s(n))void(u=!0);else{var g=new l(p);g.init(t,c,h,n,i,NaN,e,d),g.clickThrough=r,p.vastRenditions.push(g)}}else this.adp.isWrapper||void(u=!0);this.adp.nonLinearAds.push(p),u?this.adp.isWrapper&&this.adp.nonLinearAds.push(p):this.adp.nonLinearAds.push(p)},this))},parseLinears:function(e){2!=R?void 0:this.parse(e)},parseNonLinears:function(e){R!==y?void 0:this.parse(e)},parseCompanionAds:function(e){this.parse(e)},setTrackingEvents:function(){return this._trackingEvents||(this._trackingEvents=new c),this._trackingEvents},parseTrackingEvents:function(e,t){e.Tracking&&(e.Tracking=[].concat(e.Tracking),a.Util.forEachOnArray(e.Tracking,function(e){var n=e["@attributes"].event;if(e=o(e.value))switch(n){case"creativeView":case"start":case"firstQuartile":case"midpoint":case"thirdQuartile":case"complete":case"mute":case"unmute":case"pause":case"resume":case"rewind":case"replay":case"fullscreen":case"expand":case"collapse":case"acceptInvitation":case"stop":t[n].push(e);break;case"close":t.stop.push(e)}},this))},toString:function(){return this.constructor.name+", renditions:"+this.vastRenditions},log:function(e){},warn:function(e){}};var L=Object.defineProperty||function(e,t,n){n.get&&e.__defineGetter__(t,n.get),n.set&&e.__defineSetter__(t,n.set)};L(d.prototype,"trackingEvents",{get:function(){return this._trackingEvents?this._trackingEvents:this.isDrivingAd?this.adp.trackingEvents:null}}),L(d.prototype,"impressions",{set:function(e){this._impressions=e},get:function(){return this.isDrivingAd?this._impressions.concat(this.adp.impressions):this._impressions}}),d.prototype.constructor=d,u.prototype=new d,u.prototype.constructor=u,_.prototype=new d,_.prototype.constructor=_,p.prototype=new d,p.prototype.getPrimaryRendition=function(){return this.vastRenditions[0]||null},L(p.prototype,"impressions",{get:function(){return 8===R?this._impressions.concat(this.adp.impressions):this._impressions}}),p.prototype.constructor=p;var k=function(){this.impressions=[],this.errorTrackings=[],this.linearAds=[],this.nonLinearAds=[],this.companionAds=[],this.extensions=[],this.tagUrl="",this.isWrapper=!1,this.surveyUrl=null,this.selectedDrivingRenditions=[],this.selectedDrivingAd=null,this.selectedCompanionAds={}};k.prototype={parse:function(e){if(e)if(e.Creatives&&(this.isWrapper||e.Creatives.Creative)){r(this.impressions,e.Impression),r(this.extensions,e.Extensions),r(this.errorTrackings,e.Error),this.isWrapper&&e.VASTAdTagURI&&(this.tagUrl=e.VASTAdTagURI.value||""),e.Survey&&e.Survey.value&&0<e.Survey.value.length&&(this.surveyUrl=e.Survey.value),e.Creatives.Creative=e.Creatives.Creative?[].concat(e.Creatives.Creative):[];for(var t=0;t<e.Creatives.Creative.length;t++){var n,i=e.Creatives.Creative[t],a=-1;i["@attributes"]&&(a=i["@attributes"].sequence||-1,a*=1),i.Linear?(n=new u(this),n.sequence=a,n.parseLinears(i.Linear),this.linearAds.push(n)):i.NonLinearAds?(n=new _(this),n.sequence=a,n.parseNonLinears(i.NonLinearAds)):i.CompanionAds&&(n=new p(this),n.sequence=a,n.parseCompanionAds(i.CompanionAds))}}else;},testAndUpdatePackageForTemporalSlot:function(e){if(e=e?this.linearAds:this.nonLinearAds,1>e.length)return!1;var t=!1;if(!t)for(var n=0;n<e.length;n++){var i=this.findRenditionGroupByContentType(e[n]);if(0<i.length){this.selectedDrivingRenditions=i,this.selectedDrivingAd=e[n],t=!0;break}}return t},testAndUpdatePackageForPageSlots:function(e){var t=!1,n=this.companionAds,i=b.slice(0),a=null;if(e){if(a=this.matchAdsToSlots(n,i),0<a.length)for(t=!0,e=0;e<a.length;e++)n=a[e],i=n.ad,this.selectedCompanionAds[n.slot.getCustomId()]=i}else a=this.matchAdsToSlots(n,[C]),1===a.length?(t=!0,this.selectedDrivingAd=a[0].ad):this.selectedDrivingAd=null;return t},renditionFitsInSlot:function(e,t){return e?e.width<=t.getWidth()&&e.height<=t.getHeight():!1},calcDeadSpaceRatio:function(e,t){var n=e.getPrimaryRendition();return n?this.renditionFitsInSlot(n,t)?1-n.width*n.height/t.getWidth()*t.getHeight():1:!1},matchAdsToSlots:function(e,t){for(var n=[],i=null,a=null,r=1,s=0;s<e.length;s++)for(var o=e[s],l=0;l<t.length;l++){var c=t[l],d=this.calcDeadSpaceRatio(o,c);r>d&&(i=o,a=c,r=d)}return null!==i&&(n.push({ad:i,slot:a}),e.splice(e.indexOf(i),1),t.splice(t.indexOf(a),1),n=n.concat(this.matchAdsToSlots(e,t))),n},getAllRenditions:function(e){return e.vastRenditions},findRenditionGroupByContentType:function(e){var t=[];if(e instanceof u&&isNaN(e.duration))return t;for(var n=this.getAllRenditions(e),i=0;i<n.length;i++){var r=n[i];if(e instanceof u){if(null==r.creativeType||""==a.Util.trim(r.creativeType))continue}else if(!s(r.creativeType))continue;t.push(r)}return t},formalizeString:function(e){return e?a.Util.trim(e).toLowerCase():""},getAdsByTargetType:function(){var e=[];switch(R){case 8:e=this.companionAds;break;case 2:e=this.linearAds;break;case y:e=this.nonLinearAds}for(var t=0;t<e.length;t++)e[t].isDrivingAd=!0;return e},getImpressionOfWrapper:function(){for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++){var i=e[n];if(i&&i._impressions&&0<i._impressions.length){t=i._impressions;break}}return t||(t=this.impressions),t},getTrackingEventsOfWrapper:function(){for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++){var i=e[n];if(i&&i._trackingEvents){t=i._trackingEvents;break}}return t},getClickThroughOfWrapper:function(){for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++){var i=e[n];if(i){i.clickThrough&&(t=i.clickThrough);for(var i=i.vastRenditions,a=0;a<i.length;a++){var r=i[a];if(r.clickThrough){t=r.clickThrough;break}}if(t)break}}return t},getClickTrackingsOfWrapper:function(){for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++){var i=e[n];if(i){i.clickTrackings&&0<i.clickTrackings.length&&(t=i.clickTrackings);for(var i=i.vastRenditions,a=0;a<i.length;a++){var r=i[a];if(r.clickTrackings&&0<r.clickTrackings.length){t=r.clickTrackings;break}}if(t)break}}return t},getCustomClicksOfWrapper:function(){for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++){var i=e[n];if(i){i.customClicks&&0<i.customClicks.length&&(t=i.customClicks);for(var i=i.vastRenditions,a=0;a<i.length;a++){var r=i[a];if(r.customClicks&&0<r.customClicks.length){t=r.customClicks;break}}if(t)break}}return t},testWrapperForRedirect:function(){return this.tagUrl&&0<this.tagUrl.length},log:function(e){},warn:function(e){}},k.prototype.constructor=k,h.prototype={getVastVersion:function(e){return e?0===e.indexOf("3.")?3:0===e.indexOf("2.")?2:0===e.indexOf("1.")?1:-1:-1},parseAdData:function(t){var n,i={};i.selectedPackage=null,i.redirectPackage=null;var r=a.Util.xmlToJson(t);if(r&&r.VAST&&r.VAST.Ad&&r.VAST["@attributes"]&&2===this.getVastVersion(r.VAST["@attributes"].version)){r.VAST.Ad=[].concat(r.VAST.Ad);var s,o=[],t=[];for(n=0;n<r.VAST.Ad.length;n++)s=new k,s.isWrapper=!!r.VAST.Ad[n].Wrapper,s.isWrapper?(s.parse(r.VAST.Ad[n].Wrapper),t.push(s)):(s.parse(r.VAST.Ad[n].InLine),o.push(s));if(r=!1,0===o.length&&0===t.length)return[i];for(s=null,n=0;n<o.length;n++)if(this.selectUsableAdsForDrivingSlot(o[n])){s=o[n];break}if(n=0<b.length&&P.getSlot().getTimePositionClass()!==a.TIME_POSITION_CLASS_DISPLAY,s)n&&this.selectUsableAdsCompanionSlots(s)&&void 0,i.selectedPackage=s;else if(n){n=!1;for(var l=0;l<o.length;l++)s=o[l],this.selectUsableAdsCompanionSlots(s)&&(i.selectedPackage=s,n=!0);n||(r=!0)}else r=!0;if(r&&0<t.length)for(o=0;o<t.length;o++)if(this.testWrapperForRedirect(t[o])){i.redirectPackage=t[o],this.selectUsableAdsCompanionSlots(t[o])&&void 0;break}return[i]}e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_PARSE})},selectUsableAdsForDrivingSlot:function(e){var t=!0;switch(R){case 2:t=this.testAndUpdatePackageForTemporalSlot(e,!0);break;case y:t=this.testAndUpdatePackageForTemporalSlot(e,!1);break;case 8:t=this.testAndUpdatePackageForPageSlots(e,!1);break;default:t=!1}return t},selectUsableAdsCompanionSlots:function(e){return this.testAndUpdatePackageForPageSlots(e,!0)},testAndUpdatePackageForTemporalSlot:function(e,t){return e.testAndUpdatePackageForTemporalSlot(t)},testAndUpdatePackageForPageSlots:function(e,t){return e.testAndUpdatePackageForPageSlots(t)},testWrapperForRedirect:function(e){return e.testWrapperForRedirect()},log:function(e){},warn:function(e){}};var M=P.getActiveCreativeRendition().getWrapperUrl(),L=P.getActiveCreativeRendition().getWrapperType();if(t("AdInstance.getActiveCreativeRendition().getWrapperUrl()="+M+", getWrapperType()="+L),"external/vast-2"!==L)e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_NO_RENDERER,errorInfo:"wrapperType="+L});else if(M&&0!==M.length){L=e.getParameter("translator.vast.asyncLoad"),L=!0===a.Util.str2bool(L),t("will load vast xml, asyncAjax:"+L);var w=null;try{window.XDomainRequest?(w=new XDomainRequest,L=!0):w=new XMLHttpRequest,L?(w.open("GET",M),window.XDomainRequest?w.onload=function(){var e=new ActiveXObject("Microsoft.XMLDOM");e.async=!1,e.loadXML(w.responseText),w.responseXML=e,w.status=200,I(w)}:w.onreadystatechange=function(){4==w.readyState&&I(w)},w.onerror=function(){window.XDomainRequest&&(w.status=0),0==w.status?(n("CORS error"),e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_SECURITY,errorInfo:M})):(n("exception:"+w.statusText),e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorInfo:w.statusText}))},w.send()):(w.open("GET",M,!1),w.send(),I(w))}catch(V){if(L=!1,window.XMLHttpRequestException){if(V instanceof XMLHttpRequestException)switch(V.code){case XMLHttpRequestException.NETWORK_ERR:L=!0}}else V.code===DOMException.NETWORK_ERR&&(n("CORS in IE10"),L=!0);L?(n("CORS error:"+V),e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_SECURITY,errorInfo:M})):(n("exception:"+V),e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorInfo:V}))}}else e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_NULL_ASSET,errorInfo:"wrapperUrl="+M})},info:function(){return{moduleType:a.MODULE_TYPE_TRANSLATOR}},log:function(e){},warn:function(e){},getPlayheadTime:function(){return-1},getDuration:function(){return-1}},a.VastTranslator.prototype.constructor=a.VastTranslator,a.VideoAsset=function(e){this._defaultTimeouts=[5,10,15,30,60,120,180,300],this._context=e,this._internalState=a.MediaInitState.instance,this._eventCallback=this._state="",this._callbackTimer=null,this._requestedVideoViewUrl=this._videoPlayPending=!1,this._dummyInstanceId="",this._delay=0,this._location=this._networkId=this._duration=this._customId=this._id="",this._autoPlayType=a.VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED,this._viewRandom=this._fallbackId=0},a.VideoAsset.prototype={setVideoAsset:function(e,t,n,i,r,s,o,l){if(e){var c=!1;switch(o){case a.ID_TYPE_FW:c=this._id!=e,this._id=e;break;case a.ID_TYPE_GROUP:c=this._id!="g"+e,this._id="g"+e;break;default:c=this._customId!=e,this._customId=e}c&&(this._eventCallback=""),"number"==typeof t&&(this._duration=Math.round(10*t)/10),1*n>0&&(this._networkId=1*n),"string"==typeof i&&(this._location=i),"number"==typeof r&&(this._autoPlayType=r),1*s>0&&(this._viewRandom=1*s),1*l>0&&(this._fallbackId=1*l),this._videoPlayPending&&this.play()}},setVideoState:function(e){e===a.VIDEO_STATE_PLAYING?this.play():e===a.VIDEO_STATE_PAUSED||e===a.VIDEO_STATE_STOPPED?this.pause():e===a.VIDEO_STATE_COMPLETED&&this.complete(),this._state=e},callback:function(e){this._eventCallback?this._eventCallback.process():e=!0,e||((e=this._defaultTimeouts.shift())||(e=300),this._callbackTimer=new a.Timer(e,a.Util.bind(this,this.callback)),this._callbackTimer.start())},getPlayheadTime:function(){var e=this._delay;return this._delay=0,e+=this._callbackTimer?this._callbackTimer.getCTValue():0,Math.floor(e)},play:function(){this._context._adManager._serverURL&&this._context._adManager._networkId&&(this._id||this._customId)?this._eventCallback?(this._videoPlayPending=!1,this._internalState.play(this)):this._requestedVideoViewUrl||(this._requestedVideoViewUrl=!0,this.requestForVideoViewCallback(),this._callbackTimer)||(this._callbackTimer=new a.Timer,this._callbackTimer.tick()):(this._videoPlayPending=!0,this._callbackTimer||(this._callbackTimer=new a.Timer,this._callbackTimer.tick()))},pause:function(){this._internalState.pause(this)},complete:function(){this._internalState.complete(this)},onStartPlaying:function(){this.callback()},onStartReplaying:function(){this.callback()},onPausePlaying:function(){this.callback(!0),this._callbackTimer.pause()},onResumePlaying:function(){this._callbackTimer.start()},onCompletePlaying:function(){this.callback(!0),this._callbackTimer.stop(),this._callbackTimer=null,this._eventCallback="",this._requestedVideoViewUrl=!1},onCompleteReplaying:function(){this.onCompletePlaying()},setMediaState:function(e){this._internalState=e},requestForVideoViewCallback:function(){var e=new a.Context(this._context._adManager);e._videoAsset=this,this._dummyInstanceId=e._instanceId;var e=this._context._adRequest.generateVideoViewRequestUrlWithDummyContextInstanceId(e._instanceId),t=this;a.PLATFORM_SEND_REQUEST_BY_FORM?(a.Util.pingURLWithForm(e,this._dummyInstanceId,!0),t._onMessagePosted=function(e){"object"==typeof e.data&&e.data.hasOwnProperty("cbfn")&&-1<e.data.cbfn.indexOf("['Context_"+this._dummyInstanceId+"']")&&t.requestComplete(e.data.response)},window.addEventListener("message",t._onMessagePosted,!1)):a.Util.pingURLWithScript(e)},requestComplete:function(e){if(this._delay=this._callbackTimer.tick(),this._callbackTimer=null,a.PLATFORM_SEND_REQUEST_BY_FORM){window.removeEventListener("message",this._onMessagePosted,!1);var t=document.getElementById("_fw_request_iframe_"+this._dummyInstanceId);document.body.removeChild(t)}null!==e?(a._instanceQueue["Context_"+this._dummyInstanceId]=null,this.parse(a.Util.getObject("siteSection.videoPlayer.videoAsset",e)||{}),this.play()):void 0},parse:function(e){if(e){this._customId=e.customId,this._networkId=parseInt(e.networkId);for(var t=0,n=e.eventCallbacks||[];t<n.length;t++){var e=n[t],i=a.EventCallback.newEventCallback(this._context,e.name,e.type);if(i&&e.name===a.EVENT_VIDEO_VIEW){i.parse(e),this._eventCallback=i;break}}}}},a.VideoRenderer=function(){this._adVideo=null,this._duration=this._playheadTime=-1,this._dragging=this._stopInvoked=this._isEnded=!1},a.VideoRenderer.prototype={start:function(e){var t=e.getAdInstance(),n=t.getSlot(),i=this,r=!1;if(a.PLATFORM_NOT_SUPPORT_VIDEO_AD)e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:n.getTimePositionClass()});else if(a.PLATFORM_NOT_SUPPORT_MIDROLL_AD&&n.getTimePositionClass()===a.TIME_POSITION_CLASS_MIDROLL)e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"midroll"});else{var s=e.getContentVideoElement(),o=n.getVideoDisplaySize().width,l=n.getVideoDisplaySize().height,c=t.getRenderableCreativeRenditions(),d=(o=new a.RenditionSelector(e.getParameter(a.PARAMETER_DESIRED_BITRATE)||1e3,e.getParameter("arWeight")||1,e.getParameter("pxWeight")||1,.2).getBestFitRendition(c,o,l))?o.getPrimaryCreativeRenditionAsset():null;if(!d&&c.length)e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"no compatible asset"});else if(d&&d.getUrl()){t.setActiveCreativeRendition(o),e.setCapability(a.EVENT_AD_QUARTILE,a.CAPABILITY_STATUS_ON);var u=!a.PLATFORM_NOT_SUPPORT_CLICK_FOR_VIDEO;u||e.setCapability(a.EVENT_AD_CLICK,a.CAPABILITY_STATUS_OFF);var _=a.PLATFORM_EVENT_CLICK,p=a.MOBILE_EVENT_DRAG;s.controls=!1,this._adVideo=s;var h,g,f=null,E=null,T=null,m=function(e){D(e)},A=function(){E&&(clearTimeout(E),E=null)},v=a.Util.bind(this,function(t){t=e.getParameter(a.PARAMETER_RENDERER_VIDEO_PLAY_AFTER_STALLED),null==t||"undefined"==typeof t||!1===a.Util.str2bool(t)||s&&s._fw_videoAdPlaying&&s.play()}),I=a.Util.bind(this,function(t){if(s.paused&&a.PLATFORM_NOT_FIRE_CLICK_WHEN_AD_VIDEO_PAUSED)s.play();else if(!e.getParameter(a.PARAMETER_EXTENSION_AD_CONTROL_CLICK_ELEMENT)){var n=e.getParameter(a.PARAMETER_RENDERER_VIDEO_CLICK_DETECTION);null==n&&(n="true"),!1!==a.Util.str2bool(n)&&(this._dragging?this._dragging=!1:e.processEvent({name:a.EVENT_AD_CLICK}))}}),S=a.Util.bind(this,function(e){this._dragging=!0}),y=function(t){if(s.ended&&.2>Math.abs(s.duration-s.currentTime)||!s._fw_videoAdPlaying)h=setTimeout(function(){t.type="ended",g(t)},200);else{var n=e.getParameter(a.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE);null==n&&(n="true"),!1===a.Util.str2bool(n)?void 0:s.controls=!0,A()}},P=function(e){s.controls=!1},C=!1,R=0,b=function(){if(A(),!s.paused){var t=e.getParameter(a.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT)||8e3;E=setTimeout(m,t,t+"ms timeout when playing")}C||(C=!0,i._playheadTime=s.currentTime,0>i._playheadTime&&(i._playheadTime=0),f&&(clearTimeout(f),f=null),i._quartileTimerId=setInterval(function(){var t=s.currentTime,n=s.duration;t>0&&(i._playheadTime=t),n>0&&(i._duration=n),"number"!=typeof t||"number"!=typeof n||T||(t>=.25*n&&1>R&&(e.processEvent({name:a.EVENT_AD_FIRST_QUARTILE}),R=1),t>=.5*n&&2>R&&(e.processEvent({name:a.EVENT_AD_MIDPOINT}),R=2),t>=.75*n&&3>R&&(clearInterval(i._quartileTimerId),i._quartileTimerId=null,e.processEvent({name:a.EVENT_AD_THIRD_QUARTILE}),R=3))},1e3),e.handleStateTransition(a.RENDERER_STATE_STARTED))};g=function(t){var n=T;t&&t.type&&"error"===t.type&&void 0,A(),f&&(clearTimeout(f),f=null),u&&(s.removeEventListener(_,I,!1),s.removeEventListener(p,S,!1)),h&&(clearTimeout(h),h=null),s.removeEventListener("ended",g,!1),s.removeEventListener("error",g,!0),s.removeEventListener("pause",y,!1),s.removeEventListener("playing",P,!1),s.removeEventListener("timeupdate",b,!1),s.removeEventListener("stalled",v,!1),s.paused||s.pause(),t&&"error"===t.type&&(n="video error",(t=s.error||t.target.error)&&(n="error:"+t+",code:"+t.code)),n||(i._isEnded=!0),r||(r=!0,delete s._fw_videoAdPlaying,i._adVideo=null,i._quartileTimerId&&(clearInterval(i._quartileTimerId),i._quartileTimerId=null),n?e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorInfo:n}):(i._stopInvoked||(1>R&&(e.processEvent({name:a.EVENT_AD_FIRST_QUARTILE}),R=1),2>R&&(e.processEvent({name:a.EVENT_AD_MIDPOINT}),R=2),3>R&&(e.processEvent({name:a.EVENT_AD_THIRD_QUARTILE}),R=3),4>R&&(e.processEvent({name:a.EVENT_AD_COMPLETE}),R=4)),i._stopInvoked=!1,e.handleStateTransition(a.RENDERER_STATE_COMPLETED)))};var D=function(e){T=e,a.PLATFORM_WAIT_WHEN_AD_VIDEO_TIMEOUT||g()};s._fw_videoAdPlaying=!0;var N=!1,O=function(){if(!N){if(N=!0,u&&(s.addEventListener(_,I,!1),s.addEventListener(p,S,!1)),s.addEventListener("ended",g,!1),s.addEventListener("error",g,!0),s.addEventListener("pause",y,!1),s.addEventListener("playing",P,!1),s.addEventListener("timeupdate",b,!1),s.addEventListener("stalled",v,!1),s.src=d.getUrl(),s.load(),s._fw_fromVideoPool||a.PLATFORM_SUPPORT_VIDEO_START_DETECT_TIMEOUT){
var t=e.getParameter(a.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT)||5e3;f=setTimeout(D,t,t+"ms timeout before playing")}a.PLATFORM_VIDEO_DOESNOT_SUPPORT_TIMEUPDATE&&e.handleStateTransition(a.RENDERER_STATE_STARTED),0<a.PLATFORM_ANDROID_VERSION?(t=e.getParameter(a.PARAMETER_RENDERER_VIDEO_ANDROID_DELAY)||100,setTimeout(function(){s.play()},t)):setTimeout(function(){s.play()},100)}};a.VideoRenderer._fw_playedDummyVideo||n.getTimePositionClass()!==a.TIME_POSITION_CLASS_PREROLL||!a.PLATFORM_PLAY_DUMMY_VIDEO_FOR_PREROLL||/\.webm$/.test(d.getUrl())?O():(a.VideoRenderer._fw_playedDummyVideo=!0,s.src="http://127.0.0.1:1/404.mp4",s.load(),s.play(),s._fw_videoAdPlaying=!0,s.addEventListener("error",function(){event.target.removeEventListener("error",arguments.callee,!0),O()},!0),setTimeout(O,a.PLATFORM_NOT_WAIT_FOR_ERROR_WHEN_PLAY_DUMMY_VIDEO_FOR_PREROLL?500:5e3))}else e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorCode:a.ERROR_NULL_ASSET})}},stop:function(){this._stopInvoked=!0,this._adVideo&&(this._adVideo._fw_videoAdPlaying=!1,this._adVideo.pause())},info:function(){return{moduleType:a.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){if(this._isEnded&&0<this._duration)return this._duration;if(this._adVideo){var e=this._adVideo.currentTime;if(e>0)return e}return this._playheadTime},getDuration:function(){return this._duration}},a.VideoRenderer.prototype.constructor=a.VideoRenderer,a.VideoStateExtension=function(e){this._context=e},a.VideoStateExtension.prototype={_enabled:function(){var e=this._context.getParameter(a.PARAMETER_EXTENSION_VIDEO_STATE_ENABLED);return null==e&&(e="false"),!0===a.Util.str2bool(e)},start:function(){this._enabled()?this._context.setVideoState(a.VIDEO_STATE_PLAYING):void 0},dispose:function(){this._context=null}},a.VideoStateExtension.prototype.constructor=a.VideoStateExtension,a.VPAIDWrapper=function(){this._creative=null,this._timeoutInMs=0,this._eventHandlers={},this._loadIntervalTimer=this._timeoutTimer=null,this._timeoutOperation="",this.timeoutReached=!1,this._visibilityChangeListener=null},a.VPAIDWrapper.prototype={_isCreativeFunctionInvokable:function(e){return this._creative?!(!(e=this._creative[e])||"function"!=typeof e):!1},checkVPAIDInterface:function(e){for(var t={passed:!0,missingInterfaces:""},n=e.length-1;n>=0;n--)this._isCreativeFunctionInvokable(e[n])||(t.passed=!1,t.missingInterfaces+=e[n]+" ");return t},loadCreativeAsset:function(e){var t=document.getElementById("vpaidFrame"),n=document.createElement("iframe");n.id="vpaidFrame",null==t?document.body.appendChild(n):document.body.replaceChild(n,t),n.width=0,n.height=0,n.style.display="none",n.contentWindow.document.open(),n.contentWindow.document.write('<script type="text/javascript" src="'+e+'"> </script>'),n.contentWindow.document.close(),this._timeoutOperation="loadCreativeAsset",this._waitForTimeout();var i=this;this._loadIntervalTimer=setInterval(function(){var e=document.getElementById("vpaidFrame").contentWindow.getVPAIDAd;e&&"function"==typeof e&&(clearInterval(i._loadIntervalTimer),e=e(),"undefined"==typeof e?void 0:null===e?void 0:(i._creative=e,i._eventHandlers.CreativeAssetLoaded()))},200)},setCallbacksForCreative:function(e,t){for(var n in e)e.hasOwnProperty(n)&&this._creative.subscribe(e[n],n,t)},removeCallbacksForCreative:function(e){for(var t in e)e.hasOwnProperty(t)&&this._creative.unsubscribe(e[t],t)},handshakeVersion:function(e){return this._creative.handshakeVersion(e)},initAd:function(e,t,n,i,a,r){this._timeoutOperation="initAd",this._waitForTimeout(),this._creative.initAd(e,t,n,i,a,r)},startAd:function(){this._timeoutOperation="startAd",this._waitForTimeout(),this._creative.startAd()},stopAd:function(){"startAd"===this._timeoutOperation?(clearTimeout(this._timeoutTimer),this._timeoutOperation="startAd and stopAd"):this._timeoutOperation+="stopAd",this._waitForTimeout(),this._creative.stopAd()},canPauseAd:function(){return this._isCreativeFunctionInvokable("pauseAd")},canResumeAd:function(){return this._isCreativeFunctionInvokable("resumeAd")},canResizeAd:function(){return this._isCreativeFunctionInvokable("resizeAd")},pauseAd:function(){this.canPauseAd()&&this._creative.pauseAd()},resumeAd:function(){this.canResumeAd()&&this._creative.resumeAd()},resizeAd:function(e,t,n){this.canResizeAd()?this._creative.resizeAd(e,t,n):void 0},getAdVolume:function(){return this._isCreativeFunctionInvokable("getAdVolume")?this._creative.getAdVolume():-1},getAdExpanded:function(){return this._isCreativeFunctionInvokable("getAdExpanded")?this._creative.getAdExpanded():!1},getAdRemainingTime:function(){return this._isCreativeFunctionInvokable("getAdRemainingTime")?this._creative.getAdRemainingTime():-1},getAdDuration:function(){return this._isCreativeFunctionInvokable("getAdDuration")?this._creative.getAdDuration():-1},getAdLinear:function(){return this._creative.getAdLinear()},getAdCompanions:function(){return this._isCreativeFunctionInvokable("getAdCompanions")?this._creative.getAdCompanions():""},setTimeoutValueInMs:function(e){this._timeoutInMs=e},cancelTimeoutEvent:function(){var e="startAd and stopAd"!==this._timeoutOperation;if(clearTimeout(this._timeoutTimer),!e){this._timeoutOperation="startAd";var t=this;setTimeout(function(){t._eventHandlers.timeout.call()},500)}},addEventListener:function(e,t){this._eventHandlers[e]=t},removeEventListener:function(e){this._eventHandlers[e]=null},_waitForTimeout:function(){if(this._eventHandlers.timeout){var e=this;this._timeoutTimer=setTimeout(function(){e.timeoutReached||(e.timeoutReached=!0),"startAd"===e._timeoutOperation?e.stopAd():("loadCreativeAsset"===e._timeoutOperation&&clearInterval(e._loadIntervalTimer),e._eventHandlers.timeout.call())},this._timeoutInMs)}},getTimeoutOperation:function(){return this._timeoutOperation}},a.VPAIDWrapper.prototype.constructor=a.VPAIDWrapper,a.VPAIDRenderer=function(){this.vpaidCreative=this.rendererController=null,this.vpaidVolume=this.vpaidDuration=-1,this.creativeEventCallbacks={},this.isMuted=!1,this.adPlaybackState="",this.creativeTimeoutDelayInMs=1e4,this.vpaidDesiredBitrate=268,this.vpaidViewmode="normal",this.playheadTime=0,this.videoBase=document.createElement("div"),this.videoParent=null,this.SUPPORTED_CREATIVE_VPAID_VERSION_MIN=this.PLAYER_VPAID_VERSION=2},a.VPAIDRenderer.prototype={},a.VPAIDRenderer.prototype.constructor=a.VPAIDRenderer,a.VPAIDRenderer.VastCompanion=function(e,t,n,i){this._width=e,this._height=t,this._apiFramework=n,this._xmlNode=i},a.VPAIDRenderer.VastCompanion.prototype={getWidth:function(){return this._width},getHeight:function(){return this._height},_isValidResource:function(e,t){return"StaticResource"===e&&t["@attributes"].creativeType||"IFrameResource"===e&&t.value||"HTMLResource"===e&&t.value},hasValidRendtions:function(){for(var e in this._xmlNode)if(this._xmlNode.hasOwnProperty(e)&&("StaticResource"===e||"IFrameResource"===e||"HTMLResource"===e))for(var t=[].concat(this._xmlNode[e]),n=t.length-1;n>=0;n--)if(this._isValidResource(e,t[n]))return!0;return!1},translateToAdInstance:function(e){if(this._xmlNode.CompanionClickThrough&&e.setClickThroughUrl(a.EVENT_AD_CLICK,this._xmlNode.CompanionClickThrough.value),this._xmlNode.TrackingEvents){var t=this._xmlNode.TrackingEvents;if(t.Tracking){for(var t=[].concat(t.Tracking),n=[],i=t.length-1;i>=0;i--)"creativeView"===t[i]["@attributes"].event&&n.push(t[i].value);0<n.length&&e.addEventCallbackUrls(a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION,n)}}for(var r in this._xmlNode)if(this._xmlNode.hasOwnProperty(r)&&("StaticResource"===r||"IFrameResource"===r||"HTMLResource"===r))for(t=[].concat(this._xmlNode[r]),i=t.length-1;i>=0;i--)if(this._isValidResource(r,t[i])){var n=t[i],s=e.addCreativeRendition();s.setWidth(this._width),s.setHeight(this._height),s.setCreativeApi("None");var o=s.addCreativeRenditionAsset("VPAIDAsset"+i,!0);o.setContentType("text/html_doc_lit_mobile"),o.setMimeType("text/html");var l=e.getEventCallbackUrls(a.EVENT_AD_CLICK,a.EVENT_TYPE_CLICK)[0],c=r;"HTMLResource"===c?o.setContent(a.HTMLAdGenerator.wrapUnsafeHTML(n.value,e.getSlot().getCustomId(),this._width,this._height)):("IFrameResource"===c?creativeType="iframe":"StaticResource"===c&&(creativeType=this._xmlNode.creativeType),o.setContent(a.HTMLAdGenerator.generateAd(n.value,l,e.getSlot().getCustomId(),this._width,this._height,creativeType,o.getContentType())))}}},a.VPAIDRenderer.VastCompanion.prototype.constructor=a.VPAIDRenderer.VastCompanion,a.VPAIDRenderer.VastAdSelect=function(){},a.VPAIDRenderer.VastAdSelect.prototype={_getDeadSpaceRatio:function(e,t){var n=e.getWidth(),i=e.getHeight(),a=t.getWidth(),r=t.getHeight(),s=1;return a>=n&&r>=i&&(s=1-n*i/(a*r)),s},matchAdsWithSlots:function(e,t){for(var n=0;n<t.length;++n)t[n].matched=!1;for(var i=[],a=[],n=0;n<e.length;n++)for(var r=0;r<t.length;r++)a.push({ratio:this._getDeadSpaceRatio(e[n],t[r]),adIndex:n,slotIndex:r});for(a.sort(function(e,t){return e.ratio-t.ratio}),n=0;n<a.length&&1!=a[n].ratio;n++){var r=a[n],s=e[r.adIndex],o=t[r.slotIndex];s.matched||o.matched||(i.push({ad:s,slot:o}),s.matched=!0,o.matched=!0)}return i}},a.VPAIDRenderer.VastAdSelect.prototype.constructor=a.VPAIDRenderer.VastAdSelect,a.Util.mixin(a.VPAIDRenderer.prototype,{_failWithError:function(e,t){this.rendererController.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VPAIDRenderer",errorCode:e,errorInfo:t}),this.dispose()},onCreativeTimeout:function(){var e=this.vpaidCreative.getTimeoutOperation();this._failWithError(a.ERROR_TIMEOUT,"loadCreativeAsset"!==e?"Creative function "+e+" timeout":"load creative asset timeout")},onAdVolumeChange:function(){var e=this.vpaidCreative.getAdVolume();0>e||e>1||(this.isMuted&&100*e>2?(this.isMuted=!1,this.rendererController.processEvent({name:a.EVENT_AD_UNMUTE})):!this.isMuted&&2>100*e&&(this.isMuted=!0,this.rendererController.processEvent({name:a.EVENT_AD_MUTE})))},onAdExpandedChange:function(){this.vpaidCreative.getAdExpanded()?this.rendererController.processEvent({name:a.EVENT_AD_EXPAND}):this.rendererController.processEvent({name:a.EVENT_AD_COLLAPSE})},onAdDurationChange:function(){},onAdClickThru:function(e,t,n){t={name:tv.freewheel.SDK.EVENT_AD_CLICK,info:{}},t.info[a.INFO_KEY_SHOW_BROWSER]=!0===n,!0===n&&e?t.info[a.INFO_KEY_URL]=e:void 0,this.rendererController.processEvent(t)},onCreativeAssetLoaded:function(){this.vpaidCreative.cancelTimeoutEvent();var e=this,t=function(){var t=e.vpaidCreative.handshakeVersion(e.PLAYER_VPAID_VERSION.toFixed(1));return t?parseFloat(t)<e.SUPPORTED_CREATIVE_VPAID_VERSION_MIN?(e._failWithError(a.ERROR_INVALID_VALUE,"Only support creatives with VPAID version >= "+e.SUPPORTED_CREATIVE_VPAID_VERSION_MIN.toFixed(1)),!1):!0:(e._failWithError(a.ERROR_3P_COMPONENT,"Cannot get VPAID version from the creative"),!1)};if(function(){var t=e.vpaidCreative.checkVPAIDInterface("handshakeVersion,initAd,startAd,stopAd,subscribe,unsubscribe,getAdLinear".split(","));return t.passed||e._failWithError(a.ERROR_3P_COMPONENT,"Missing interfaces in the VPAID creative: "+t.missingInterfaces),t.passed}()&&t()){!function(){(param=e.rendererController.getParameter(a.PARAMETER_VPAID_CREATIVE_TIMEOUT_DELAY))&&0<Number(param)&&(e.creativeTimeoutDelayInMs=Number(param));var t=parseFloat(e.rendererController.getParameter(a.PARAMETER_DESIRED_BITRATE));e.vpaidDesiredBitrate=t>0?t:e.vpaidDesiredBitrate}(),e.creativeEventCallbacks={AdStarted:e.onAdStarted,AdStopped:e.onAdStopped,AdSkipped:e.onAdSkipped,AdLoaded:e.onAdLoaded,AdLinearChange:e.onAdLinearChange,AdSizeChange:e.onAdSizeChange,AdExpandedChange:e.onAdExpandedChange,AdDurationChange:e.onAdDurationChange,AdVolumeChange:e.onAdVolumeChange,AdImpression:e.onAdImpression,AdClickThru:e.onAdClickThru,AdVideoFirstQuartile:e.onAdVideoFirstQuartile,AdVideoMidpoint:e.onAdVideoMidpoint,AdVideoThirdQuartile:e.onAdVideoThirdQuartile,AdVideoComplete:e.onAdVideoComplete,AdUserAcceptInvitation:e.onAdUserAcceptInvitation,AdUserMinimize:e.onAdUserMinimize,AdUserClose:e.onAdUserClose,AdPaused:e.onAdPaused,AdPlaying:e.onAdResumed,AdError:e.onAdError,AdLog:e.onAdLog},e.vpaidCreative.setCallbacksForCreative(e.creativeEventCallbacks,e),this.rendererController.setCapability(a.EVENT_AD_QUARTILE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_MUTE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_EXPAND,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_PAUSE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_CLOSE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_MINIMIZE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_ACCEPT_INVITATION,a.CAPABILITY_STATUS_ON),(t=this.rendition?this.rendition.getParameter("VPAID_creativeData"):null)&&(t=a.Util.trim(t));var t={AdParameters:t},n=this.rendererController.getAdInstance().getSlot();this.videoBase.style.width="0px",this.videoBase.style.height="0px",this.videoBase.style.zIndex="100000",this.videoBase.style.position="absolute",this.videoBase.style.left=this.rendererController.getContentVideoElement().style.left,this.videoBase.style.top=this.rendererController.getContentVideoElement().style.top,this.videoParent=n.getBase();var i=this.rendererController.getContentVideoElement();"nodeType"in i&&0<i.nodeType?this.videoParent.insertBefore(this.videoBase,this.rendererController.getContentVideoElement()):this.videoParent.insertBefore(this.videoBase,this.videoParent.firstChild);var i={slot:this.videoBase,videoSlot:this.rendererController.getContentVideoElement(),videoSlotCanAutoPlay:!0},r=n.getWidth(),n=n.getHeight();r&&n||!this.rendition||(r=this.rendition.getWidth,n=this.rendition.getHeight),this.vpaidCreative.initAd(r,n,this.vpaidViewmode,this.vpaidDesiredBitrate,t,i)}},onAdLoaded:function(){this.vpaidCreative.cancelTimeoutEvent();var e=this,t=function(t,n){if(0!==n.length&&0!==t.length){var i=(new a.VPAIDRenderer.VastAdSelect).matchAdsWithSlots(t,n);if(0!==i.length){for(var t=[],n=[],r=i.length-1;r>=0;r--)t.push(i[r].ad),n.push(i[r].slot);for(i=e.rendererController.scheduleAdInstances(n),r=i.length-1;r>=0;r--)t[r].translateToAdInstance(i[r])}}},n=function(e){if(!e)return null;if(xmlDoc=null,window.DOMParser?xmlDoc=(new DOMParser).parseFromString(e,"text/xml"):(xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),xmlDoc.async=!1,xmlDoc.loadXML(e)),e=a.Util.xmlToJson(xmlDoc),!e||!e.CompanionAds||!e.CompanionAds.Companion)return[];for(var e=[].concat(e.CompanionAds.Companion),t=[],n=e.length-1;n>=0;n--){var i=e[n];if(i["@attributes"]){var r=i["@attributes"].width,s=i["@attributes"].height;if(!r||!s||0>r||0>s);else{var o=i["@attributes"].apiFramework||"";i=new a.VPAIDRenderer.VastCompanion(r,s,o,i),i.hasValidRendtions()&&t.push(i)}}}return t}(e.vpaidCreative.getAdCompanions());n&&0<n.length?t(n,this.rendererController.getCompanionSlots()):void 0,this.vpaidCreative.startAd()},onVisibilityChange:function(){document.hidden&&"playing"==this.adPlaybackState?(this.adPlaybackState="pausing",this.vpaidCreative.pauseAd()):!document.hidden&&("paused"==this.adPlaybackState||8>a.PLATFORM_IOS_VERSION)&&(this.adPlaybackState="resuming",this.vpaidCreative.resumeAd())},onAdStarted:function(){this.vpaidCreative.timeoutReached||(this.vpaidCreative.cancelTimeoutEvent(),(7<=a.PLATFORM_IOS_VERSION||4.4<=a.PLATFORM_ANDROID_VERSION)&&(this._visibilityChangeListener=this.onVisibilityChange.bind(this),document.addEventListener("visibilitychange",this._visibilityChangeListener,!1)))},onAdStopped:function(){this.vpaidCreative.cancelTimeoutEvent(),this.timePositionClass===a.TIME_POSITION_CLASS_OVERLAY&&this.vpaidCreative.getAdLinear()&&this.rendererController.requestContentStateChange(!1),this.vpaidCreative&&!this.vpaidCreative.timeoutReached&&(this.rendererController.handleStateTransition(a.RENDERER_STATE_COMPLETED),this.dispose())},onAdImpression:function(){if(this.vpaidCreative.timeoutReached);else{var e=this.vpaidCreative.getAdVolume();this.isMuted=e>0&&2>=100*e,this.adPlaybackState="playing",this.rendererController.handleStateTransition(a.RENDERER_STATE_STARTED)}},onAdLinearChange:function(){var e=this.vpaidCreative.getAdLinear();this.rendererController.requestContentStateChange(e)},onAdSizeChange:function(){},onAdPaused:function(){"playing"===this.adPlaybackState&&this.rendererController.processEvent({name:a.EVENT_AD_PAUSE}),this.adPlaybackState="paused"},onAdResumed:function(){"paused"===this.adPlaybackState&&this.rendererController.processEvent({name:a.EVENT_AD_RESUME}),this.adPlaybackState="playing"},onAdSkipped:function(){this.dispose(),this.rendererController.handleStateTransition(a.RENDERER_STATE_COMPLETED)},onAdVideoFirstQuartile:function(){this.rendererController.processEvent({name:a.EVENT_AD_FIRST_QUARTILE})},onAdVideoMidpoint:function(){this.rendererController.processEvent({name:a.EVENT_AD_MIDPOINT})},onAdVideoThirdQuartile:function(){this.rendererController.processEvent({name:a.EVENT_AD_THIRD_QUARTILE})},onAdVideoComplete:function(){this.rendererController.processEvent({name:a.EVENT_AD_COMPLETE})},onAdUserAcceptInvitation:function(){this.rendererController.processEvent({name:a.EVENT_AD_ACCEPT_INVITATION})},onAdUserClose:function(){this.rendererController.processEvent({name:a.EVENT_AD_CLOSE})},onAdUserMinimize:function(){this.rendererController.processEvent({name:a.EVENT_AD_MINIMIZE})},onAdLog:function(e){},onAdError:function(e){this._failWithError(a.ERROR_3P_COMPONENT,"AdError event:"+e)},start:function(e){var t;if(this.rendererController=e,this.timePositionClass=e.getAdInstance().getSlot().getTimePositionClass(),t=(this.rendition=e.getAdInstance().getActiveCreativeRendition())?this.rendition.getPrimaryCreativeRenditionAsset():null,e=(e=t)?e.getUrl():null){this.vpaidCreative=new a.VPAIDWrapper,this.vpaidCreative.setTimeoutValueInMs(this.creativeTimeoutDelayInMs),this.vpaidCreative.addEventListener("timeout",this.onCreativeTimeout.bind(this)),this.vpaidCreative.addEventListener("CreativeAssetLoaded",this.onCreativeAssetLoaded.bind(this));try{this.vpaidCreative.loadCreativeAsset(e)}catch(n){this._failWithError(a.ERROR_IO,n)}}else this._failWithError(a.ERROR_NULL_ASSET,"Creative asset url cannot be null")},stop:function(){this.vpaidCreative.stopAd()},info:function(){return{moduleType:a.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){var e=this.vpaidCreative.getAdDuration(),t=this.vpaidCreative.getAdRemainingTime();return e>=0&&t>=0&&(this.playheadTime=e-t),0>this.playheadTime&&(this.playheadTime=-1),this.playheadTime},getDuration:function(){var e=this.vpaidCreative.getAdDuration();return e>=0?e:-1},pause:function(){this.rendererController.processEvent({name:a.EVENT_AD_PAUSE}),this.vpaidCreative.canPauseAd()&&"playing"==this.vpaidCreative.adPlaybackState&&(this.adPlaybackState="pausing",this.vpaidCreative.pauseAd())},resume:function(){this.rendererController.processEvent({name:a.EVENT_AD_RESUME}),this.vpaidCreative.canResumeAd()&&"paused"==this.vpaidCreative.adPlaybackState&&(this.adPlaybackState="resuming",this.vpaidCreative.resumeAd())},dispose:function(){this.vpaidCreative&&(this.videoParent&&(this.videoParent.removeChild(this.videoBase),this.videoParent=null),this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener,!1),this.vpaidCreative.removeCallbacksForCreative(this.creativeEventCallbacks),this.vpaidCreative.removeEventListener("timeout"),this.vpaidCreative=null)},resize:function(){var e=this.rendererController.getAdInstance().getSlot(),t=e.getWidth(),e=e.getHeight();this.vpaidCreative.resizeAd(t,e,this.vpaidViewmode)}}),a},u.tv.freewheel.SDK||(u.tv.freewheel.SDK=u.tv.freewheel[P]("tv.freewheel.SDK")),u}(),function(e){return e.tve_mvpd_list=tve_mvpd_list={thr030:"ec076a9b5ac8f0e86d972912bdb25a91",acecommunications:"7dac816d9f86f927cbc1d37120f0c539",all070:"b7514a434d69b8041f237cb82d09e734",att:"65db43f237832cbf0f299bd8f2bcf2ac",dix030:"d3cb21f5cf343b3365f9fb06a3fe0a0b",ara010:"1b5c4785d1d3e342e745897548673473",com140:"c696a7116d2d1d5d326a4c70960442a5",acm010:"8b9a9735f31a25ba12035e5be103838a",adobe_iframe:"00b1f2cca26dc9482c36113a5131fef9",acc:"1673448ee7064c989d02579c534f6b66",algona:"b43f4dd89df78ce4412431178eee04ab",allwest:"0f71eafadde721cf2143a85160e8c2df",spl010:"387d000db6f0a58616361d3c10b6c83e",alpine:"7c9fb847d117531433435b68b61f91f6",hun015:"dcebdf997c2915d0daa1eb775acf91b7","asu_auth-gateway_net":"f0a1394e0675658999ec557e6bda7925",arkwest:"b63aa536bdce9fe1a707ea75db77e4c0",auth_armstrongmywire_com:"9bda8f5c849e42101139a04beb1b91a7",arvig:"9bc992e987d078b4a51c4f3810acf0d8",nttcash010:"5c575a64f3a3b1cc6dc56244a023800d",astound:"634f20a0f8a96b0237fb09ddb7b4b675",atmc:"6119f71a2683ce312a62bc4cf1047bf6",bra020:"a43b2932903f9f6eda95e67406f3b9fd",www_websso_mybrctv_com:"a0e23a244da4d2d28166080fe2134742",btc010:"78d47bf54d758ba856cdb7ab3a6c5fd7",bvu:"d14aebc66a3970174112f8315dae54b8",baldwin:"423ac084531624ec9694acd4a5c278ab",cit025:"525c5df5c9b8aed731dc02f2fb90ccbd",bay030:"34e0b8c54c00800a4c839166bb18f207",baycreek:"896aa57c0408dce4d939bea20a0dfde3",tel095:"0e85f07a88efebbe47b7ed4311f76a8f",bea020:"6a9c276af091840324df96d0f6bd8d4e","vol040-01":"04c1f50809ad700dbcb06c551543eb81",bend:"edc684181ea918cf9842a1ae65316afc",bra050:"afb50dba07b57c3d69e01c07704532af",brighthouse:"dd55c99281c6667544470a832b1c9065",bte010:"27aa237d2589f1443774b56aadbc9828",annearundel:"7ebff8d3c511b1f92164f9e3462f33d1",buckeye:"289a5c69d3636588dc8b5784d8c09374","burlington_auth-gateway_net":"7c70cedb3e15169fceb8ebad0eef489d",but010:"3b047cc699d1cfdb30c4face262304e9",cas:"f90721c90de9bd9ef516bea0b184fd30",casscomm:"fd17623c308aa5d6a42e67aae238f41b",cccomm:"65af848febd9fc8f4b2e4625df90f764",nttccde010:"3023e4d6d808d7de36f460f7ce896a70",cml010:"8b3c67209c54ea8e7467fb588720f14d",cns:"3395f0fcd8ea7f6dd119bee2b612b8a3","cspire_auth-gateway_net":"babc5a4b169ffbb14015e328f87c394e",ctcommunications:"2293623b1b426667126c07e4a07b193e",ctc040:"21ba2c26cf2bd5c7262e327c625ef206",csicable:"91686d580aad809faa07b1590f638d0b",phe030:"47f8dc4f9d5a252b8c20eca9bc20bc19",cab140:"70c259720cb542d156bbc99504963e89",cableamerica:"ee389a8ef0233c160c222451b8488ffd","weh010-camtel":"7a88564b7184e08762f4ba869c93617a",car030:"4549fa8145a7db25807460c60820ebf2",canbytel:"eb66d975314522926a47030c31bace59",crt020:"ef2f7ff101cff1a1a11f75a544efe9d6",car050:"1206a630d63531a4f17de571fca9c5f1",cfunet:"78ef681b1cdf03e76381c7fd7b38f98e","dem010-01":"ad4845b893281328cfaad38a3fc98f08","dem010-02":"6e073a6a395c081e90566ecd0c10fd06","dem010-03":"632eb9b953d9ac3a3759d487af5e244f","dem010-04":"6705b609afadc931e8e45f703ad36a3c","dem010-05":"47183264193585725756d9f983fe9e3b",cen100:"4693dbefa9f71a71754d4214edbb12eb",auth_centurylink_net:"33f27204fedd1b6cb83343e209bd269f",cha060:"e956fb6688bbb069d8ba4fd2ac258f9d",dur010:"c3e47806e4dd5adb8bc5953ef220f381",cimtel:"30c1a55f763bd054888762382b56331a",cbt:"7638e20f13e9fed7eee4a576059bbf86",cit210:"e8f5222d03024219ca229969b6d91cdc",cit180:"abc6de811c40493e9f1b7406cc1aa652",cit040:"1a87c6881ec849ab11431764d27ba721",war040:"d66f87e24df75496f70960f428abfb94",wadsworth:"d24311a989da77801c736261141952c6",cla010:"b959f91d0471b297cf44cce3d06491c7",clearcreek:"27a41df65e0fc6deb35299fadb4eb2a4","clickcabletv_auth-gateway_net":"1db50e17274deda41b09294e734ca458",cli030:"a5d0eab49250469a8f90c87de42cae80",coa030:"27798e5c0c30fd7964bba7ab92eba2f2",col090:"f14ae6e50780dac7fa79f023cd2e5537",col070:"1516c01f65b612ae189e4f2262551333",col080:"d3e60ec08ed53203455dba49631e59be",com050:"69da2f5fc0363e219b1e6e8115985967",com020:"155ad4d241ca6cd3a6120f419c98c736",cat020:"5e8acfa087b83fed0f52a1f0886ad557",consolidatedcable:"2c50c5c5c18a1ac65b2e03fc8498f939","consolidated_auth-gateway_net":"f5a846db2dc63a9904ac01d798309cb5",conwaycorp:"728a06b32c31d5bd937aa19afcfe8979",cox:"45641e46f614125065559617b3efc5a2",crestview:"94b776fc6c44c700c8367cc4b55d48f0",cross:"22aadb26447d87b550b155a4d764fad0",cro030:"01a30813f2d506e36a00c3c6d5063dbd",cun010:"06e7da0a3a58584b891944decab41b54",dak030:"aa1c1c8a76b6c7470afc6124a04f2955","tel160-del":"deac6088e423e922026588372310f070",dtv:"53da17a30bd0d3c946a41c86cb5873f1","ind060-dc":"e7b13686603234cb643e1f5d225da97d","dishdigital_auth-gateway_net":"41013ea37c22b493833c4d0987d0cb75",guam:"8f80c74c6b23ce247d2ed39dbff2ee2b",cci010:"b060874bc0fab6f52384784b01cca642",eatel:"ec5da8cb96d0dce4dce48ee25b099c44","epb_auth-gateway_net":"1fbafc8ab8b4a7f681172f0327d8c7ed",epb020:"a3161ccdba548bf0bc3c51792d86927c",jea010:"d9c12b4471f2bfad178c4751417c6e39",com065:"17169f85139725867d05a78bac5cbdd9",eagle:"b09315ea09c6d3b5680094257f1f70e4","weh010-east":"6cb0ad8be64bb75f77a25d1693dd32c6","easton-utilities":"593584cd14f088c2f6ab8df3bdc8fd11",emerytelcom:"41bcb7a277ef76ffcbf398421ef52801",endeavor:"c5f5aaefa43684051f6fa380eef4b59e",sun045:"bd82232774cc8f191ab72a168eeece75","enventis_auth-gateway_net":"af6c92190ac66bbef774ad6d0f373eb3",ete010:"3d10fe40294444f5aefb2d0d27eacc61",mid030:"c46d1e1e403aa3275a8e01438ff4027a",nttcftc010:"b7db4fd09efe1dc44fd6e56dc72647b5",fal010:"ce5236d66c71aedf0c73ffdc3610e0b1","fbc-tele":"669dc45aff522ccba8013f8af8f9d1e7",fay010:"2cf68e6ac994c8b3bb8af29acb56913f",fid010:"0c763cdf87fd6d027fe722f4a7c0c23a",fli020:"42f2bbdc1575b14535a6e23a0cffc1c8",fbcomm:"3d3429be4b3f9fa4c1d851c04dda814f","tel160-fra":"7b0454e0252a79ec246efe061f206a37",frontier:"fcd1f56d8e2475a43275058a7d83cf2f",fullchannel:"f0cc77a49fdcf0acbb887215d4eeb12c",gbt010:"5375082a675540bf84bf91563977243f","gci_auth-gateway_net":"9bd06e470b09ee6e4f10277ec751ca7b",gra060:"c784a954b7a00d27f629c5b2dd18fba3","gta_auth-gateway_net":"32781473ef590442ca12e6cd91c76934","gvtc_auth-gateway_net":"03ed21333536734439ba1c1e4bca0f9d",clr010:"0f9dc05e096009ba9fc80279e2809852",gla010:"2f67ae1f2dea0037857820f364951a26",gle010:"b90839e5b550453c05fc5100865912b3",goldenwest:"931e212d8d2bff0ce2ac2ea768eba483","googlefiber_auth-gateway_net":"e1de457268cc28b4670157b289c57f33",grande:"7a3e1c7c45a215a4cbd11d441e63ec4f",gpcom:"1407ab445c76e15e0e21e35a3dc57d55",greenlight:"7312e586fbb73b64827605f5bbfc6d18",hbc:"66bcfee5fb4b8905bba73f5b691dc77a",htc:"4aab4dc9bfbbf4c1f087d9721ffd8582",htccomm:"81bf2ae4f020ce0424b97c911f5c9e5a",har020:"46d1468d7525bb0b5e98931c90edbb4c","hargray_auth-gateway_net":"31c612c013977e7179d0f5969cb76332",har005:"7e2439219929a6db42fb619260ee7699","harrison-telco":"a87b9774fe7022a9eebdde64a0b5909e",auth_hawaiiantel_net:"31009bfc0815a95e6ba641b7734b1df2",hea040:"e472ad364ec89b9e95d29ac9b82ad2f4",htc020:"e89c929d9c7abaf799cd2393361d1de3",nttchig010:"7359be5b9a978384421e742232b10959",hin020:"41e50f27e1baf00e5eddda88b7603472","hometelecom_auth-gateway_net":"bc1e21ce6c5e0eeeca3edec7e35849de","hometowncable_auth-gateway_net":"f2a66cb7bf2dee374510fc4b64e5bb33",hometel:"7db9b26109010768f0370187077ca8a0",hoodcanal:"5b197db8439a4266b90ec838438ca862","weh010-hope":"b38fa6518ac8d6b81d73255e96066665",horizoncable:"a82e41de1052ec76245fe892b6550e2b","hotwirecommunications_auth-gateway_net":"adb5b4f5bb4da3595f10b623118175d0",wal005:"17e8575d2ca776395a1ded5564f5ef7f",imon:"115eaa773ce4dfda0d7676793c222f9d",rrc010:"6b8c0282f61d948ab50b2471808c59ec",stc020:"26b4f6668d0c93a3021379521df83b2c",car100:"1f9a2d7960b29a792bd9a0756bb1065a",icc010:"6eb4eed11b2acf7879089d1abd885e0a",intrmtncable:"d13b0f0fc2b66993a603a7e5cc3fc64c",int050:"47e4032324644fab64c08b1690924391","itv-bitwise":"4f59b373d2a2d8abca78ffbc00f57f9e",jea:"b80f930e160e6dcce8195d433bb56e0a",kmt010:"9c1650dc559112192ca420398f10d2eb",kpu010:"a9e11b6337a5de5f29f8b6d614ad4744",kal010:"982b9315bb9a502ce8524e69a448ee7d",kal030:"981edc234e7b640053a6eb62b7162b72",kuh010:"5d0bad045420a1b3a7c2745fe4cde5c4","lus-fiber":"07875aec770d6c73d22eed77e5e4c34a",lan010:"f32cbfe2cc84354edc0c8ba28f3b3504",lau020:"f7828c0bcde8c82d3202017809667dd5",bra010:"433f94ac47c38c7e6e89b711c2ee10b1",lit020:"4677e0081dab2c2b5b6ba883ae94d499",loc010:"d4ec6dd8eec2a9860e5a6e7e5bd35900","longlines_auth-gateway_net":"45f81532c04831c94dbb005a4a91cf28","weh010-longview":"e27fce0de202e94a84c3127c81c75b33",lns010:"0369df7e289a58cef195411e88ff7a6c",lumos:"58651340138deddda3360f7ce8f06844",mctv:"ae27a4d2662780021fa32cd712053dba",mhtc:"d94568b0964f41af520646b74d8a1411",miconnection:"bd969c68505f8008b1d744144424e16b",mtacomm:"5a3e1550c0f25a9581dcb69593978e10",med040:"80fc17338e0781580740783733d91f9e",man060:"a8f80ef8b2c50279297dbd4de4b603b0",mtc030:"f66947228c1f4bc4ae7499ba3657cd22",musfiber:"d3f8ac942c4cf5e99171fb9fc1670c44",madison:"b3b7eca0709c3c25e677677937e8f609",mad030:"d6f308902663fa1e95e17da86bf68a5e",mcc040:"ae075c33f377d2d79a7cc72b2088b9c2",mediacom:"6815c25b7ee92e5e9ec107418df14eed",merrimac:"cc829bd465b60e89e7d622cf1c1ad752",auth_metrocast_net:"265a3b0dfc8a954479fb8f9c72cc09bc",metronet:"01728aae61ea219da308b06152e97a06",midhudson:"a9ef77d6bdeb6208cb248f26cff05a2e",midrivers:"9040aedd78cb8bfd0138f134f20ae7fe",msauth_midco_net:"6fbd73a8b2838decfb7172f6d45f07d9",mid045:"7364b9dba073cdd8916a31183695d3c4",mil080:"ef5bc2406154f8a88ba822abc139d85b","morrisbroadband_auth-gateway_net":"260762a494265801443e282a7e073215",mul050:"4d98773947d27511eabd454c6c0a1582",mpw:"c3e57e97f4c290780d0b9f7a20942870",nor240:"03907f8b69c806953503d27b5db81b36",nktelco:"4b8bb5bd95648b16463785094f4e8594",new045:"06ec7bf4afb5fc517e5d7b952d2049a6",nctc:"bb696d9b2f14fa0f673315d169d4e523","dur010-nel":"9b90f6c3d804ea97802b1d1e68756628",nem010:"f82998af3d932f76e197db54ad88edb2","nwcable_auth-gateway_net":"2f1a4ee72b3f49044052ed835f43b618","nextech_auth-gateway_net":"6c96a6aeb5d714b4b0423739e559c5e8",cic010:"c1353722a9c98d02882fac8b33adffa6",nortex:"8c19ca4cb6672a829d19de296db09895",nor140:"11fe6239bd27cef0c60656a2a3866870",northstate:"22025d140a3cdf3a03ced2662766abad",nor030:"593ed3a998b2b37083c52eb0a7329261",nor075:"c0eccb3ff55d65d4ad374f1f60557ca8",nor125:"d1980623979fc146fae04abd259a2653",net010:"6ff718a2bbfc6f691beab23fa7f7132c",nulink:"9f6618f138e94d4b663f65b69eb669ce",ote010:"5df7ec2724848e38975126e799210ad2",onesource:"e2ae639dd88972dc12528b186a67eea8",cit230:"4830dc2604d71b6b7b542ae8a2202e7d","openband_auth-gateway_net":"2af51f6318f46738f94735758efe32b8",daltonutilities:"2989b8723003cd2221e0f9299c708d41",cablevision:"725bd42fc9c9394e790b9a73610da431",orbitel:"4cbc4ee5d581c6968ef766c62e05940a",pac12enterprises:"77822f8151419172b1f148038dabff7a",psc010:"9665d7f69a7c6971f3446d755c1e22e0",pan020:"975bf60b3437d42e83b3db647a3de743",otter:"d8e265f13545e890c178a34a72f62c43",paulbunyan:"843fe607ea7c5fc299a2a0cd74ca078b",pem020:"2bb92fac6b99157326b8d85b201ed0b3",mck010:"b8492ff508e0cc158723c3eab22d540f",phonoscope:"0caf394504dfb486b03d0df1efd61cd3","weh010-pine":"aefe577bf75287a9d57ed3ab27a981ff",cam010:"89263158156301f6ba4a232e21d29d49",pioncomm:"b595ec982b1ab280767b1bcdb4ddb846",pioneer:"b39ecd658b2b74a2712303acf766b4a7",pottawatomie:"2d3257324001da2aab814c7679f43886",premiercomm:"91ffe08c6f1ec38b74f08b7092beb295",rcn:"d449c38c8d558224de10ff15dc764568",rma:"a1eff01a6862aea0d5237eb513a378d3",rtc:"68154466f81bfb532cd70f8c71426356",rai030:"74d1d3a3062d5b7d3914f48443a3f0ca",ree010:"6b23b34e21ae9abf80c86a51ce87cc34","myrtu_auth-gateway_net":"0df44016ec7000e31e1e29bdbd81b425",res020:"1d4df24105715329f903ed4614279616","weh010-resort":"cd45598d6fbb705eaeef892c306c86d1",riv030:"e399a0d83badf617e9e1cfd913789db1",rockportcable:"74c5d374e68d3a1eda0735486e8dbd03",rogers:"012d7ca0ce1d7acc274b3c005a58188a",sav010:"c9e5fa0918a0f43b2b68042cf348fadf",selco:"11af711f7fa6c5ea56819e3b0207542f",srt010:"f29f6a11eeed85f3f1e3d1c08330ff35",antietam:"71446d94accc8732930edf9bf98e5f7a","service-electric-bb":"5052021a4ba9590e855b62da22c609bb","service-electric":"3c63f8cd60e7113c7979e96f1adfed34","serviceelectric_auth-gateway_net":"8dccaa33b1c0c2c51f6a1a1678de08fb",she010:"cef9f64704e9832764fbb53b7783555f",she030:"489eebf1d7e49e8864029f2d713743e2","ind060-ssc":"5329b2125a8e13ff093800d86082987c",sjoberg:"d80101031293371f7ba809f57eb21772",sky050:"2b54ce47686e3a240345f6d742f4cb34",identity_sling_com:"96d5bb25c6953c01cd2aeeb47df24de1",woo010:"eb7c172641bd996fdc6f0f83aec9fa08",sou075:"55f25ae8fefaa7ffea28f0796d5eb5a5",sou065:"3e579b9aead0cdf6629a592fdde142c4",
sou035:"6d0bd14102e8eabf42fb0b2de275339d",spe010:"f08444a4955bab2156576bcc215bb17f",cccsmc010:"c883d8dfad8b158a4fb6b42402d4720b",sum010:"96b332f90bad27afddbf789190612bae",pie010:"34e1b98ee616d46948c78e45defdaad7",sweetwater:"c6bd6b367eb689850ac04b19242eb947",tct:"039101a793e5708579036ce933ae2766","tds_auth-gateway_net":"8354875c8df02fdeaf7711974652cd7a",tsc:"3c33894421ec07809347e7b0b7b19359",cab180:"d05cff9cb664c3877bc22e5e18ed253d","weh010-talequah":"da57913de0fc203b12cbe576e7ebf3dd",tel050:"e27e992344a3b52c1822d9294bed1fbd","telus_auth-gateway_net":"b32360f21d98046c3119e3a7cf63d799",twc:"975cd70e2de25291acc0efc98a48935e",tcc:"dcbacadf485c141a2b9b0028f2c0b2e1",tro010:"a6b070897409f2537bb03ed367ba96d1",cit220:"9b705185dfb43a28e84801411f732fb6",tvtinc:"c0548072a52a5be028f401de819c60d5",uss020:"c4ffddc41a80872d5e0da1b006c7c90c",cab060:"d93d58aeb2c0c4a33ff230fb435aaacb",she005:"bcc6f0907c8578ae50e2a3cdde9d9aa1",uis010:"f55804d59741b3e913b10660c707573f","ulosangeles_auth-gateway_net":"3c0e7e9ce7450e95a4538d3ba4356394","uwashington_auth-gateway_net":"d56b4634f9913741ba10f1dcb0c85291",val025:"1a50aeee722af97a0ed6d35e95749497",val030:"f0253c3444d5546f791f826f8652e3bf",sul015:"a016f523d1e6e4340a8c132e3f579c88",verizon:"5525ff59adcaac313923ab89d0a618c5",ver025:"c7c891b292a4feaf6c12054e8a735cfd","weh010-vicksburg":"59c65a9deb5b711a7c0a4751b0e08aa2",vis070:"129320dff5313168c70389ca2cf94a7a","vol040-02":"92f4a622f8602742d3377db6b247b0e1",volcanotel:"33b6ba12cbafe83552d48454ce992fcd",bci010:"af5b4765e8a1b48e5d4ad6b1b8f2198d","bci010-02":"2d84d122d77583266fcc9bfd2ce4b5b4",wow:"bcedc450f8481e89b1445069acdc3dd9",wtc010:"310f0b55e5df066728e2714102d008dd",wil040:"da93c596c8ade6e8235477e9677c84e7",wab020:"fe73588bd585094c3239b0a49ce7108b",waitsfield:"43b4fc858afd2c342a874a6eab369631",wal010:"64a49276c8d60700a3334e271ed3c8d6",wavebroadband:"62c69fcf69f9ef17f1afe467b5f5c92b",carolinata:"b545a918d4113ce3a551bc13969e777a",wct010:"2d474f2e630d054aabada078af05781d",wes110:"51a3add5b3d6a21aaa590da1e82350be",westianet:"ae7ae3c0829175231465ee43b41d150d",nttcwhi010:"6b7575537dfe688722064002a21167bd","weh010-white":"59c8dcff1d5a2e43053b939f91f9ccbb",wil015:"5ef47e8ed07afb46bfede53cc3a39578",win090:"b49e3dede9ecad95c6d2eeea0c566571",wcta:"4a8f5f88c24d0ad10a6097944a82740d",wtve:"81e9bd89a385898e8add39e4d5b5aca1",cou060:"e4080c770788c94bb7f1274141326ab7",auth_atlanticbb_net:"ff838de38814328c986fb6640857854f",xfinity:"f3e50f6a30b1bf9f53f4f30d60fc589e"},tve_mvpd_list}(window),window.addHeartbeatAnalyticsLibrary=function(){!function(e){if("undefined"==typeof t)var t={};if("undefined"==typeof n)var n={};if("undefined"==typeof i)var i={};if(i.radio||(i.radio={}),i.plugin||(i.plugin={}),"undefined"==typeof a)var a={};a.clock||(a.clock={}),function(e){"use strict";function t(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function n(e,t){return e<<t|e>>>32-t}function i(e,i,a,r,s,o){return t(n(t(t(i,e),t(r,o)),s),a)}function a(e,t,n,a,r,s,o){return i(t&n|~t&a,e,t,r,s,o)}function r(e,t,n,a,r,s,o){return i(t&a|n&~a,e,t,r,s,o)}function s(e,t,n,a,r,s,o){return i(t^n^a,e,t,r,s,o)}function o(e,t,n,a,r,s,o){return i(n^(t|~a),e,t,r,s,o)}function l(e,n){e[n>>5]|=128<<n%32,e[(n+64>>>9<<4)+14]=n;var i,l,c,d,u,_=1732584193,p=-271733879,h=-1732584194,g=271733878;for(i=0;i<e.length;i+=16)l=_,c=p,d=h,u=g,_=a(_,p,h,g,e[i],7,-680876936),g=a(g,_,p,h,e[i+1],12,-389564586),h=a(h,g,_,p,e[i+2],17,606105819),p=a(p,h,g,_,e[i+3],22,-1044525330),_=a(_,p,h,g,e[i+4],7,-176418897),g=a(g,_,p,h,e[i+5],12,1200080426),h=a(h,g,_,p,e[i+6],17,-1473231341),p=a(p,h,g,_,e[i+7],22,-45705983),_=a(_,p,h,g,e[i+8],7,1770035416),g=a(g,_,p,h,e[i+9],12,-1958414417),h=a(h,g,_,p,e[i+10],17,-42063),p=a(p,h,g,_,e[i+11],22,-1990404162),_=a(_,p,h,g,e[i+12],7,1804603682),g=a(g,_,p,h,e[i+13],12,-40341101),h=a(h,g,_,p,e[i+14],17,-1502002290),p=a(p,h,g,_,e[i+15],22,1236535329),_=r(_,p,h,g,e[i+1],5,-165796510),g=r(g,_,p,h,e[i+6],9,-1069501632),h=r(h,g,_,p,e[i+11],14,643717713),p=r(p,h,g,_,e[i],20,-373897302),_=r(_,p,h,g,e[i+5],5,-701558691),g=r(g,_,p,h,e[i+10],9,38016083),h=r(h,g,_,p,e[i+15],14,-660478335),p=r(p,h,g,_,e[i+4],20,-405537848),_=r(_,p,h,g,e[i+9],5,568446438),g=r(g,_,p,h,e[i+14],9,-1019803690),h=r(h,g,_,p,e[i+3],14,-187363961),p=r(p,h,g,_,e[i+8],20,1163531501),_=r(_,p,h,g,e[i+13],5,-1444681467),g=r(g,_,p,h,e[i+2],9,-51403784),h=r(h,g,_,p,e[i+7],14,1735328473),p=r(p,h,g,_,e[i+12],20,-1926607734),_=s(_,p,h,g,e[i+5],4,-378558),g=s(g,_,p,h,e[i+8],11,-2022574463),h=s(h,g,_,p,e[i+11],16,1839030562),p=s(p,h,g,_,e[i+14],23,-35309556),_=s(_,p,h,g,e[i+1],4,-1530992060),g=s(g,_,p,h,e[i+4],11,1272893353),h=s(h,g,_,p,e[i+7],16,-155497632),p=s(p,h,g,_,e[i+10],23,-1094730640),_=s(_,p,h,g,e[i+13],4,681279174),g=s(g,_,p,h,e[i],11,-358537222),h=s(h,g,_,p,e[i+3],16,-722521979),p=s(p,h,g,_,e[i+6],23,76029189),_=s(_,p,h,g,e[i+9],4,-640364487),g=s(g,_,p,h,e[i+12],11,-421815835),h=s(h,g,_,p,e[i+15],16,530742520),p=s(p,h,g,_,e[i+2],23,-995338651),_=o(_,p,h,g,e[i],6,-198630844),g=o(g,_,p,h,e[i+7],10,1126891415),h=o(h,g,_,p,e[i+14],15,-1416354905),p=o(p,h,g,_,e[i+5],21,-57434055),_=o(_,p,h,g,e[i+12],6,1700485571),g=o(g,_,p,h,e[i+3],10,-1894986606),h=o(h,g,_,p,e[i+10],15,-1051523),p=o(p,h,g,_,e[i+1],21,-2054922799),_=o(_,p,h,g,e[i+8],6,1873313359),g=o(g,_,p,h,e[i+15],10,-30611744),h=o(h,g,_,p,e[i+6],15,-1560198380),p=o(p,h,g,_,e[i+13],21,1309151649),_=o(_,p,h,g,e[i+4],6,-145523070),g=o(g,_,p,h,e[i+11],10,-1120210379),h=o(h,g,_,p,e[i+2],15,718787259),p=o(p,h,g,_,e[i+9],21,-343485551),_=t(_,l),p=t(p,c),h=t(h,d),g=t(g,u);return[_,p,h,g]}function c(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function d(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function u(e){return c(l(d(e),8*e.length))}function _(e,t){var n,i,a=d(e),r=[],s=[];for(r[15]=s[15]=void 0,a.length>16&&(a=l(a,8*e.length)),n=0;16>n;n+=1)r[n]=909522486^a[n],s[n]=1549556828^a[n];return i=l(r.concat(d(t)),512+8*t.length),c(l(s.concat(i),640))}function p(e){var t,n,i="0123456789abcdef",a="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),a+=i.charAt(t>>>4&15)+i.charAt(15&t);return a}function h(e){return unescape(encodeURIComponent(e))}function g(e){return u(h(e))}function f(e){return p(g(e))}function E(e,t){return _(h(e),h(t))}function T(e,t){return p(E(e,t))}function m(e,t,n){return t?n?E(t,e):T(t,e):n?g(e):f(e)}e.md5=m}(t),function(e){"use strict";var t={};t.startsWith=function(e,t){return 0==e.indexOf(t)},e.StringUtils=t}(t),function(e){"use strict";var t={};t.clone=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},t.merge=function(e,n){var i=t.clone(e);for(var a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i},e.ObjectUtils=t}(t),function(e){"use strict";function t(e,t,n){this.fn=e,this.ctx=t,this.params=n}t.prototype.run=function(){this.params?this.fn.apply(this.ctx,this.params):this.fn.apply(this.ctx)},e.radio.Command=t}(i),function(e){"use strict";function t(e,t){this._queue=[],this._lastTs=0,this._isSuspended="undefined"!=typeof e?e:!1,this._delay="undefined"!=typeof t?t:0}t.prototype.addCommand=function(e){this._queue.push(e),this._drain()},t.prototype.cancelAllCommands=function(){this._queue=[]},t.prototype.isEmpty=function(){return 0===this._queue.length},t.prototype.suspend=function(){this._isSuspended=!0},t.prototype.resume=function(){this._isSuspended=!1,this._drain()},t.prototype.flush=function(){this._isSuspended=!1;for(var e=0;e<this._queue.length;e++){var t=this._queue[e];t.run()}this._queue=[]},t.prototype._drain=function(){if(!this._isSuspended&&!this._drainInProgress){this._drainInProgress=!0;var e=this;!function t(){var n=e._queue.shift();n?e._runCommand(n,function(){e._isSuspended||t()}):e._drainInProgress=!1}()}},t.prototype._runCommand=function(e,t){function n(){e.run(),null!=t&&t.call(i)}var i=this;if(0==this._lastTs)n();else{var a=(new Date).getTime(),r=a-this._lastTs;this._lastTs=a,r<this._delay?setTimeout(n,this._delay-r):n()}},e.radio.CommandQueue=t}(i),function(e){"use strict";function t(e,t){if(this._name=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._listeners={},this._requests={},this._commands={},this._isShutDown=!1}function n(e,n){if(e===n)return!0;for(var i=(e||"").split(t.SEPARATOR),a=(n||"").split(t.SEPARATOR),r=!0,s=0;s<i.length;s++)r=r&&(i[s]===t.WILDCARD||i[s]===a[s]);return r}t.WILDCARD="*",t.SEPARATOR=":",t.prototype.toString=function(){return"<channel: "+this._name+">"},t.prototype.shutdown=function(){this._isShutDown||(this._logger.debug(i,"#shutdown > Shutting down"),this.off(),this._requests={},this._commands={},this._isShutDown=!0)},t.prototype.on=function(e,t,n){this._isShutDown||(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push({fn:t,ctx:n}))},t.prototype.off=function(e,t,n){if(!this._isShutDown){if(t="function"==typeof t?t:null,!e&&null==t&&!n)return void(this._listeners={});if(e)this._removeListener(e,t,n);else for(e in this._listeners)this._listeners.hasOwnProperty(e)&&this._removeListener(e,t,n)}},t.prototype.trigger=function(e){if(!this._isShutDown)for(var t in this._listeners)if(this._listeners.hasOwnProperty(t)&&n(t,e.name))for(var i=this._listeners[t].slice(0),a=0;a<i.length;a++){var r=i[a];r.fn.call(r.ctx,e)}},t.prototype.comply=function(e,t,n){this._isShutDown||(this._commands[e]={cmd:t,ctx:n})},t.prototype.command=function(e,t){if(!this._isShutDown){var n=this._commands[e];return n?void n.cmd.call(n.ctx,t):void this._logger.warn(i,"#command > No command handler for: "+e)}},t.prototype.reply=function(e,t,n){this._isShutDown||(this._requests[e]={fn:t,ctx:n})},t.prototype.request=function(e){if(!this._isShutDown){var t=this._requests[e];return t?t.fn.call(t.ctx):(this._logger.warn(i,"#request > No request handler for: "+e),null)}},t.prototype._removeListener=function(e,t,n){t="function"==typeof t?t:null;var i=this._listeners[e];if(i){if(!i.length||null==t&&!n)return void delete this._listeners[e];for(var a=0;a<i.length;a++){var r=i[a];null!==t&&t!==r.fn||n&&n!==r.ctx||this._listeners[e].splice(a,1)}}};var i="radio::Channel";e.radio.Channel=t}(i),function(e){"use strict";function t(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._channels={}}var n=e.radio.Channel;t.prototype.channel=function(e){return this._channels[e]||(this._channels[e]=new n(e,this._logger)),this._channels[e]},t.prototype.shutdown=function(){for(var e in this._channels)this._channels.hasOwnProperty(e)&&this._channels[e].shutdown()},e.radio.Radio=t}(i),function(e){"use strict";function t(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e}e.extend=t}(i),function(e){"use strict";function t(){}t.prototype.write=function(e){throw new Error("Implementation error: Method must be overridden.")},e.ILogWriter=t}(i),function(e){"use strict";function t(){}t.prototype.write=function(e){window.console&&console.log&&void 0},e.LogWriter=t}(i,n),function(e){"use strict";function t(){}t.prototype.setLogWriter=function(e){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getLogWriter=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getEnabled=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.debug=function(e,t){throw new Error("Implementation error: Method must be overridden.")},t.prototype.info=function(e,t){throw new Error("Implementation error: Method must be overridden.")},t.prototype.warn=function(e,t){throw new Error("Implementation error: Method must be overridden.")},t.prototype.error=function(e,t){throw new Error("Implementation error: Method must be overridden.")},e.ILogger=t}(i),function(e){"use strict";function t(){this._logWriter=new i}function n(e){return 10>e?"00"+e:100>e?"0"+e:""+e}var i=e.LogWriter;t.prototype.setLogWriter=function(e){if(!e)throw new Error("Reference to the ILogWriter object cannot be NULL");this._logWriter=e,this._enabled=!1},t.prototype.getLogWriter=function(){return this._logWriter},t.prototype.getEnabled=function(){return this._enabled},t.prototype.enable=function(){this._enabled=!0},t.prototype.disable=function(){this._enabled=!1},t.prototype.debug=function(e,t){this._log(e,r,t)},t.prototype.info=function(e,t){this._log(e,a,t)},t.prototype.warn=function(e,t){this._log(e,s,t)},t.prototype.error=function(e,t){this._log(e,o,t)},t.prototype._log=function(e,t,i){if(t==o||this._enabled){var a="",r=new Date;a+="["+r.toTimeString()+"."+n(r.getMilliseconds())+"] ["+t+"] ",a+="["+e+"] "+i,this._logWriter.write(a)}};var a="INFO",r="DEBUG",s="WARN",o="ERROR";e.Logger=t}(i),function(e){"use strict";function t(e,t){this._pluginName=e,this._eventName=t}var n=e.radio.Channel;t.prototype.getPluginName=function(){return this._pluginName},t.prototype.getEventName=function(){return this._eventName},t.prototype.getName=function(){return this._pluginName+n.SEPARATOR+this._eventName},e.Trigger=t}(i),function(e){"use strict";function t(e,t){this.name=e,this.data=t}t.SUCCESS="success",t.ERROR="error",t.createFromTrigger=function(e){return new t(e.getName())},e.Event=t}(i),function(e){"use strict";function t(){this._events={}}t.prototype.addEventListener=function(e,t,n){e&&t&&(n=n||window,this._events[e]=this._events[e]||[],this._events[e].push({cb:t,ctx:n}))},t.prototype.removeEventListener=function(e,t,n){if(e&&t){n=n||window;var i,a,r=!1;for(a in this._events)if(e===a){r=!0;break}if(r){for(i=this._events[a].length-1;i>=0;i--){var s=this._events[a][i];t===s.cb&&n===s.ctx&&this._events[a].splice(i,1)}this._events[a].length||delete this._events[a]}}},t.prototype.dispatchEvent=function(e){if(e.name){var t,n;for(t in this._events)if(this._events.hasOwnProperty(t)&&e.name===t){var i=this._events[t],a=i.slice(0),r=a.length;for(n=0;r>n;n++)a[n].cb.call(a[n].ctx,e);break}}},t.prototype.removeAllListeners=function(e){if(e){var t,n;for(n in this._events)if(this._events.hasOwnProperty(n)){for(t=this._events[n].length-1;t>=0;t--){var i=this._events[n][t];i.ctx===e&&this._events[n].splice(t,1)}this._events[n].length||delete this._events[n]}}else this._events={}},e.EventDispatcher=t}(i),function(e){"use strict";function t(){}function n(e,t){this.url=e||null,this.method=t,this._xmlhttp=null}function i(){i.__super__.constructor.call(this),this._connection=null}var a=e.Event,r=e.EventDispatcher;t.GET="GET",i.RESPONSE="response",i.INSTANCE="instance",e.extend(i,r),i.prototype.close=function(){this.removeAllListeners(null)},i.prototype.load=function(e){e&&e.method&&e.url&&(e._xmlhttp=this._createCORSRequest(e),e._xmlhttp?e._xmlhttp.send():this._loadImage(e))},i.prototype._createCORSRequest=function(e){var t=null;if("undefined"!=typeof window.XMLHttpRequest){var n=new window.XMLHttpRequest;"withCredentials"in n&&(t=n,t.open(e.method,e.url,!0))}if(null==t&&"undefined"!=typeof window.XDomainRequest&&(t=new window.XDomainRequest,t.open(e.method,e.url)),t){var r={};r[i.INSTANCE]=this;var s=this;t.onload=function(){return t.status&&parseInt(t.status,10)>=400?this.onerror():(r[i.RESPONSE]=t.responseText,void s.dispatchEvent(new a(a.SUCCESS,r)))},t.onerror=function(){s.dispatchEvent(new a(a.ERROR,r))}}return t},i.prototype._loadImage=function(e){this._connection||(this._connection=new Image,this._connection.alt=""),this._connection.src=e.url;var t={};t[i.RESPONSE]="",t[i.INSTANCE]=this,this.dispatchEvent(new a(a.SUCCESS,t))},e.URLRequestMethod=t,e.URLRequest=n,e.URLLoader=i}(i),function(e){"use strict";var t="js",n="1.5.4.34",i="c8947c",a=3,r={};r.getVersion=function(){return t+"-"+n+"-"+i},r.getMajor=function(){return r.getNumberAtPosition(0)},r.getMinor=function(){return r.getNumberAtPosition(1)},r.getMicro=function(){return r.getNumberAtPosition(2)},r.getPatch=function(){return r.getNumberAtPosition(3)},r.getBuild=function(){return i},r.getApiLevel=function(){return a},r.getNumberAtPosition=function(e){return n.split(".")[e]},e.Version=r}(n),function(e){"use strict";function t(e,t){this._message=e,this._details=t}t.prototype.getMessage=function(){return this._message},t.prototype.getDetails=function(){return this._details},e.ErrorInfo=t}(n),function(e){"use strict";function t(){this.debugLogging=!1}e.HeartbeatConfig=t}(n),function(e){"use strict";function t(){}t.prototype.onError=function(e){},e.HeartbeatDelegate=t}(n),function(e){"use strict";function t(){}t.prototype.configure=function(e){throw new Error("Implementation error: Method must be overridden.")},t.prototype.bootstrap=function(e){throw new Error("Implementation error: Method must be overridden.")},t.prototype.setup=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.destroy=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getName=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.isInitialized=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.resolveData=function(e){throw new Error("Implementation error: Method must be overridden.")},e.plugin.IPlugin=t}(i),function(e){"use strict";function t(e,t,n,i){this.trigger=e,this.action=n,this.plugin=t,this._paramMappings={},this.mergeParams(i)}var n=e.plugin.ParamMapping;t.prototype.mergeParams=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];this._paramMappings[n.getKeyName()]=n}},t.prototype.getParams=function(){var e=[];for(var t in this._paramMappings)this._paramMappings.hasOwnProperty(t)&&e.push(this._paramMappings[t]);return e},t.prototype.addParam=function(e){this._paramMappings[e.getKeyName()]=e},t.prototype.removeParam=function(e,t){var i=new n(e,t);this._paramMappings.hasOwnProperty(i.getKeyName())&&delete this._paramMappings[i.getKeyName()]},e.plugin.Behaviour=t}(i),function(e){"use strict";function t(e,t,i){this._pluginName=e,this._key=t,this._paramName=i||e+n.SEPARATOR+t}var n=e.radio.Channel;t.prototype.getPluginName=function(){return this._pluginName},t.prototype.getKey=function(){return this._key},t.prototype.getKeyName=function(){return this._pluginName+n.SEPARATOR+this._key},t.prototype.getParamName=function(){return this._paramName},e.plugin.ParamMapping=t}(i),function(e){"use strict";function t(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._plugins={},this._behaviours={},this._radio=new i(this._logger),this._dataChannel=this._radio.channel(s),this._ctrlChannel=this._radio.channel(o)}var n=e.Event,i=e.radio.Radio,a=e.radio.Channel,r=e.plugin.Behaviour;t.ERROR="error",t.prototype.addPlugin=function(e){var t=e.getName();this._plugins[t]&&this._logger.warn(l,"#addPlugin > Replacing plugin: "+t),this._plugins[t]=e,e.bootstrap(this)},t.prototype.setupPlugins=function(){for(var e in this._plugins)this._plugins.hasOwnProperty(e)&&this._plugins[e].setup()},t.prototype.pluginExists=function(e){return!!this._plugins[e]},t.prototype.isPluginInitialized=function(e){return this._plugins[e]&&this._plugins[e].isInitialized()},t.prototype.on=function(e,t,n,i){this._dataChannel.on(e+a.SEPARATOR+t,n,i)},t.prototype.off=function(e,t,n,i){var r=e&&t?e+a.SEPARATOR+t:null;this._dataChannel.off(r,n,i)},t.prototype.trigger=function(e){var t=e.name,n=this._behaviours[t];if(n){var i,a,r,s,o,l={},c={};for(i=0;i<n.length;i++)if(r=n[i],s=r.getParams())for(a=0;a<s.length;a++)o=s[a],l[o.getPluginName()]=l[o.getPluginName()]||[],o.key in l[o.getPluginName()]||l[o.getPluginName()].push(o.getKey());for(var d in l)l.hasOwnProperty(d)&&(c[d]=this.request(d,l[d]));for(i=0;i<n.length;i++){r=n[i];var u={_behaviour:r,_eventData:e.data||{}};if(s=r.getParams()){for(a=0;a<s.length;a++)o=s[a],u[o.getParamName()]=c[o.getPluginName()]?c[o.getPluginName()][o.getKey()]:null;this.command(r.plugin.getName(),r.action,u)}}}this._dataChannel.trigger(e)},t.prototype.request=function(e,t){var n=this._plugins[e];return n&&t&&0!=t.length?n.resolveData(t):null},t.prototype.raise=function(e){this._errorInfo=e;var i=new n(t.ERROR,e);this._ctrlChannel.trigger(i)},t.prototype.getErrorInfo=function(){return this._errorInfo},t.prototype.destroy=function(){this._radio.shutdown();for(var e in this._plugins)this._plugins.hasOwnProperty(e)&&this._plugins[e].destroy()},t.prototype.comply=function(e,t,n){this._dataChannel.comply(e.getName()+a.SEPARATOR+t,n,e)},t.prototype.command=function(e,t,n){this._dataChannel.command(e+a.SEPARATOR+t,n)},t.prototype.registerBehaviour=function(e,t,n,i){var a=e.getName(),s=new r(e,t,n,i);this._behaviours[a]=this._behaviours[a]||[],this._behaviours[a].push(s)};var s="data_channel",o="ctrl_channel",l="plugin::PluginManager";e.plugin.PluginManager=t}(i),function(e,t){"use strict";function n(e){this._name=e,this._isInitialized=!1,this._isDestroyed=!1,this._isEnabled=!0,this._dataResolver={},this._logTag="plugin::"+this.getName(),this._logger=new i}var i=e.Logger,a=e.Trigger,r=e.Event,s=t.ErrorInfo;n.INITIALIZED="initialized",n.prototype.configure=function(e){},n.prototype.bootstrap=function(e){this._pluginManager=e,this._isDestroyed&&this._pluginManager.raise(new s("Invalid state.","Plugin already destroyed."))},n.prototype.setup=function(){this._trigger(n.INITIALIZED),this._isInitialized=!0},n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._teardown())},n.prototype.enable=function(){this._isEnabled=!0,this._enabled()},n.prototype.disable=function(){this._isEnabled=!1,this._disabled()},n.prototype.getName=function(){return this._name},n.prototype.getLogger=function(){return this._logger},n.prototype.isInitialized=function(){return this._isInitialized},n.prototype.resolveData=function(e){if(!this._isEnabled||!this._isInitialized)return this._logger.warn(this._logTag,"Unable to retrieve plugin data. Plugin: "+this._name+". Enabled: "+this._isEnabled+". Initialized: "+this._isInitialized+"."),null;if("function"==typeof this._dataResolver)return this._dataResolver.call(this,e);var t=null;if(e)for(var n=0;n<e.length;n++){var i=e[n];this._dataResolver.hasOwnProperty(i)&&(t=t||{},"function"==typeof this._dataResolver[i]?t[i]=this._dataResolver[i].call(this):t[i]=this._dataResolver[i])}return t},n.prototype.toString=function(){return"<plugin: "+this._name+">"},n.prototype._enabled=function(){},n.prototype._disabled=function(){},n.prototype._teardown=function(){},n.prototype._canProcess=function(){return this._isEnabled?this._isDestroyed?(this._logger.error(this._logTag,"Plugin destroyed."),!1):!0:(this._logger.error(this._logTag,"Plugin disabled."),!1)},n.prototype._trigger=function(e,t){var n=r.createFromTrigger(new a(this.getName(),e));n.data=t,this._pluginManager.trigger(n)},e.plugin.BasePlugin=n}(i,n),function(e){"use strict";function t(e,t,n){this.name=e,this.interval=t,this.isActive=!1,this.repeatCount="undefined"!=typeof n?n:a,this._nextTickTimestamp=0,this.reset()}function n(e,t){if(!e)throw new Error("Reference to the ClockService object cannot be NULL");if(this._service=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._isDestroyed=!1,this._timers={};var n=this;this._clock=window.setInterval(function(){n._onTick()},1e3*r)}t.prototype.reset=function(){this.tick=0,this._createdTimestamp=(new Date).getTime(),this._updateNextTickTimestamp()},t.prototype.shouldTick=function(){var e=(new Date).getTime();return e>this._nextTickTimestamp-r/2?(this.tick++,this._updateNextTickTimestamp(),!0):!1},t.prototype._updateNextTickTimestamp=function(){this._nextTickTimestamp=this._createdTimestamp+1e3*this.interval*(this.tick+1)},n.prototype.createTimer=function(e,n,i){this._timers[e]=new t(e,n,i)},n.prototype.destroyTimer=function(e){delete this._timers[e]},n.prototype.resumeTimer=function(e,t){t="undefined"!=typeof t?t:!1,this._logger.debug(i,"#resumeTimer(name="+e+", reset="+t+")");var n=this._timers[e];n&&(n.isActive=!0,t&&n.reset())},n.prototype.pauseTimer=function(e,t){t="undefined"!=typeof t?t:!1,this._logger.debug(i,"#pauseTimer(name="+e+", reset="+t+")");var n=this._timers[e];n&&(n.isActive=!1,t&&n.reset())},n.prototype.isTimerPaused=function(e){var t=this._timers[e];return t?!t.isActive:!1},n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._timers={},window.clearInterval(this._clock))},n.prototype._onTick=function(){for(var e in this._timers)if(this._timers.hasOwnProperty(e)){var t=this._timers[e];t.isActive&&t.shouldTick()&&(t.interval>1&&this._logger.debug(i,"#_onTick() > "+t.name+"("+t.tick+" | "+t.repeatCount+")"),0!=t.repeatCount?(this._service.onTick(t.name,t.interval,t.tick),t.repeatCount!=a&&t.repeatCount--):this.destroyTimer(t.name))}};var i="service.clock::TimerManager",a=-1,r=.25;e.clock.TimerDescriptor=t,e.clock.TimerManager=n}(a),function(e,t,n){"use strict";function i(e){if(i.__super__.constructor.call(this,o),!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._timerManager=new a(this,this._logger),this._setupDataResolver()}var a=n.clock.TimerManager,r=t.StringUtils,s=e.plugin.BasePlugin;e.extend(i,s),i.prototype.bootstrap=function(e){i.__super__.bootstrap.call(this,e),this._pluginManager.comply(this,l,this._cmdCreate),this._pluginManager.comply(this,d,this._cmdResume),this._pluginManager.comply(this,c,this._cmdPause),this._pluginManager.comply(this,u,this._cmdDestroy)},i.prototype._teardown=function(){this._timerManager.destroy()},i.prototype._cmdCreate=function(e){var t=e[h]||T;this._timerManager.createTimer(e[_],e[p],t)},i.prototype._cmdPause=function(e){this._timerManager.pauseTimer(e[_],!!e[f])},i.prototype._cmdResume=function(e){this._timerManager.resumeTimer(e[_],!!e[f])},i.prototype._cmdDestroy=function(e){this._timerManager.destroyTimer(e[_])},i.prototype.onTick=function(e,t,n){e+=".tick";var i={};i[_]=e,i[p]=t,i[g]=n,this._trigger(e,i)},i.prototype._setupDataResolver=function(){var e={},t=this._timerManager;e[E]=function(e){return t.isTimerPaused(e)},this._dataResolver=function(t){if(!t||0==t.length)return null;for(var n=null,i=0;i<t.length;i++){var a=t[i];if(n=n||{},r.startsWith(a,E)){var s=a.split(E+".");s.length>0&&(n[a]=e[E].call(this,s[1]))}}return n}};var o="service.clock",l="create",c="pause",d="resume",u="destroy",_="name",p="interval",h="repeat_count",g="tick",f="reset",E="is_paused",T=-1;n.clock.ClockService=i}(i,t,a),function(e,t,n){"use strict";function i(e,t){if(this._logger=new a,this._pluginManager=new r(this._logger),this._pluginManager.addPlugin(new s(this._logger)),t)for(var n=0;n<t.length;n++)this._pluginManager.addPlugin(t[n]);this._pluginManager.setupPlugins(),this._isDestroyed=!1}var a=e.Logger,r=e.plugin.PluginManager,s=t.clock.ClockService;i.prototype.configure=function(e){if(!e)throw new Error("Configuration object cannot be NULL.");console.logLogging?this._logger.enable():this._logger.disable(),this._isDestroyed&&this._logger.error(o,"Instance is destroyed.")},i.prototype.destroy=function(){this._isDestroyed||(this._pluginManager.destroy(),this._isDestroyed=!0)};var o="Heartbeat";n.Heartbeat=i}(i,a,n),e.ADB||(e.ADB={}),e.ADB.core||(e.ADB.core=i),e.ADB.va||(e.ADB.va=n),e.ADB.va.utils||(e.ADB.va.utils=t),e.ADB.va.plugins||(e.ADB.va.plugins={})}(this),!function(e){if("undefined"==typeof t)var t={};!function(e){"use strict";var t={};t.ASSET_TYPE_VOD="vod",t.ASSET_TYPE_LIVE="live",t.ASSET_TYPE_LINEAR="linear",e.AssetType=t}(t),function(e){"use strict";function t(){this.playerName=null,this.name=null,this.position=null,this.startTime=null}t.prototype.toString=function(){return"playerName="+this.playerName+", name="+this.name+", position="+this.position+", startTime="+this.startTime},e.AdBreakInfo=t}(t),function(e){"use strict";function t(){this.id=null,this.name=null,this.length=null,this.position=null}t.prototype.toString=function(){return"id="+this.id+", name="+this.name+", length="+this.length+", position="+this.position},e.AdInfo=t}(t),function(e){"use strict";function t(){this.name=null,this.length=null,this.position=null,this.startTime=null}t.prototype.toString=function(){return"name="+this.name+", length="+this.length+", position="+this.position+", startTime="+this.startTime},e.ChapterInfo=t}(t),function(e){"use strict";function t(){this.bitrate=null,this.fps=null,this.droppedFrames=null,this.startupTime=null}t.prototype.toString=function(){return"bitrate="+this.bitrate+", fps="+this.fps+", droppedFrames="+this.droppedFrames+", startupTime="+this.startupTime},e.QoSInfo=t}(t),function(e){"use strict";function t(){this.playerName=null,this.id=null,this.name=null,this.length=null,this.playhead=null,this.streamType=null}t.prototype.toString=function(){return"playerName="+this.playerName+", id="+this.id+", name="+this.name+", length="+this.length+", playhead="+this.playhead+", streamType="+this.streamType},e.VideoInfo=t}(t),function(e){"use strict";function t(){this.debugLogging=!1}e.VideoPlayerPluginConfig=t}(t),function(e){"use strict";function t(){}t.prototype.getVideoInfo=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getAdBreakInfo=function(){return null},t.prototype.getAdInfo=function(){return null},t.prototype.getChapterInfo=function(){return null},t.prototype.getQoSInfo=function(){return null},e.VideoPlayerPluginDelegate=t}(t),function(e,t){"use strict";function n(e){if(n.__super__.constructor.call(this,r),!e)throw new Error("PlayerPlugin delegate cannot be NULL.");this._delegate=e,this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._playheadTimer=null,this._previousPlayhead=-1,this._stalledPlayheadCount=0,this._playheadStalled=!1,this._setupDataResolver()}var i=e.plugin.BasePlugin,a=t.VideoPlayerPluginConfig;e.extend(n,i),n.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof a))throw new Error("Expected config data to be instance of VideoPlayerPluginConfig.");console.logLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure(debugLogging="+console.logLogging+")")},n.prototype.trackSessionStart=function(){if(this._logger.info(this._logTag,"#trackSessionStart()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackSessionStart() > No active tracking session.");if(this._isTrackingSessionStarted)return void this._logger.info(this._logTag,"#trackSessionStart() > Tracking session already started.");this._trigger(d),this._isTrackingSessionStarted=!0}},n.prototype.trackVideoLoad=function(){this._logger.info(this._logTag,"#trackVideoLoad()"),this._canProcess()&&(this._trigger(l),this._isTrackingSessionActive=!0,this._isTrackingSessionStarted=!1)},n.prototype.trackVideoUnload=function(){if(this._logger.info(this._logTag,"#trackVideoUnload()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackVideoUnload() > No active tracking session.");this._stopPlayheadTimer(),this._trigger(c),this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1}},n.prototype.trackPlay=function(){this._logger.info(this._logTag,"#trackPlay()"),this._canProcess()&&this._startSessionIfNeeded("trackPlay")&&(this._trigger(p),this._startPlayheadTimer())},n.prototype.trackPause=function(){this._logger.info(this._logTag,"#trackPause()"),this._canProcess()&&this._startSessionIfNeeded("trackPause")&&(this._stopPlayheadTimer(),this._trigger(h))},n.prototype.trackBufferStart=function(){this._logger.info(this._logTag,"#trackBufferStart()"),
this._canProcess()&&this._startSessionIfNeeded("trackBufferStart")&&(this._stopPlayheadTimer(),this._trigger(E))},n.prototype.trackBufferComplete=function(){this._logger.info(this._logTag,"#trackBufferComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferComplete")&&(this._trigger(T),this._startPlayheadTimer())},n.prototype.trackSeekStart=function(){this._logger.info(this._logTag,"#trackSeekStart()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekStart")&&(this._stopPlayheadTimer(),this._trigger(m))},n.prototype.trackSeekComplete=function(){this._logger.info(this._logTag,"#trackSeekComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekComplete")&&(this._trigger(A),this._startPlayheadTimer())},n.prototype.trackComplete=function(e){if(this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackComplete")){var t={};t[P]=e,this._stopPlayheadTimer(),this._trigger(u,t)}},n.prototype.trackTimedMetadata=function(e){this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackTimedMetadata")&&this._trigger(_,e)},n.prototype.trackChapterStart=function(){this._logger.info(this._logTag,"#trackChapterStart()"),this._canProcess()&&this._startSessionIfNeeded("#trackChapterStart")&&this._trigger(v)},n.prototype.trackChapterComplete=function(){this._logger.info(this._logTag,"trackChapterComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterComplete")&&this._trigger(I)},n.prototype.trackAdStart=function(){this._logger.info(this._logTag,"#trackAdStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdStart")&&this._trigger(g)},n.prototype.trackAdComplete=function(){this._logger.info(this._logTag,"#trackAdComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdComplete")&&this._trigger(f)},n.prototype.trackBitrateChange=function(){this._logger.info(this._logTag,"#trackBitrateChange()"),this._canProcess()&&this._startSessionIfNeeded("trackBitrateChange")&&this._trigger(S)},n.prototype.trackVideoPlayerError=function(e){if(this._logger.info(this._logTag,"#trackVideoPlayerError(errorId="+e+")"),this._startSessionIfNeeded("trackVideoPlayerError")){var t={};t[C]=o,t[R]=e,this._trigger(y,t)}},n.prototype.trackApplicationError=function(e){if(this._logger.info(this._logTag,"#trackApplicationError(errorId="+e+")"),this._startSessionIfNeeded("trackApplicationError")){var t={};t[C]=s,t[R]=e,this._trigger(y,t)}},n.prototype._setupDataResolver=function(){function e(){return s.video?s.video:(s.video=o._delegate.getVideoInfo(),o._logger.info(o._logTag,"Data from delegate > VideoInfo: "+s.video),s.video)}function t(){return s.ad?s.ad:(s.ad=o._delegate.getAdInfo(),o._logger.info(o._logTag,"Data from delegate > AdInfo: "+s.ad),s.ad)}function n(){return s.pod?s.pod:(s.pod=o._delegate.getAdBreakInfo(),o._logger.info(o._logTag,"Data from delegate > AdBreakInfo: "+s.pod),s.pod)}function i(){return s.chapter?s.chapter:(s.chapter=o._delegate.getChapterInfo(),o._logger.info(o._logTag,"Data from delegate > ChapterInfo: "+s.chapter),s.chapter)}function a(){return s.qos?s.qos:(s.qos=o._delegate.getQoSInfo(),o._logger.info(o._logTag,"Data from delegate > QoSInfo: "+s.qos),s.qos)}var r={},s={},o=this;r["video.id"]=function(){var t=e(),n=t?t.id:null;return o._logger.debug(o._logTag,"Resolving video.id: "+n),n},r["video.name"]=function(){var t=e(),n=t?t.name:null;return o._logger.debug(o._logTag,"Resolving video.name: "+n),n},r["video.length"]=function(){var t=e(),n=t?t.length:NaN;return o._logger.debug(o._logTag,"Resolving video.length: "+n),n},r["video.playerName"]=function(){var t=e(),n=t?t.playerName:null;return o._logger.debug(o._logTag,"Resolving video.playerName: "+n),n},r["video.streamType"]=function(){var t=e(),n=t?t.streamType:null;return o._logger.debug(o._logTag,"Resolving video.streamType: "+n),n},r["video.playhead"]=function(){var t=e(),n=t?t.playhead:NaN;return o._logger.debug(o._logTag,"Resolving video.playhead: "+n),n},r["pod.name"]=function(){var e=n(),t=e?e.name:null;return o._logger.debug(o._logTag,"Resolving pod.name: "+t),t},r["pod.playerName"]=function(){var e=n(),t=e?e.playerName:null;return o._logger.debug(o._logTag,"Resolving pod.playerName: "+t),t},r["pod.position"]=function(){var e=n(),t=e?e.position:NaN;return o._logger.debug(o._logTag,"Resolving pod.position: "+t),t},r["pod.startTime"]=function(){var e=n(),t=e?e.startTime:NaN;return o._logger.debug(o._logTag,"Resolving pod.startTime: "+t),t},r["ad.isInAd"]=function(){var e=t(),n=null!=e;return o._logger.debug(o._logTag,"Resolving ad.isInAd: "+n),n},r["ad.isInAdBreak"]=function(){var e=n(),t=null!=e;return o._logger.debug(o._logTag,"Resolving ad.isInAdBreak: "+t),t},r["ad.id"]=function(){var e=t(),n=e?e.id:null;return o._logger.debug(o._logTag,"Resolving ad.id: "+n),n},r["ad.name"]=function(){var e=t(),n=e?e.name:null;return o._logger.debug(o._logTag,"Resolving ad.name: "+n),n},r["ad.length"]=function(){var e=t(),n=e?e.length:NaN;return o._logger.debug(o._logTag,"Resolving ad.length: "+n),n},r["ad.position"]=function(){var e=t(),n=e?e.position:NaN;return o._logger.debug(o._logTag,"Resolving ad.position: "+n),n},r["chapter.isInChapter"]=function(){var e=i(),t=null!=e;return o._logger.debug(o._logTag,"Resolving chapter.isInChapter: "+t),t},r["chapter.name"]=function(){var e=i(),t=e?e.name:null;return o._logger.debug(o._logTag,"Resolving chapter.name: "+t),t},r["chapter.length"]=function(){var e=i(),t=e?e.length:NaN;return o._logger.debug(o._logTag,"Resolving chapter.length: "+t),t},r["chapter.position"]=function(){var e=i(),t=e?e.position:NaN;return o._logger.debug(o._logTag,"Resolving chapter.position: "+t),t},r["chapter.startTime"]=function(){var e=i(),t=e?e.startTime:NaN;return o._logger.debug(o._logTag,"Resolving chapter.startTime: "+t),t},r["qos.bitrate"]=function(){var e=a(),t=e?e.bitrate:NaN;return o._logger.debug(o._logTag,"Resolving qos.bitrate: "+t),t},r["qos.fps"]=function(){var e=a(),t=e?e.fps:NaN;return o._logger.debug(o._logTag,"Resolving qos.fps: "+t),t},r["qos.droppedFrames"]=function(){var e=a(),t=e?e.droppedFrames:NaN;return o._logger.debug(o._logTag,"Resolving qos.droppedFrames: "+t),t},r["qos.startupTime"]=function(){var e=a(),t=e?1e3*e.startupTime:NaN;return o._logger.debug(o._logTag,"Resolving qos.startupTime: "+t),t},this._dataResolver=function(e){if(!e||0==e.length)return null;s={};for(var t=null,n=0;n<e.length;n++){var i=e[n];t=t||{},t[i]=r.hasOwnProperty(i)?r[i].call(this):null}return t}},n.prototype._trackPlayheadStall=function(){this._canProcess()&&(this._playheadStalled||(this._logger.info(this._logTag,"#_trackPlayheadStall()"),this._stalledPlayheadCount=0,this._playheadStalled=!0,this._trigger(h)))},n.prototype._trackExitStall=function(){this._canProcess()&&(this._stalledPlayheadCount=0,this._playheadStalled&&(this._logger.info(this._logTag,"#_trackExitStall()"),this._playheadStalled=!1,this.trackPlay()))},n.prototype._startPlayheadTimer=function(){var e=this;this._playheadTimer||(this._playheadTimer=setInterval(function(){if(e._canProcess()){var t=e._dataResolver(["ad.isInAd","video.playhead"]);if(t.hasOwnProperty("ad.isInAd")&&t["ad.isInAd"])e._playheadStalled&&e._trackExitStall();else{var n=t["video.playhead"];n!=e._previousPlayhead?e._trackExitStall():e._previousPlayhead>=0&&n==e._previousPlayhead&&(e._stalledPlayheadCount++,e._stalledPlayheadCount==D&&e._trackPlayheadStall()),e._previousPlayhead=n}}},b))},n.prototype._stopPlayheadTimer=function(){this._playheadTimer&&(clearInterval(this._playheadTimer),this._playheadTimer=null),this._stalledPlayheadCount=0},n.prototype._startSessionIfNeeded=function(e){return this._isTrackingSessionActive?(this._isTrackingSessionStarted||(this._logger.info(this._logTag,"#"+e+"() > Tracking session auto-start."),this.trackSessionStart()),!0):(this._logger.warn(this._logTag,"#"+e+"() > No active tracking session."),!1)};var r="player",s="sourceErrorExternal",o="sourceErrorSDK",l="video_load",c="video_unload",d="video_start",u="video_complete",_="timed_metadata",p="play",h="pause",g="ad_start",f="ad_complete",E="buffer_start",T="buffer_complete",m="seek_start",A="seek_complete",v="chapter_start",I="chapter_complete",S="bitrate_change",y="track_error",P="callback",C="source",R="error_id",b=1001,D=2;t.VideoPlayerPlugin=n}(e.ADB.core,t),e.ADB.va.plugins.videoplayer||(e.ADB.va.plugins.videoplayer=t)}(this),!function(e){if("undefined"==typeof t)var t={};t.clock||(t.clock={}),t.context||(t.context={}),t.filter||(t.filter={}),t.model||(t.model={}),t.network||(t.network={}),function(e,t){"use strict";function n(e,t,n,i,a){if(!t)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=t,!e)throw new Error("Reference to the pluginManager object cannot be NULL");if(this._pluginManager=e,!a)throw new Error("Reference to the logger object cannot be NULL");this._logTag="ah::Timer."+n,this._logger=a,this._isDestroyed=!1,this._createTimer(n,i),this._installHandlers()}var i=e.Event;n.KEY_NAME="name",n.KEY_INTERVAL="interval",n.KEY_RESET="reset",n.prototype.resume=function(e){this._logger.debug(this._logTag,"Starting timer: "+this._name);var t={};t[n.KEY_NAME]=a+"."+this._name,t[n.KEY_RESET]=e,this._pluginManager.command(r,l,t)},n.prototype.pause=function(e){this._logger.debug(this._logTag,"Stopping timer: "+this._name);var t={};t[n.KEY_NAME]=a+"."+this._name,t[n.KEY_RESET]=e,this._pluginManager.command(r,o,t)},n.prototype.destroy=function(){if(!this._isDestroyed){this._isDestroyed=!0,this._uninstallHandlers();var e={};e[n.KEY_NAME]=a+"."+this._name,this._pluginManager.command(r,c,e)}},n.prototype.setInterval=function(e){var t=d+"."+a+"."+this._name,n=this._pluginManager.request(r,[t])[t];this.pause(!0),this._createTimer(this._name,e),n||this.resume(!0)},n.prototype._cmdResume=function(e){var t=!1;null!=e&&e.hasOwnProperty(n.KEY_RESET)&&(t=e[n.KEY_RESET]),this.resume(t)},n.prototype._cmdPause=function(e){var t=!1;null!=e&&e.hasOwnProperty(n.KEY_RESET)&&(t=e[n.KEY_RESET]),this.pause(t)},n.prototype._onTick=function(e,t){this._channel.trigger(new i("clock:"+this._name+".tick",t))},n.prototype._installHandlers=function(){this._channel.comply("clock:"+this._name+".resume",this._cmdResume,this),this._channel.comply("clock:"+this._name+".pause",this._cmdPause,this),this._pluginManager.on(r,a+"."+this._name+".tick",this._onTick,this)},n.prototype._uninstallHandlers=function(){this._channel.off(null,null,this),this._pluginManager.off(null,null,null,this)},n.prototype._createTimer=function(e,t){this._name=e,this._interval=t;var i={};i[n.KEY_NAME]=a+"."+this._name,i[n.KEY_INTERVAL]=this._interval,this._pluginManager.command(r,s,i)};var a="heartbeat",r="service.clock",s="create",o="pause",l="resume",c="destroy",d="is_paused";t.clock.Timer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,i){n.__super__.constructor.call(this,e,t,r,o,i)}var i=e.Event,a=t.clock.Timer;e.extend(n,a),n.prototype._onCheckStatusComplete=function(e){var t=e.data[u];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+t+")"),t){if(t==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");t>s?(this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Interval value too large: "+t),this.setInterval(s)):(this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+t),this.setInterval(t))}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(o)},n.prototype._getSettings=function(e){this._logger.debug(this._logTag,"#_getSettings()"),this._channel.trigger(new i(l))},n.prototype._installHandlers=function(){n.__super__._installHandlers.call(this),this._channel.on(c,this._getSettings,this),this._channel.on(d,this._onCheckStatusComplete,this),this._channel.reply(u,function(){return this._interval},this)};var r="check_status",s=600,o=60,l="clock:check_status.tick",c="clock:check_status.get_settings",d="net:check_status_complete",u="check_status_interval";t.clock.CheckStatusTimer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,i){n.__super__.constructor.call(this,e,t,a,r,i)}var i=t.clock.Timer;e.extend(n,i),n.prototype._onCheckStatusComplete=function(e){var t=e.data[s];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+t+")"),t){if(t==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+t),this.setInterval(t)}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(r)},n.prototype._installHandlers=function(){n.__super__._installHandlers.call(this),this._channel.on(o,this._onCheckStatusComplete,this),this._channel.reply(s,function(){return this._interval},this)};var a="reporting",r=10,s="reporting_interval",o="net:check_status_complete";t.clock.ReportingTimer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,i){n.__super__.constructor.call(this,e,t,a,r,i)}var i=t.clock.Timer;e.extend(n,i);var a="flush_filter",r=.25;t.clock.FlushFilterTimer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,n){if(!e)throw new Error("Reference to the pluginManager object cannot be NULL");if(!t)throw new Error("Reference to the channel object cannot be NULL");if(!n)throw new Error("Reference to the logger object cannot be NULL");this._isDestroyed=!1,this._reportingTimer=new r(e,t,n),this._checkStatusTimer=new i(e,t,n),this._flushFilterTimer=new a(e,t,n)}var i=t.clock.CheckStatusTimer,a=t.clock.FlushFilterTimer,r=t.clock.ReportingTimer;n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._reportingTimer.destroy(),this._checkStatusTimer.destroy(),this._flushFilterTimer.destroy())},t.clock.Clock=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){this.value=e,this.hint=t}function i(e){this.realm=e,this.data={}}n.HINT_SHORT="short",i.prototype.setField=function(e,t,i){this.data[e]=new n(t,i)},i.prototype._createAccessor=function(e,t,n){var i=this;return function(){return arguments.length&&(i[e]=arguments[0],i.setField(t,arguments[0],n)),i[e]}},t.model.Dao=i,t.model.DaoField=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"asset"),this.adId=this._createAccessor("_adId","ad_id",null),this.sid=this._createAccessor("_sid","ad_sid",null),this.resolver=this._createAccessor("_resolver","resolver",null),this.podId=this._createAccessor("_podId","pod_id",null),this.podPosition=this._createAccessor("_podPosition","pod_position",null),this.podOffset=this._createAccessor("_podOffset","pod_offset",null),this.podName=this._createAccessor("_podName","pod_name",null),this.adLength=this._createAccessor("_adLength","ad_length",null),this.adName=this._createAccessor("_adName","ad_name",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.adId(e.adId()),this.sid(e.sid()),this.resolver(e.resolver()),this.podId(e.podId()),this.podPosition(e.podPosition()),this.podOffset(e.podOffset()),this.podName(e.podName()),this.adLength(e.adLength()),this.adName(e.adName())}else this.adId(""),this.sid(""),this.resolver(""),this.podId(""),this.podPosition(""),this.podOffset(0),this.podName(""),this.adLength(0),this.adName("")}var i=t.model.Dao;e.extend(n,i),t.model.AdDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"sc"),this.reportSuiteId=this._createAccessor("_reportSuiteId","rsid",null),this.trackingServer=this._createAccessor("_trackingServer","tracking_server",null),this.ssl=this._createAccessor("_ssl","ssl",a.HINT_SHORT),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.reportSuiteId(e.reportSuiteId()),this.trackingServer(e.trackingServer()),this.ssl(e.ssl())}else this.reportSuiteId(""),this.trackingServer(""),this.ssl(0)}var i=t.model.Dao,a=t.model.DaoField;e.extend(n,i),t.model.AdobeAnalyticsDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"stream"),this.id=this._createAccessor("_id","chapter_id",null),this.sid=this._createAccessor("_sid","chapter_sid",null),this.name=this._createAccessor("_name","chapter_name",null),this.position=this._createAccessor("_position","chapter_pos",null),this.length=this._createAccessor("_length","chapter_length",null),this.offset=this._createAccessor("_offset","chapter_offset",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.id(e.id()),this.sid(e.sid()),this.name(e.name()),this.position(e.position()),this.length(e.length()),this.offset(e.offset())}else this.id(""),this.sid(""),this.name(""),this.position(0),this.length(0),this.offset(0)}var i=t.model.Dao;e.extend(n,i),t.model.ChapterDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"asset"),this.type=this._createAccessor("_type","type",null),this.videoId=this._createAccessor("_videoId","video_id",null),this.publisher=this._createAccessor("_publisher","publisher",null),this.adData=this._createAccessor("_adData","ad_data",null),this.chapterData=this._createAccessor("_chapterData","chapter_data",null),this.length=this._createAccessor("_length","length",null),this.name=this._createAccessor("_name","name",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.type(e.type()),this.name(e.name()),this.videoId(e.videoId()),this.publisher(e.publisher()),this.length(e.length());var t=e.adData()?new a(e.adData()):null;this.adData(t);var i=e.chapterData()?new r(e.chapterData()):null;this.chapterData(i)}else this.type(""),this.name(""),this.videoId(""),this.publisher(""),this.length(0),this.adData(null),this.chapterData(null)}var i=t.model.Dao,a=t.model.AdDao,r=t.model.ChapterDao;e.extend(n,i),n.TYPE_AD="ad",n.TYPE_MAIN_CONTENT="main",t.model.AssetDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"event"),this.type=this._createAccessor("_type","type",null),this.duration=this._createAccessor("_duration","duration",null),this.playhead=this._createAccessor("_playhead","playhead",null),this.id=this._createAccessor("_id","id",null),this.source=this._createAccessor("_source","source",null),this.ts=this._createAccessor("_ts","ts",null),this.prevTs=this._createAccessor("_prevTs","prev_ts",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.type(e.type()),this.duration(e.duration()),this.playhead(e.playhead()),this.id(e.id()),this.source(e.source()),this.ts(e.ts()),this.prevTs(e.prevTs())}else this.type(""),this.duration(0),this.playhead(0),this.id(""),this.source(""),this.ts(0),this.prevTs(-1)}var i=t.model.Dao;e.extend(n,i),n.EVENT_TYPE_AA_START="aa_start",n.EVENT_TYPE_AA_AD_START="aa_ad_start",n.EVENT_TYPE_START="start",n.EVENT_TYPE_CHAPTER_START="chapter_start",n.EVENT_TYPE_CHAPTER_COMPLETE="chapter_complete",n.EVENT_TYPE_PLAY="play",n.EVENT_TYPE_PAUSE="pause",n.EVENT_TYPE_BUFFER="buffer",n.EVENT_TYPE_BITRATE_CHANGE="bitrate_change",n.EVENT_TYPE_ERROR="error",n.EVENT_TYPE_COMPLETE="complete",t.model.EventDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"stream"),this.bitrate=this._createAccessor("_bitrate","bitrate",null),this.fps=this._createAccessor("_fps","fps",null),this.droppedFrames=this._createAccessor("_droppedFrames","dropped_frames",null),this.startupTime=this._createAccessor("_startup_time","startup_time",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.bitrate(e.bitrate()),this.fps(e.fps()),this.droppedFrames(e.droppedFrames()),this.startupTime(e.startupTime()),this.isStartupTimeOverridden=e.isStartupTimeOverridden}else this.bitrate(0),this.fps(0),this.droppedFrames(0),this.startupTime(0),this.isStartupTimeOverridden=!1}var i=t.model.Dao;e.extend(n,i),t.model.QoSDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"sp"),this.ovp=this._createAccessor("_ovp","ovp",null),this.sdk=this._createAccessor("_sdk","sdk",null),this.channel=this._createAccessor("_channel","channel",null),this.playerName=this._createAccessor("_playerName","player_name",null),this.libVersion=this._createAccessor("_libVersion","hb_version",null),this.apiLevel=this._createAccessor("_apiLevel","hb_api_lvl",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.ovp(e.ovp()),this.sdk(e.sdk()),this.channel(e.channel()),this.playerName(e.playerName()),this.libVersion(e.libVersion()),this.apiLevel(e.apiLevel())}else this.ovp(a),this.sdk(a),this.channel(a),this.playerName(""),this.libVersion(""),this.apiLevel(0)}var i=t.model.Dao;e.extend(n,i);var a="unknown";t.model.ServiceProviderDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"event"),this.sessionId=this._createAccessor("_sessionId","sid",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.sessionId(e.sessionId())}else this.sessionId(null)}var i=t.model.Dao;e.extend(n,i),t.model.SessionDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"stream"),this.type=this._createAccessor("_type","type",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.type(e.type())}else this.type(null)}var i=t.model.Dao;e.extend(n,i),t.model.StreamDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"user"),this.analyticsVisitorId=this._createAccessor("_analyticsVisitorId","aid",null),this.marketingCloudVisitorId=this._createAccessor("_marketingCloudVisitorId","mid",null),this.visitorId=this._createAccessor("_visitorId","id",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.analyticsVisitorId(e.analyticsVisitorId()),this.marketingCloudVisitorId(e.marketingCloudVisitorId()),this.visitorId(e.visitorId())}else this.analyticsVisitorId(null),this.marketingCloudVisitorId(null),this.visitorId(null)}var i=t.model.Dao;e.extend(n,i),t.model.UserDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,n,l,c){this.eventData=new a,this.eventData.type(t),this.eventData.duration(0),this.eventData.ts((new Date).getTime()),this.eventData.playhead(n),this.assetData=new r(e._assetData),this.streamData=new s(e._streamData),this.qosData=new o(e._qosData),this.cuserData=i.clone(e._cuserData),this.meta=l,this.callback=c}var i=e.ObjectUtils,a=t.model.EventDao,r=t.model.AssetDao,s=t.model.StreamDao,o=t.model.QoSDao;t.model.TrackItem=n}(e.ADB.va.utils,t),function(e,t){"use strict";function n(e,t,n,l,c){this.adobeAnalyticsData=e,this.userData=t,this.serviceProviderData=n,this.sessionData=l,this.eventData=new a(c.eventData),this.assetData=new r(c.assetData),this.streamData=new s(c.streamData),this.qosData=new o(c.qosData),this.cuserData=i.clone(c.cuserData),this.meta=i.clone(c.meta),this.callback=c.callback}var i=e.ObjectUtils,a=t.model.EventDao,r=t.model.AssetDao,s=t.model.StreamDao,o=t.model.QoSDao;t.model.CUserDao,t.model.Report=n}(e.ADB.va.utils,t),function(e){"use strict";function t(){}t.prototype.serializeReport=function(e){},t.prototype.serializeDao=function(e){},t.prototype.serializeMap=function(e){},t.prototype.serializeNumber=function(e,t,n,i){},t.prototype.serializeString=function(e,t,n,i){},e.model.ISerializer=t}(t),function(e,t){"use strict";function n(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e}var i=t.model.Dao,a=t.model.DaoField,r=t.model.ISerializer;e.extend(n,r),n.prototype.serializeReport=function(e){var t=[];return t.push(this.serializeDao(e.adobeAnalyticsData)),t.push(this.serializeDao(e.userData)),t.push(this.serializeMap(e.cuserData,"cuser")),t.push(this.serializeDao(e.serviceProviderData)),t.push(this.serializeDao(e.sessionData)),t.push(this.serializeDao(e.eventData)),t.push(this.serializeDao(e.assetData)),t.push(this.serializeDao(e.streamData)),t.push(this.serializeDao(e.qosData)),t.push(this.serializeMap(e.meta,"meta")),{serializedOutput:t.filter(function(e){return!!e}).join("&"),callback:e.callback}},n.prototype.serializeDao=function(e){var t=this._processDao(e);return t.filter(function(e){return!!e}).join("&")},n.prototype.serializeMap=function(e,t){var n=[],i=t?t:"meta";for(var a in e)e.hasOwnProperty(a)&&e[a]&&n.push("s:"+i+":"+a+"="+window.encodeURIComponent(e[a]));return n.join("&")},n.prototype.serializeNumber=function(e,t,n,i){var r=o;return null==t||isNaN(t)?null:(i===a.HINT_SHORT&&(r=l),r+":"+n+":"+e+"="+Math.floor(t))},n.prototype.serializeString=function(e,t,n,i){return t?c+":"+n+":"+e+"="+window.encodeURIComponent(t):null},n.prototype._processDao=function(e){var t=[];for(var n in e.data)if(e.data.hasOwnProperty(n)){var a=e.data[n],r=a.value,o=a.hint,l=null,c=e.realm;if(null==r)continue;"number"==typeof r?l=this.serializeNumber(n,r,c,o):"string"==typeof r?l=this.serializeString(n,r,c,o):r instanceof i?l=this.serializeDao(r):this._logger.warn(s,"#_processDao() > Unable to serialize DAO. Field: "+n+". Value: "+r+"."),l&&t.push(l)}return t};var s="ah::QuerystringSerializer",o="l",l="h",c="s";t.model.QuerystringSerializer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){if(!e)throw new Error("Reference to the data object cannot be NULL");if(this._data=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t}n.prototype.parse=function(){var e,t,n,l,c;if(window.DOMParser){var d=new window.DOMParser;c=d.parseFromString(this._data,"text/xml")}else c=new window.ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(this.data);var u;u=parseInt(c.getElementsByTagName("trackingInterval")[0].childNodes[0].nodeValue,10),u&&(e=u),u=parseInt(c.getElementsByTagName("setupCheckInterval")[0].childNodes[0].nodeValue,10),u&&(t=u),u=parseInt(c.getElementsByTagName("trackExternalErrors")[0].childNodes[0].nodeValue,10),u&&(n=1==u),c.getElementsByTagName("nielsenEnabled")[0]?(u=parseInt(c.getElementsByTagName("nielsenEnabled")[0].childNodes[0].nodeValue,10),l=1==u):l=!0;var _={};return _[a]=e,_[r]=t,_[s]=n,_[o]=l,this._logger.debug(i,"#parse() > Obtained configuration settings."),_};var i="ah::SettingsParser",a="reporting_interval",r="check_status_interval",s="track_external_errors",o="nielsen_enabled";t.network.SettingsParser=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){if(this._trackingServer=null,this._checkStatusServer=null,this._publisher=null,this._quietMode=!1,this._isConfigured=!1,this._isDestroyed=!1,!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._serializer=new l(t),this._installEventListeners()}var i=e.Event,a=e.URLRequestMethod,r=e.URLRequest,s=e.URLLoader,o=t.network.SettingsParser,l=t.model.QuerystringSerializer;n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(c,"#destroy()"),this._uninstallEventListeners())},n.prototype._onApiConfig=function(e){var t=e.data;this._logger.debug(c,"#_onApiConfig(sb_server="+t[d]+", check_status_server="+t[u]+", publisher="+t[_]+", quiet_mode="+t[p]+", ssl="+t[h]+")"),this._trackingServer=this._updateRequestProtocol(t[d],t[h]),this._checkStatusServer=this._updateRequestProtocol(t[u],t[h]),this._publisher=t[_],this._quietMode=t[p],this._isConfigured=!0},n.prototype._onFilterReportAvailable=function(e){var t=e.data;if(!this._isConfigured)return void this._logger.warn(c,"#_onFilterReportAvailable() > Unable to send request: not configured.");var n=t[g],o=this._serializer.serializeReport(n),l=this._trackingServer+"/?"+o.serializedOutput,d=new r(l,a.GET);this._logger.debug(c,"_onFilterReportAvailable() > "+d.url);var u=this,_=function(e){h.close(),o.callback&&o.callback.call(null)},p=function(e){h.close(),u._logger.warn(c,"#_onFilterReportAvailable() > Failed to send heartbeat report."),o.callback&&o.callback.call(null)};if(!this._quietMode){var h=new s;h.addEventListener(i.SUCCESS,_,this),h.addEventListener(i.ERROR,p,this),h.load(d)}},n.prototype._onClockCheckStatusTick=function(e){function t(e){if(e.data){var t=new o(e.data.response,l._logger),n=t.parse();n?l._channel.trigger(new i(m,n)):l._logger.warn(c,"#_onClockCheckStatusTick() > Failed to parse the config. settings.")}p.close()}function n(e){l._logger.warn(c,"#_onClockCheckStatusTick() > Failed to obtain the config. settings."),p.close()}if(!this._isConfigured)return void this._logger.warn(c,"#_onClockCheckStatusTick() > Unable to send request: not configured.");if(!this._publisher)return void this._logger.warn(c,"#_onClockCheckStatusTick() > Publisher is NULL.");var l=this,d=this._publisher.replace(/[^a-zA-Z0-9]+/,"-").toLocaleLowerCase(),u=this._checkStatusServer+d+".xml?r="+(new Date).getTime(),_=new r(u,a.GET),p=new s;p.addEventListener(i.SUCCESS,t,this),p.addEventListener(i.ERROR,n,this),this._logger.debug(c,"#_onClockCheckStatusTick() > Get new settings from: "+u),p.load(_)},n.prototype._updateRequestProtocol=function(e,t){var n=e;return 0===n.indexOf("http://")?n=n.slice(7):0===n.indexOf("https://")&&(n=n.slice(8)),t?"https://"+n:"http://"+n},n.prototype._installEventListeners=function(){this._channel.on(f,this._onApiConfig,this),this._channel.on(E,this._onFilterReportAvailable,this),this._channel.on(T,this._onClockCheckStatusTick,this)},n.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var c="ah::Network",d="tracking_server",u="check_status_server",_="publisher",p="quiet_mode",h="ssl",g="report",f="api:config",E="filter:data_available",T="clock:check_status.tick",m="net:check_status_complete";t.network.Network=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){if(!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._isDestroyed=!1,this._isBufferingInProgress=!1,this._reportBuffer={},this._tsHistory={},this._workQueue=new l,this._installEventListeners()}function i(e){var t=[];if(e)for(var n=0;n<e.length;n++){var i=e[n];i.eventData.type()!=d.EVENT_TYPE_PAUSE&&t.push(i)}return t}function a(e){var t=-1,n=-1,i=[];return e.forEach(function(e){e.eventData.type()==d.EVENT_TYPE_START?e.assetData.type()==u.TYPE_MAIN_CONTENT?-1==t?t=i.push(e)-1:(e.eventData.prevTs(-1),i[t]=e):-1==n?n=i.push(e)-1:(e.eventData.prevTs(-1),i[n]=e):i.push(e)}),i}function r(e){var t=[];return e.forEach(function(n){if(n.eventData.type()==d.EVENT_TYPE_PLAY){if(n.eventData.duration()>m)t.push(n);else if(0==n.eventData.duration()&&n.assetData.type()==u.TYPE_MAIN_CONTENT){var i=s(e);i.indexOf(n)==i.length-1&&t.push(n)}}else t.push(n)}),t}function s(e){var t=[];return e.forEach(function(e){(e.eventData.type()==d.EVENT_TYPE_PLAY||e.eventData.type()==d.EVENT_TYPE_BUFFER||e.eventData.type()==d.EVENT_TYPE_START)&&t.push(e)}),t}var o=e.radio.Command,l=e.radio.CommandQueue,c=e.Event,d=t.model.EventDao,u=t.model.AssetDao;n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(v,"#destroy()"),this._uninstallEventListeners(),this.clear())},n.prototype.clear=function(){this._logger.debug(v,"#clear()"),this._workQueue.cancelAllCommands(),this._reportBuffer={},this._tsHistory={},this._isBufferingInProgress=!1},n.prototype._bufferReport=function(e){if(!this._isDestroyed){var t=e[f];if(t){var n=t.sessionData.sessionId();this._reportBuffer[n]=this._reportBuffer[n]||[],this._reportBuffer[n].push(t)}if(!this._isBufferingInProgress){this._isBufferingInProgress=!0;var i={};i[g]=!0,i[E]=1,this._channel.command(T,i)}}},n.prototype._flushBufferReport=function(){function e(e){if(e)for(var n=0;n<e.length;n++){var i=e[n],a=i.sessionData.sessionId();t._tsHistory[a]=t._tsHistory[a]||{};var r=i.eventData.type()+"."+(i.assetData.type()==u.TYPE_AD?i.assetData.adData().adId():i.assetData.videoId());t._tsHistory[a].hasOwnProperty(r)&&i.eventData.prevTs(t._tsHistory[a][r]),
t._tsHistory[a][r]=i.eventData.ts()}}if(!this._isDestroyed){var t=this;for(var n in this._reportBuffer)if(this._reportBuffer.hasOwnProperty(n)){var s=r(a(i(this._reportBuffer[n])));e(s);for(var o=0;o<s.length;o++){var l=s[o],d={};d[f]=l,this._channel.trigger(new c(p,d))}}this._reportBuffer={};var _=this._channel.request(A),h=this._tsHistory[_]||{};this._tsHistory={},this._tsHistory[_]=h,this._isBufferingInProgress=!1}},n.prototype._onContextReportAvailable=function(e){var t=e.data;this._workQueue.addCommand(new o(this._bufferReport,this,[t]))},n.prototype._onClockFlushFilterTick=function(e){this._workQueue.addCommand(new o(this._flushBufferReport,this))},n.prototype._installEventListeners=function(){this._channel.on(_,this._onContextReportAvailable,this),this._channel.on(h,this._onClockFlushFilterTick,this)},n.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var _="context:report_available",p="filter:data_available",h="clock:flush_filter.tick",g="reset",f="report",E="repeat_count",T="clock:flush_filter.resume",m=250,A="session_id",v="ah::ReportFilter";t.filter.ReportFilter=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){this._onFail={fn:e,ctx:t}}var i=e.ErrorInfo;n.prototype.validateFields=function(e,t){if(!e)return this._fail("Data cannot be null");if(t)for(var n=0;n<t.length;n++){var i=t[n];switch(i){case"videoId":if(!e.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof e.videoId)return this._fail("The ID for the main video must be a String.");if(""===e.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!e.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof e.streamType)return this._fail("The stream type for the main video must be a String.");if(""===e.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"videoLength":if(!e.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof e.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(e.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"playhead":if(!e.hasOwnProperty("playhead"))return this._fail("The playhead for the main video must be specified.");if("number"!=typeof e.playhead)return this._fail("The playhead for the main video must be a Number.");if(isNaN(e.playhead))return this._fail("The playhead for the main video cannot be NaN.");break;case"playerName":if(!e.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof e.playerName)return this._fail("The player name for the main video must be a String.");if(""===e.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"podPlayerName":if(!e.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof e.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===e.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!e.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof e.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(e.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!e.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof e.adId)return this._fail("The ad ID must be a String.");if(""===e.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!e.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof e.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(e.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"chapterPosition":if(!e.hasOwnProperty("chapterPosition"))return this._fail("Position (index) of the chapter must be specified.");if("number"!=typeof e.chapterPosition)return this._fail("Position (index) of the chapter must be a Number.");if(isNaN(e.chapterPosition))return this._fail("Position (index) of the chapter cannot be NaN.");break;case"chapterOffset":if(!e.hasOwnProperty("chapterOffset"))return this._fail("Chapter start-time (offset) must be specified.");if("number"!=typeof e.chapterOffset)return this._fail("Chapter start-time (offset) must be a Number.");if(isNaN(e.chapterOffset))return this._fail("Chapter start-time (offset) cannot be NaN.");break;case"chapterLength":if(!e.hasOwnProperty("chapterLength"))return this._fail("The length of the chapter must be specified.");if("number"!=typeof e.chapterLength)return this._fail("The length of the chapter must be a Number.");if(isNaN(e.chapterLength))return this._fail("The length of the chapter cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+i)}}return!0},n.prototype._fail=function(e){var t=new i("Invalid input data",e);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,t),!1},t.context.InputDataValidator=n}(e.ADB.va,t),function(e,t){"use strict";function n(e,t){if(!t)throw new Error("Reference to the logger object cannot be NULL");if(this._logger=t,!e)throw new Error("Reference to the context object cannot be NULL");this._context=e}var i=t.model.Report;n.prototype.createReportForItem=function(e){return this._logger.debug(a,"Creating report for item: "+e.eventData.type()),new i(this._context._adobeAnalyticsData,this._context._userData,this._context._serviceProviderData,this._context._sessionData,e)};var a="ah::ReportFactory";t.context.ReportFactory=n}(e.ADB.core,t),function(e,t,n,i){"use strict";function a(e,t){if(!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._lastInBandItem=null,this._autoComputedStartupTime=0,this._reportingInterval=te,this._assetData=null,this._streamData=null,this._qosData=null,this._sessionData=null,this._cuserData=null,this._adobeAnalyticsData=new c,this._serviceProviderData=new d,this._userData=new u,this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._activeAssetId=null,this._isDestroyed=!1,this._doNotOverrideEventDuration=!1,this._reportFactory=new m(this,this._logger),this._inputDataValidator=new A(function(e){this._logger.error(v,e.getMessage()+" | "+e.getDetails()),this._channel.trigger(new o(S,e))},this),this._stashedChapterData=null,this._stashedAdData=null,this._trackExternalErrors=!0,this._installEventListeners()}var r=n.md5,s=n.ObjectUtils,o=e.Event,l=i.model.SessionDao,c=i.model.AdobeAnalyticsDao,d=i.model.ServiceProviderDao,u=i.model.UserDao,_=i.model.EventDao,p=i.model.AssetDao,h=i.model.StreamDao,g=i.model.QoSDao,f=i.model.AdDao,E=i.model.ChapterDao,T=i.model.TrackItem,m=i.context.ReportFactory,A=i.context.InputDataValidator;a.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(v,"#destroy()"),this._uninstallEventListeners())},a.prototype._onApiAnalyticsStart=function(e){this._logger.debug(v,"#_onApiAnalyticsStart()");var t=e.data;if(this._checkCall("_onApiAnalyticsStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._userData.visitorId(t.vid),this._userData.analyticsVisitorId(t.aid),this._userData.marketingCloudVisitorId(t.mid),t.customerIDs&&(this._cuserData=t.customerIDs),this._updateQoSInfo(t);var n=new T(this,_.EVENT_TYPE_AA_START,t.playhead,null,t._eventData[b]);n.assetData.adData(null),n.assetData.type(p.TYPE_MAIN_CONTENT),this._cuserData=null,this._sendHit(n)}},a.prototype._onApiAnalyticsAdStart=function(e){this._logger.debug(v,"#_onApiAnalyticsAdStart()");var t=e.data;if(this._checkCall("_onApiAnalyticsAdStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new T(this,_.EVENT_TYPE_AA_AD_START,t.playhead,null,t._eventData[b]);this._sendHit(n)}},a.prototype._onApiVideoLoad=function(e){this._logger.debug(v,"#_onApiVideoLoad()"),this._resetInternalState(),this._sessionData.sessionId(this._generateSessionId()),this._isTrackingSessionActive=!0},a.prototype._onApiVideoUnload=function(e){return this._logger.debug(v,"#_onApiVideoUnload()"),this._isTrackingSessionActive?void(this._isTrackingSessionActive=!1):void this._logger.debug(v,"#_onApiVideoUnload() > No active tracking session.")},a.prototype._onApiVideoStart=function(e){var t=e.data;if(this._logger.debug(v,"#_onApiVideoStart(id="+t.videoId+", name="+t.videoName+", length="+t.videoLength+", type="+t.streamType+", playerName="+t.playerName+")"),this._checkCall("_onApiVideoStart")&&this._inputDataValidator.validateFields(t,["videoId","streamType","videoLength","playhead","playerName"])){this._adobeAnalyticsData.reportSuiteId(t.rsid),this._adobeAnalyticsData.trackingServer(t.trackingServer),this._adobeAnalyticsData.ssl(Number(t.useSsl)),this._serviceProviderData.ovp(t.ovp),this._serviceProviderData.sdk(t.sdk),this._serviceProviderData.channel(t.channel),this._serviceProviderData.libVersion(t.version),this._serviceProviderData.apiLevel(t.apiLvl),this._activeAssetId=t.videoId,this._serviceProviderData.playerName(t.playerName),this._assetData.videoId(this._activeAssetId),this._assetData.length(t.videoLength),this._assetData.type(p.TYPE_MAIN_CONTENT),this._assetData.publisher(t.publisher),this._assetData.name(t.videoName),this._streamData.type(t.streamType),this._updateQoSInfo(t);var n=t.metaNielsen?s.merge(t.metaVideo,t.metaNielsen):t.metaVideo,i=new T(this,_.EVENT_TYPE_START,t.playhead,n,t._eventData[b]);this._sendHit(i)}},a.prototype._onApiVideoComplete=function(e){this._logger.debug(v,"#_onApiVideoComplete()");var t=e.data;if(this._checkCall("_onApiVideoComplete")){var n=new T(this,_.EVENT_TYPE_COMPLETE,this._assetData.length(),null,t._eventData[b]);this._sendHit(n),this._isVideoComplete=!0}},a.prototype._onApiPlay=function(e){this._logger.debug(v,"#_onApiPlay()");var t=e.data;if(this._checkCall("_onApiPlay")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new T(this,_.EVENT_TYPE_PLAY,t.playhead,null,t._eventData[b]);this._sendHit(n)}},a.prototype._onApiPause=function(e){this._logger.debug(v,"#_onApiPause()");var t=e.data;if(this._checkCall("_onApiPause")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new T(this,_.EVENT_TYPE_PAUSE,t.playhead,null,t._eventData[b]);this._sendHit(n)}},a.prototype._onApiBufferStart=function(e){this._logger.debug(v,"#_onApiBufferStart()");var t=e.data;if(this._checkCall("_onApiBufferStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new T(this,_.EVENT_TYPE_BUFFER,t.playhead,null,t._eventData[b]);this._sendHit(n)}},a.prototype._onApiSeekStart=function(e){this._logger.debug(v,"#_onApiSeekStart()"),this._checkCall("_onApiSeekStart")&&(this._stashedAdData=this._assetData.adData(),this._stashedChapterData=this._assetData.chapterData(),this._assetData.adData(null),this._assetData.type(p.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId(),this._assetData.chapterData(null))},a.prototype._onApiSeekComplete=function(e){this._logger.debug(v,"#_onApiSeekComplete()");var t=e.data;if(this._checkCall("_onApiSeekComplete")&&this._inputDataValidator.validateFields(t,["playhead"])){if(t.isInAd){if(!this._inputDataValidator.validateFields(t,["adId","adPosition","podPosition","podPlayerName"]))return;var n=r(this._assetData.videoId())+"_"+t.podPosition;if(this._stashedAdData&&this._stashedAdData.podId()==n&&parseInt(this._stashedAdData.podPosition(),10)==t.adPosition)this._assetData.adData(this._stashedAdData),this._activeAssetId=this._stashedAdData.adId();else if(!this._assetData.adData()){this._activeAssetId=t.adId;var i=new f;i.adId(this._activeAssetId),i.adName(t.adName),i.adLength(t.adLength),i.podId(n),i.resolver(t.podPlayerName),i.podPosition(t.podPosition+""),i.podName(t.podName),i.podOffset(t.podSecond),i.sid(this._generateSessionId()),this._assetData.adData(i)}this._assetData.type(p.TYPE_AD)}else this._assetData.adData(null),this._assetData.type(p.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId();if(t.isInChapter){if(!this._inputDataValidator.validateFields(t,["chapterPosition","chapterLength","chapterOffset"]))return;if(this._stashedChapterData&&t.chapterPosition==this._stashedChapterData.position())this._assetData.chapterData(this._stashedChapterData);else if(!this._assetData.chapterData()){var a=new E;a.id(r(this._assetData.videoId())+"_"+t.chapterPosition),a.name(t.chapterName),a.length(t.chapterLength),a.position(t.chapterPosition),a.offset(t.chapterOffset),a.sid(this._generateSessionId()),this._assetData.chapterData(a)}}else this._assetData.chapterData(null);this._stashedAdData=null,this._stashedChapterData=null}},a.prototype._onApiAdStart=function(e){var t=e.data;if(this._logger.debug(v,"#_onApiAdStart(id="+t.adId+", player_name="+t.podPlayerName+", parent_name="+this._assetData.videoId()+", pod_pos="+t.adPosition+")"),this._checkCall("_onApiAdStart")&&this._inputDataValidator.validateFields(t,["playhead","podPosition","podPlayerName","adId","adPosition"])){this._activeAssetId=t.adId;var n=new f;n.adId(this._activeAssetId),n.adName(t.adName),n.adLength(t.adLength),n.resolver(t.podPlayerName),n.podId(r(this._assetData.videoId())+"_"+t.podPosition),n.podPosition(t.adPosition+""),n.podName(t.podName),n.podOffset(t.podSecond),n.sid(this._generateSessionId()),this._assetData.adData(n),this._assetData.type(p.TYPE_AD),this._updateQoSInfo(t);var i=s.merge(t.metaVideo,t.metaAd);i=t.metaNielsen?s.merge(i,t.metaNielsen):i;var a=new T(this,_.EVENT_TYPE_START,t.playhead,i,t._eventData[b]);this._sendHit(a)}},a.prototype._onApiAdComplete=function(e){this._logger.debug(v,"#_onApiAdComplete()");var t=e.data;if(this._checkCall("_onApiAdComplete")&&this._inputDataValidator.validateFields(t,["playhead"])){if(this._assetData.type()!=p.TYPE_AD)return void this._logger.warn(v,"#_onApiAdComplete() > Ignoring the ad complete event, because we are no longer in an ad.");this._updateQoSInfo(t);var n=new T(this,_.EVENT_TYPE_COMPLETE,t.playhead,null,t._eventData[b]);this._sendHit(n),this._assetData.adData(null),this._assetData.type(p.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId()}},a.prototype._onApiChapterStart=function(e){var t=e.data;if(this._logger.debug(v,"#_onApiChapterStart(name="+t.chapterName+", length="+t.chapterLength+", position="+t.chapterPosition+", chapter_offset="+t.chapterOffset+")"),this._checkCall("_onApiChapterStart")&&this._inputDataValidator.validateFields(t,["playhead","chapterPosition","chapterOffset","chapterLength"])){var n=new E;n.id(r(this._assetData.videoId())+"_"+t.chapterPosition),n.name(t.chapterName),n.length(t.chapterLength),n.position(t.chapterPosition),n.offset(t.chapterOffset),n.sid(this._generateSessionId()),this._assetData.chapterData(n),this._updateQoSInfo(t);var i=s.merge(t.metaVideo,t.metaAd);i=t.metaNielsen?s.merge(i,t.metaNielsen):i;var a=new T(this,_.EVENT_TYPE_CHAPTER_START,t.playhead,i,t._eventData[b]);a.assetData.adData(null),a.assetData.type(p.TYPE_MAIN_CONTENT),this._sendHit(a)}},a.prototype._onApiChapterComplete=function(e){this._logger.debug(v,"#_onApiChapterComplete()");var t=e.data;if(this._checkCall("_onApiChapterComplete")&&this._inputDataValidator.validateFields(t,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(v,"#_onApiChapterComplete() > Ignoring the chapter complete event, because we are no longer in a chapter.");this._updateQoSInfo(t);var n=new T(this,_.EVENT_TYPE_CHAPTER_COMPLETE,t.playhead,null,t._eventData[b]);n.assetData.adData(null),n.assetData.type(p.TYPE_MAIN_CONTENT),this._sendHit(n),this._assetData.chapterData(null)}},a.prototype._onApiBitrateChange=function(e){this._logger.debug(v,"#_onApiBitrateChange()");var t=e.data;if(this._checkCall("_onApiBitrateChange")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new T(this,_.EVENT_TYPE_BITRATE_CHANGE,t.playhead,null,t._eventData[b]);this._sendHit(n)}},a.prototype._onApiTrackError=function(e){var t=e.data;if(this._logger.debug(v,"#_onApiTrackError(source="+t._eventData.source+", err_id="+t._eventData.error_id+")"),!this._isTrackingSessionActive)return void this._logger.warn(v,"#_onApiTrackError() > No active tracking session.");if(this._trackExternalErrors||t._eventData.source===I){this._updateQoSInfo(t);var n=new T(this,_.EVENT_TYPE_ERROR,0,null,t._eventData[b]);n.eventData.id(t._eventData.error_id),n.eventData.source(t._eventData.source),this._sendHit(n)}},a.prototype._onApiTrackInternalError=function(e){this._logger.debug(v,"#_onApiTrackInternalError(source="+t.source+", err_id="+t.error_id+")");var t=e.data;this._updateQoSInfo(t);var n=new T(this,_.EVENT_TYPE_ERROR,0);n.eventData.id(t.error_id),n.eventData.source(t.source),this._sendHit(n)},a.prototype._onApiQuantumEnd=function(e){this._logger.debug(v,"#_onApiQuantumEnd(interval="+this._channel.request(C)+")");var t=e.data;this._checkCall("_onApiQuantumEnd")&&this._inputDataValidator.validateFields(t,["playhead"])&&(this._lastInBandItem.eventData.playhead(t.playhead),this._updateQoSInfo(t),this._lastInBandItem.qosData.bitrate(this._qosData.bitrate()),this._lastInBandItem.qosData.fps(this._qosData.fps()),this._lastInBandItem.qosData.droppedFrames(this._qosData.droppedFrames()),this._lastInBandItem.qosData.startupTime(this._qosData.startupTime()),this._sendHit(this._lastInBandItem))},a.prototype._onNetworkCheckStatusComplete=function(e){var t=e.data;this._trackExternalErrors=t[O],this._reportingInterval=t[L],this._reportingInterval||(this._reportingInterval=te),this._logger.debug(v,"#_onNetworkCheckStatusComplete(track_ext_err="+this._trackExternalErrors+")")},a.prototype._installEventListeners=function(){this._channel.on(k,this._onApiAnalyticsStart,this),this._channel.on(M,this._onApiAnalyticsAdStart,this),this._channel.on(w,this._onApiVideoLoad,this),this._channel.on(V,this._onApiVideoUnload,this),this._channel.on(U,this._onApiVideoStart,this),this._channel.on(x,this._onApiVideoComplete,this),this._channel.on(F,this._onApiAdStart,this),this._channel.on(B,this._onApiAdComplete,this),this._channel.on(Y,this._onApiPlay,this),this._channel.on(H,this._onApiPause,this),this._channel.on(G,this._onApiBufferStart,this),this._channel.on(K,this._onApiSeekStart,this),this._channel.on(W,this._onApiSeekComplete,this),this._channel.on(j,this._onApiChapterStart,this),this._channel.on(q,this._onApiChapterComplete,this),this._channel.on(z,this._onApiBitrateChange,this),this._channel.on(X,this._onApiTrackError,this),this._channel.on(Q,this._onApiTrackInternalError,this),this._channel.on(J,this._onApiQuantumEnd,this),this._channel.on($,this._onNetworkCheckStatusComplete,this),this._channel.reply(R,function(){return this._sessionData&&this._sessionData.sessionId()?this._sessionData.sessionId():null},this)},a.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},a.prototype._resetInternalState=function(){this._logger.debug(v,"#_resetInternalState()"),this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._autoComputedStartupTime=0,this._streamData=new h,this._qosData=new g,this._sessionData=new l,this._assetData=new p,this._cuserData=null,this._stashedAdData=null,this._stashedChapterData=null,this._lastInBandItem=null},a.prototype._generateSessionId=function(){return""+(new Date).getTime()+Math.floor(1e9*Math.random())},a.prototype._updateQoSInfo=function(e){this._qosData.bitrate(e.bitrate||0),this._qosData.fps(e.fps||0),this._qosData.droppedFrames(e.droppedFrames||0),null==e.startupTime||isNaN(e.startupTime)?(this._qosData.startupTime(this._autoComputedStartupTime),this._qosData.isStartupTimeOverridden=!1):(this._qosData.startupTime(e.startupTime),this._qosData.isStartupTimeOverridden=!0)},a.prototype._checkCall=function(e){return this._isTrackingSessionActive?this._isVideoComplete?(this._logger.warn(v,"#"+e+"() > The video content already completed."),!1):!0:(this._logger.warn(v,"#"+e+"() > No active tracking session."),!1)},a.prototype._updateLastInBandItem=function(e){var t=(new Date).getTime(),n=1e3*Math.abs(e.eventData.playhead()-this._lastInBandItem.eventData.playhead()),i=Math.abs(t-this._lastInBandItem.eventData.ts());this._lastInBandItem.eventData.type()!=_.EVENT_TYPE_PAUSE?(i*ee>=n||this._doNotOverrideEventDuration)&&i<=this._reportingInterval*ee*1e3?this._lastInBandItem.eventData.duration(t-this._lastInBandItem.eventData.ts()):(this._logger.warn(v,"[WARNING] Resetting duration in lastInBandItem to 0. playheadDelta:"+n+" tsDelta:"+i+" event type:"+this._lastInBandItem.eventData.type()),this._lastInBandItem.eventData.duration(0)):this._lastInBandItem.eventData.duration(t-this._lastInBandItem.eventData.ts()),this._doNotOverrideEventDuration&&(this._doNotOverrideEventDuration=!1),this._lastInBandItem.eventData.ts(t),this._lastInBandItem.eventData.playhead(e.eventData.playhead()),this._lastInBandItem.qosData.startupTime(e.qosData.startupTime()),this._lastInBandItem.qosData.isStartupTimeOverridden=e.qosData.isStartupTimeOverridden},a.prototype._sendHit=function(e){function t(e){var t=n._reportFactory.createReportForItem(e);t.qosData.isStartupTimeOverridden||t.qosData.startupTime(n._autoComputedStartupTime);var a={};a[D]=t,n._channel.trigger(new o(Z,a)),(t.eventData.type()==_.EVENT_TYPE_PLAY||t.eventData.type()==_.EVENT_TYPE_BUFFER||t.eventData.type()==_.EVENT_TYPE_START)&&(i={},i[N]=!0,n._channel.command(y,i))}var n=this,i={};switch(e.eventData.type()){case _.EVENT_TYPE_START:case _.EVENT_TYPE_PLAY:case _.EVENT_TYPE_PAUSE:case _.EVENT_TYPE_BUFFER:this._lastInBandItem&&(this._updateLastInBandItem(e),this._lastInBandItem.eventData.type()==_.EVENT_TYPE_START&&this._lastInBandItem.assetData.type()==p.TYPE_MAIN_CONTENT&&(this._autoComputedStartupTime+=this._lastInBandItem.eventData.duration()),e!=this._lastInBandItem&&t(this._lastInBandItem)),t(e),this._lastInBandItem=e,i={},i[N]=!0,this._channel.command(y,i);break;case _.EVENT_TYPE_COMPLETE:this._lastInBandItem&&(e.assetData.type()==p.TYPE_AD&&(this._doNotOverrideEventDuration=!0),this._updateLastInBandItem(e),t(this._lastInBandItem)),t(e),e.assetData.type()==p.TYPE_MAIN_CONTENT?(this._lastInBandItem=null,i={},i[N]=!0,this._channel.command(P,i)):e.assetData.type()==p.TYPE_AD&&(this._lastInBandItem.assetData.adData(null),this._lastInBandItem.assetData.type(p.TYPE_MAIN_CONTENT),this._doNotOverrideEventDuration=!0);break;case _.EVENT_TYPE_CHAPTER_START:case _.EVENT_TYPE_CHAPTER_COMPLETE:this._lastInBandItem&&(this._updateLastInBandItem(e),t(this._lastInBandItem)),t(e),this._lastInBandItem&&(this._lastInBandItem.assetData.chapterData(e.eventData.type()==_.EVENT_TYPE_CHAPTER_START?new E(e.assetData.chapterData()):null),this._lastInBandItem.eventData.duration(0),t(this._lastInBandItem));break;default:t(e)}};var v="ah::Context",I="sourceErrorSDK",S="error",y="clock:reporting.resume",P="clock:reporting.pause",C="reporting_interval",R="session_id",b="callback",D="report",N="reset",O="track_external_errors",L="reporting_interval",k="api:aa_start",M="api:aa_ad_start",w="api:video_load",V="api:video_unload",U="api:video_start",x="api:video_complete",F="api:ad_start",B="api:ad_complete",Y="api:play",H="api:pause",G="api:buffer_start",K="api:seek_start",W="api:seek_complete",j="api:chapter_start",q="api:chapter_complete",X="api:track_error",Q="api:track_internal_error",z="api:bitrate_change",J="api:quantum_end",Z="context:report_available",$="net:check_status_complete",ee=1.5,te=10;i.context.Context=a}(e.ADB.core,e.ADB.va,e.ADB.va.utils,t),function(e){"use strict";function t(e,t){this.trackingServer=e,this.publisher=t,this.ssl=!1,this.ovp=n,this.sdk=n,this.quietMode=!1,this.debugLogging=!1,this.__isPrimetime=!1,this.__psdkVersion=null}var n="unknown";e.AdobeHeartbeatPluginConfig=t}(t),function(e){"use strict";function t(){}t.prototype.onError=function(e){},e.AdobeHeartbeatPluginDelegate=t}(t),function(e,t,n){"use strict";function i(e){i.__super__.constructor.call(this,f),this._radio=new l(this._logger),this._channel=this._radio.channel(I),this._delegate=e,this._context=new u(this._channel,this._logger),this._filter=new _(this._channel,this._logger),this._network=new p(this._channel,this._logger),this._setupDataResolver()}var a=e.Event,r=e.Trigger,s=e.plugin.BasePlugin,o=e.plugin.ParamMapping,l=e.radio.Radio,c=t.ErrorInfo,d=t.Version,u=n.context.Context,_=n.filter.ReportFilter,p=n.network.Network,h=n.clock.Clock,g=n.AdobeHeartbeatPluginConfig;e.extend(i,s),i.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof g))throw new Error("Expected config data to be instance of AdobeHeartbeatPluginConfig.");this._config=e,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.trackingServer+", publisher="+this._config.publisher+", quietMode="+this._config.quietMode+", ssl="+this._config.ssl+"})");var t=this._config.trackingServer+"/settings/",n={};n[q]=this._config.trackingServer,n[X]=t,n[Q]=this._config.publisher,n[z]=this._config.quietMode,n[J]=this._config.ssl,this._channel.trigger(new a(ee,n)),this._isConfigured=!0},i.prototype.bootstrap=function(e){i.__super__.bootstrap.call(this,e),this._channel.on(S,this._onError,this),this._clock=new h(this._pluginManager,this._channel,this._logger),this._channel.command(me),this._channel.trigger(new a(ve)),this._registerCommands(),this._registerBehaviours()},i.prototype._teardown=function(){this._logger.debug(this._logTag,"#_teardown()"),this._radio.shutdown(),this._context.destroy(),this._clock.destroy(),this._filter.destroy(),this._network.destroy()},i.prototype._canProcess=function(){return this._isConfigured?this._errorInfo?(this._logger.error(this._logTag,"_canProcess() > Plugin in ERROR state."),!1):i.__super__._canProcess.call(this):(this._logger.error(this._logTag,"_canProcess() > Plugin not configured."),!1)},i.prototype._cmdAnalyticsError=function(e){this._errorInfo||(this._errorInfo=new c("Internal error","AdobeAnalyticsPlugin is in ERROR state."),this._trigger(S,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},i.prototype._cmdAnalyticsStart=function(e){this._canProcess()&&this._channel.trigger(new a(Z,e))},i.prototype._cmdAnalyticsAdStart=function(e){this._canProcess()&&this._channel.trigger(new a($,e))},i.prototype._cmdVideoLoad=function(e){this._errorInfo=null,this._canProcess()&&(this._isTrackingSessionActive&&this._channel.trigger(new a(ne,e)),this._isTrackingSessionActive=!1,this._isPaused=!0,this._isSeeking=!1,this._isBuffering=!1,this._filter.clear(),this._channel.trigger(new a(te,e)),this._isTrackingSessionActive=!0)},i.prototype._cmdVideoUnload=function(e){this._errorInfo=null,this._canProcess()&&(this._channel.trigger(new a(ne,e)),this._isTrackingSessionActive=!1)},i.prototype._cmdVideoStart=function(e){this._canProcess()&&this._channel.trigger(new a(ie,e))},i.prototype._cmdVideoComplete=function(e){this._canProcess()&&this._channel.trigger(new a(ae,e))},i.prototype._cmdPlay=function(e){this._canProcess()&&(this._isPaused=!1,this._resumePlaybackIfPossible(e))},i.prototype._cmdPause=function(e){this._canProcess()&&(this._channel.trigger(new a(le,e)),this._isPaused=!0)},i.prototype._cmdAdStart=function(e){this._canProcess()&&(this._channel.trigger(new a(re,e)),this._resumePlaybackIfPossible(e))},i.prototype._cmdAdComplete=function(e){this._canProcess()&&(this._channel.trigger(new a(se,e)),e.isInAdBreak||this._resumePlaybackIfPossible(e))},i.prototype._cmdBufferStart=function(e){this._canProcess()&&(this._channel.trigger(new a(ce,e)),this._isBuffering=!0)},i.prototype._cmdBufferComplete=function(e){this._canProcess()&&(this._isBuffering=!1,this._resumePlaybackIfPossible(e))},i.prototype._cmdSeekStart=function(e){this._canProcess()&&(this._channel.trigger(new a(de,e)),this._channel.trigger(new a(le,e)),this._isSeeking=!0)},i.prototype._cmdSeekComplete=function(e){this._canProcess()&&(this._channel.trigger(new a(ue,e)),this._isSeeking=!1,this._resumePlaybackIfPossible(e))},i.prototype._cmdChapterStart=function(e){this._canProcess()&&this._channel.trigger(new a(_e,e))},i.prototype._cmdChapterComplete=function(e){this._canProcess()&&this._channel.trigger(new a(pe,e))},i.prototype._cmdBitrateChange=function(e){this._canProcess()&&this._channel.trigger(new a(fe,e))},i.prototype._cmdTrackError=function(e){this._canProcess()&&this._channel.trigger(new a(he,e))},i.prototype._cmdClockReportingTick=function(e){this._canProcess()&&this._channel.trigger(new a(Ee,e))},i.prototype._onError=function(e){this._errorInfo=e.data;var t={};t[W]=Te,t[j]=this._errorInfo.getMessage()+"|"+this._errorInfo.getDetails(),this._channel.trigger(new a(ge,t));var n={};n[K]=!0,this._channel.command(Ae,n),this._trigger(S,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo)},i.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleAnalyticsError",this._cmdAnalyticsError),this._pluginManager.comply(this,"handleAnalyticsStart",this._cmdAnalyticsStart),this._pluginManager.comply(this,"handleAnalyticsAdStart",this._cmdAnalyticsAdStart),this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoUnload",this._cmdVideoUnload),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleVideoComplete",this._cmdVideoComplete),this._pluginManager.comply(this,"handlePlay",this._cmdPlay),this._pluginManager.comply(this,"handlePause",this._cmdPause),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleAdComplete",this._cmdAdComplete),this._pluginManager.comply(this,"handleBufferStart",this._cmdBufferStart),this._pluginManager.comply(this,"handleBufferComplete",this._cmdBufferComplete),this._pluginManager.comply(this,"handleSeekStart",this._cmdSeekStart),this._pluginManager.comply(this,"handleSeekComplete",this._cmdSeekComplete),this._pluginManager.comply(this,"handleChapterStart",this._cmdChapterStart),this._pluginManager.comply(this,"handleChapterComplete",this._cmdChapterComplete),this._pluginManager.comply(this,"handleBitrateChange",this._cmdBitrateChange),this._pluginManager.comply(this,"handleTrackError",this._cmdTrackError),this._pluginManager.comply(this,"handleClockReportingTick",this._cmdClockReportingTick)},i.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new r(m,C),this,"handleVideoLoad"),this._pluginManager.registerBehaviour(new r(m,R),this,"handleVideoUnload"),this._pluginManager.registerBehaviour(new r(m,b),this,"handleVideoStart",[new o(m,"video.id","videoId"),new o(m,"video.name","videoName"),new o(m,"video.length","videoLength"),new o(m,"video.playhead","playhead"),new o(m,"video.playerName","playerName"),new o(m,"video.streamType","streamType"),new o(m,"qos.fps","fps"),new o(m,"qos.droppedFrames","droppedFrames"),new o(m,"qos.bitrate","bitrate"),new o(m,"qos.startupTime","startupTime"),new o(T,"rsid","rsid"),new o(T,"tracking_server","trackingServer"),new o(T,"channel","channel"),new o(T,"meta.video.*","metaVideo"),new o(T,"ssl","useSsl"),new o(A,"meta","metaNielsen"),new o(E,"publisher","publisher"),new o(E,"sdk","sdk"),new o(E,"ovp","ovp"),new o(E,"version","version"),new o(E,"api_level","apiLvl")]),this._pluginManager.registerBehaviour(new r(m,D),this,"handleVideoComplete",[new o(m,"qos.fps","fps"),new o(m,"qos.droppedFrames","droppedFrames"),new o(m,"qos.bitrate","bitrate"),new o(m,"qos.startupTime","startupTime")]),
this._pluginManager.registerBehaviour(new r(m,N),this,"handlePlay",[new o(m,"video.playhead","playhead"),new o(m,"qos.fps","fps"),new o(m,"qos.droppedFrames","droppedFrames"),new o(m,"qos.bitrate","bitrate"),new o(m,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(m,O),this,"handlePause",[new o(m,"video.playhead","playhead"),new o(m,"qos.fps","fps"),new o(m,"qos.droppedFrames","droppedFrames"),new o(m,"qos.bitrate","bitrate"),new o(m,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(m,L),this,"handleAdStart",[new o(m,"video.playhead","playhead"),new o(m,"ad.id","adId"),new o(m,"ad.name","adName"),new o(m,"ad.length","adLength"),new o(m,"ad.position","adPosition"),new o(m,"pod.name","podName"),new o(m,"pod.playerName","podPlayerName"),new o(m,"pod.position","podPosition"),new o(m,"pod.startTime","podSecond"),new o(m,"qos.fps","fps"),new o(m,"qos.droppedFrames","droppedFrames"),new o(m,"qos.bitrate","bitrate"),new o(m,"qos.startupTime","startupTime"),new o(T,"meta.video.*","metaVideo"),new o(T,"meta.ad.*","metaAd"),new o(A,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new r(m,k),this,"handleAdComplete",[new o(m,"video.playhead","playhead"),new o(m,"ad.isInAdBreak","isInAdBreak"),new o(m,"qos.fps","fps"),new o(m,"qos.droppedFrames","droppedFrames"),new o(m,"qos.bitrate","bitrate"),new o(m,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(m,M),this,"handleBufferStart",[new o(m,"video.playhead","playhead"),new o(m,"qos.fps","fps"),new o(m,"qos.droppedFrames","droppedFrames"),new o(m,"qos.bitrate","bitrate"),new o(m,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(m,w),this,"handleBufferComplete",[new o(m,"video.playhead","playhead"),new o(m,"qos.fps","fps"),new o(m,"qos.droppedFrames","droppedFrames"),new o(m,"qos.bitrate","bitrate"),new o(m,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(m,V),this,"handleSeekStart",[new o(m,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new r(m,U),this,"handleSeekComplete",[new o(m,"video.playhead","playhead"),new o(m,"ad.isInAd","isInAd"),new o(m,"ad.id","adId"),new o(m,"ad.position","adPosition"),new o(m,"pod.playerName","podPlayerName"),new o(m,"pod.position","podPosition"),new o(m,"chapter.isInChapter","isInChapter"),new o(m,"chapter.position","chapterPosition"),new o(m,"chapter.name","chapterName"),new o(m,"chapter.length","chapterLength"),new o(m,"chapter.startTime","chapterOffset"),new o(m,"qos.fps","fps"),new o(m,"qos.droppedFrames","droppedFrames"),new o(m,"qos.bitrate","bitrate"),new o(m,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(m,x),this,"handleChapterStart",[new o(m,"video.playhead","playhead"),new o(m,"chapter.position","chapterPosition"),new o(m,"chapter.name","chapterName"),new o(m,"chapter.length","chapterLength"),new o(m,"chapter.startTime","chapterOffset"),new o(m,"qos.fps","fps"),new o(m,"qos.droppedFrames","droppedFrames"),new o(m,"qos.bitrate","bitrate"),new o(m,"qos.startupTime","startupTime"),new o(T,"meta.video.*","metaVideo"),new o(T,"meta.chapter.*","metaChapter"),new o(A,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new r(m,F),this,"handleChapterComplete",[new o(m,"video.playhead","playhead"),new o(m,"qos.fps","fps"),new o(m,"qos.droppedFrames","droppedFrames"),new o(m,"qos.bitrate","bitrate"),new o(m,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(m,B),this,"handleBitrateChange",[new o(m,"video.playhead","playhead"),new o(m,"qos.fps","fps"),new o(m,"qos.droppedFrames","droppedFrames"),new o(m,"qos.bitrate","bitrate"),new o(m,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(m,Y),this,"handleTrackError"),this._pluginManager.registerBehaviour(new r(v,G),this,"handleClockReportingTick",[new o(m,"video.playhead","playhead"),new o(m,"qos.fps","fps"),new o(m,"qos.droppedFrames","droppedFrames"),new o(m,"qos.bitrate","bitrate"),new o(m,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,S),this,"handleAnalyticsError"),this._pluginManager.registerBehaviour(new r(T,y),this,"handleAnalyticsStart",[new o(T,"vid","vid"),new o(T,"aid","aid"),new o(T,"mid","mid"),new o(T,"customerIDs","customerIDs"),new o(m,"video.playhead","playhead"),new o(m,"qos.fps","fps"),new o(m,"qos.droppedFrames","droppedFrames"),new o(m,"qos.bitrate","bitrate"),new o(m,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,P),this,"handleAnalyticsAdStart",[new o(m,"video.playhead","playhead"),new o(m,"qos.fps","fps"),new o(m,"qos.droppedFrames","droppedFrames"),new o(m,"qos.bitrate","bitrate"),new o(m,"qos.startupTime","startupTime")])},i.prototype._setupDataResolver=function(){var e={},t=this;e.version=function(){return d.getVersion()},e.api_level=function(){return d.getApiLevel()},e.tracking_server=function(){return t._config?t._config.trackingServer:null},e.publisher=function(){return t._config?t._config.publisher:null},e.quiet_mode=function(){return t._config?t._config.quietMode:!1},e.ovp=function(){return t._config?t._config.ovp:null},e.sdk=function(){return t._config?t._config.sdk:null},e.is_primetime=function(){return t._config?t._config.__isPrimetime:!1},e.psdk_version=function(){return t._config?t._config.__psdkVersion:null},this._dataResolver=function(t){if(!t||0==t.length)return null;for(var n=null,i=0;i<t.length;i++){var a=t[i];n=n||{},n[a]=e.hasOwnProperty(a)?e[a].call(this):null}return n}},i.prototype._resumePlaybackIfPossible=function(e){this._errorInfo||this._isPaused||this._isSeeking||this._isBuffering||this._channel.trigger(new a(oe,e))};var f="adobe-heartbeat",E=f,T="adobe-analytics",m="player",A="nielsen",v="service.clock",I="heartbeat-channel",S="error",y="aa_start",P="sc_ad_start",C="video_load",R="video_unload",b="video_start",D="video_complete",N="play",O="pause",L="ad_start",k="ad_complete",M="buffer_start",w="buffer_complete",V="seek_start",U="seek_complete",x="chapter_start",F="chapter_complete",B="bitrate_change",Y="track_error",H="heartbeat.reporting",G=H+".tick",K="reset",W="source",j="error_id",q="tracking_server",X="check_status_server",Q="publisher",z="quiet_mode",J="ssl",Z="api:aa_start",$="api:aa_ad_start",ee="api:config",te="api:video_load",ne="api:video_unload",ie="api:video_start",ae="api:video_complete",re="api:ad_start",se="api:ad_complete",oe="api:play",le="api:pause",ce="api:buffer_start",de="api:seek_start",ue="api:seek_complete",_e="api:chapter_start",pe="api:chapter_complete",he="api:track_error",ge="api:track_internal_error",fe="api:bitrate_change",Ee="api:quantum_end",Te="sourceErrorHeartbeat",me="clock:check_status.resume",Ae="clock:reporting.pause",ve="clock:check_status.get_settings";n.AdobeHeartbeatPlugin=i}(e.ADB.core,e.ADB.va,t),e.ADB.va.plugins.ah||(e.ADB.va.plugins.ah=t)}(this),!function(e){if("undefined"==typeof t)var t={};!function(e,t){"use strict";function n(e,t){this._onFail={fn:e,ctx:t}}var i=e.ErrorInfo;n.prototype.validateFields=function(e,t){if(!e)return this._fail("Data cannot be null");if(t)for(var n=0;n<t.length;n++){var i=t[n];switch(i){case"videoId":if(!e.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof e.videoId)return this._fail("The ID for the main video must be a String.");if(""===e.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!e.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof e.streamType)return this._fail("The stream type for the main video must be a String.");if(""===e.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"playerName":if(!e.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof e.playerName)return this._fail("The player name for the main video must be a String.");if(""===e.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"videoLength":if(!e.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof e.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(e.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"podPlayerName":if(!e.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof e.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===e.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!e.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof e.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(e.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!e.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof e.adId)return this._fail("The ad ID must be a String.");if(""===e.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!e.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof e.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(e.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"adLength":if(!e.hasOwnProperty("adLength"))return this._fail("The length of the ad must be specified.");if("number"!=typeof e.adLength)return this._fail("The length of the ad must be a Number.");if(isNaN(e.adLength))return this._fail("The length of the ad cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+i)}}return!0},n.prototype._fail=function(e){var t=new i("Invalid input data",e);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,t),!1},t.InputDataValidator=n}(e.ADB.va,t),function(e){"use strict";function t(){this.channel=n,this.debugLogging=!1}var n="";e.AdobeAnalyticsPluginConfig=t}(t),function(e){"use strict";function t(){}t.prototype.onError=function(e){},e.AdobeAnalyticsPluginDelegate=t}(t),function(e,t,n,i){"use strict";function a(e,t){if(a.__super__.constructor.call(this,E),!e)throw new Error("The reference to the AppMeasurement object cannot be NULL.");this._appMeasurement=e,this._delegate=t,this._customMetaKeys=[],this._videoMetadata={},this._adMetadata={},this._chapterMetadata={},this._errorInfo=null,this._workQueue=new d(!0,I),this._inputDataValidator=new f(function(e){this._errorInfo=e,this._logger.error(this._logTag,e.getMessage()+" | "+e.getDetails()),this._trigger(S,e),this._delegate&&this._delegate.onError(this._errorInfo)},this),this._appMeasurement.isReadyToTrack(),this._setupDataResolver()}var r=e.Trigger,s=e.plugin.BasePlugin,o=e.plugin.ParamMapping,l=e.radio.Channel,c=e.radio.Command,d=e.radio.CommandQueue,u=t.ErrorInfo,_=n.md5,p=n.StringUtils,h=n.ObjectUtils,g=i.AdobeAnalyticsPluginConfig,f=i.InputDataValidator;e.extend(a,s),a.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof g))throw new Error("Expected config data to be instance of AdobeAnalyticsPluginConfig.");this._config=e,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.debugLogging+", channel="+this._config.channel+", ssl="+this._appMeasurement.ssl+"})")},a.prototype.bootstrap=function(e){a.__super__.bootstrap.call(this,e),this._registerCommands(),this._registerBehaviours()},a.prototype.setup=function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady,[]),a.__super__.setup.call(this)},a.prototype.setVideoMetadata=function(e){this._videoMetadata=h.clone(e)},a.prototype.setAdMetadata=function(e){this._adMetadata=h.clone(e)},a.prototype.setChapterMetadata=function(e){this._chapterMetadata=h.clone(e)},a.prototype._canProcess=function(){return this._errorInfo?(this._logger.error(this._logTag,"#_canProcess() > In ERROR state."),!1):a.__super__._canProcess.call(this)},a.prototype._cmdVideoLoad=function(e){this._errorInfo=null},a.prototype._cmdVideoStart=function(e){this._logger.debug(this._logTag,"#_cmdVideoStart()"),this._canProcess()&&this._workQueue.addCommand(new c(this._executeOpen,this,[e]))},a.prototype._cmdAdStart=function(e){this._logger.debug(this._logTag,"#_cmdAdStart()"),this._canProcess()&&this._workQueue.addCommand(new c(this._executeOpenAd,this,[e]))},a.prototype._cmdHeartbeatPluginError=function(e){this._errorInfo||(this._errorInfo=new u("Internal error","HeartbeatPlugin is in ERROR state."),this._trigger(S,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},a.prototype._resetAppMeasurementContextData=function(){delete this._appMeasurement.contextData["a.contentType"],delete this._appMeasurement.contextData["a.media.name"],delete this._appMeasurement.contextData["a.media.friendlyName"],delete this._appMeasurement.contextData["a.media.length"],delete this._appMeasurement.contextData["a.media.playerName"],delete this._appMeasurement.contextData["a.media.channel"],delete this._appMeasurement.contextData["a.media.view"],delete this._appMeasurement.contextData["a.media.ad.name"],delete this._appMeasurement.contextData["a.media.ad.friendlyName"],delete this._appMeasurement.contextData["a.media.ad.podFriendlyName"],delete this._appMeasurement.contextData["a.media.ad.length"],delete this._appMeasurement.contextData["a.media.ad.playerName"],delete this._appMeasurement.contextData["a.media.ad.pod"],delete this._appMeasurement.contextData["a.media.ad.podPosition"],delete this._appMeasurement.contextData["a.media.ad.podSecond"],delete this._appMeasurement.contextData["a.media.ad.view"];for(var e=0;e<this._customMetaKeys.length;e++){var t=this._customMetaKeys[e];delete this._appMeasurement.contextData[t]}this._customMetaKeys=[]},a.prototype._executeOpen=function(e){if(this._logger.debug(this._logTag,"#_executeOpen(id="+e.videoId+", videoName="+e.videoName+", streamType="+e.streamType+", length="+e.videoLength+", playerName="+e.playerName+", channel="+e.channel+", isPrimetime="+e.isPrimetime+")"),this._canProcess()&&this._inputDataValidator.validateFields(e,["videoId","streamType","videoLength","playerName"])){this._resetAppMeasurementContextData();for(var t in e.metaVideo)e.metaVideo.hasOwnProperty(t)&&(this._appMeasurement.contextData[t]=e.metaVideo[t],this._customMetaKeys.push(t));if(e.metaNielsen)for(var t in e.metaNielsen)e.metaNielsen.hasOwnProperty(t)&&(this._appMeasurement.contextData[t]=e.metaNielsen[t],this._customMetaKeys.push(t));this._appMeasurement.contextData["a.contentType"]=e.streamType,this._appMeasurement.contextData["a.media.name"]=e.videoId,this._appMeasurement.contextData["a.media.friendlyName"]=e.videoName||"",this._appMeasurement.contextData["a.media.length"]=Math.floor(e.videoLength)||"0.0",this._appMeasurement.contextData["a.media.playerName"]=e.playerName,this._appMeasurement.contextData["a.media.channel"]=e.channel||"",this._appMeasurement.contextData["a.media.view"]=!0,this._appMeasurement.pev3=y,this._appMeasurement.pe=e.isPrimetime?R:C,this._appMeasurement.track();var n=this;setTimeout(function(){n._trigger(N,e)},0)}},a.prototype._executeOpenAd=function(e){var t=_(e.videoId)+"_"+e.podPosition;if(this._logger.debug(this._logTag,"#_executeOpenAd(id="+e.adId+", streamType="+e.streamType+", length="+e.adLength+", podPlayerName="+e.podPlayerName+", parentId="+e.videoId+", podId="+t+", parentPodPosition="+e.adPosition+", podSecond="+e.podSecond+")"),this._canProcess()&&this._inputDataValidator.validateFields(e,["videoId","streamType","playerName","adId","adLength","podPlayerName","adPosition"])){e.podSecond=null==e.podSecond||isNaN(e.podSecond)?e.playhead:e.podSecond,this._resetAppMeasurementContextData();var n;for(n in e.metaVideo)e.metaVideo.hasOwnProperty(n)&&(this._appMeasurement.contextData[n]=e.metaVideo[n],this._customMetaKeys.push(n));for(n in e.metaAd)e.metaAd.hasOwnProperty(n)&&(this._appMeasurement.contextData[n]=e.metaAd[n],this._customMetaKeys.push(n));if(e.metaNielsen)for(var n in e.metaNielsen)e.metaNielsen.hasOwnProperty(n)&&(this._appMeasurement.contextData[n]=e.metaNielsen[n],this._customMetaKeys.push(n));this._appMeasurement.contextData["a.contentType"]=e.streamType,this._appMeasurement.contextData["a.media.name"]=e.videoId,this._appMeasurement.contextData["a.media.playerName"]=e.playerName,this._appMeasurement.contextData["a.media.channel"]=e.channel||"",this._appMeasurement.contextData["a.media.ad.name"]=e.adId,this._appMeasurement.contextData["a.media.ad.friendlyName"]=e.adName||"",this._appMeasurement.contextData["a.media.ad.podFriendlyName"]=e.podName||"",this._appMeasurement.contextData["a.media.ad.length"]=Math.floor(e.adLength)||"0.0",this._appMeasurement.contextData["a.media.ad.playerName"]=e.podPlayerName,this._appMeasurement.contextData["a.media.ad.pod"]=t,this._appMeasurement.contextData["a.media.ad.podPosition"]=Math.floor(e.adPosition)||"0.0",this._appMeasurement.contextData["a.media.ad.podSecond"]=Math.floor(e.podSecond)||"0.0",this._appMeasurement.contextData["a.media.ad.view"]=!0,this._appMeasurement.pev3=P,this._appMeasurement.pe=e.isPrimetime?D:b,this._appMeasurement.track();var i=this;setTimeout(function(){i._trigger(O,e)},0)}},a.prototype._setupDataResolver=function(){var e={},t=this;e.rsid=function(){return t._appMeasurement.account},e.tracking_server=function(){return t._appMeasurement.ssl&&t._appMeasurement.trackingServerSecure?t._appMeasurement.trackingServerSecure:t._appMeasurement.trackingServer},e.ssl=function(){return t._appMeasurement.ssl},e.vid=function(){return t._appMeasurement.visitorID},e.aid=function(){return t._appMeasurement.analyticsVisitorID},e.mid=function(){return t._appMeasurement.marketingCloudVisitorID},e.customerIDs=function(){var e=t._appMeasurement.visitor.getCustomerIDs(),n={};for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];if("object"==typeof a){for(var r in a)a.hasOwnProperty(r)&&("authState"==r?n[i+".as"]=a[r]:n[i+"."+r]=a[r]);n[i+".as"]||(n[i+".as"]="0")}}return n},e.channel=function(){return t._config?t._config.channel:null},e.meta=function(e){var n=e.split(".");if(n.length<2)return null;var i=n.shift();switch(e=n.join("."),i){case"video":return e==l.WILDCARD?t._videoMetadata:t._videoMetadata[e];case"ad":return e==l.WILDCARD?t._adMetadata:t._adMetadata[e];case"chapter":return e==l.WILDCARD?t._chapterMetadata:t._chapterMetadata[e];default:return null}},this._dataResolver=function(t){if(!t||0==t.length)return null;for(var n=null,i=0;i<t.length;i++){var a=t[i];n=n||{},p.startsWith(a,"meta.")?n[a]=e.meta(a.split("meta.")[1]):n[a]=e.hasOwnProperty(a)?e[a].call(this):null}return n}},a.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleHeartbeatPluginError",this._cmdHeartbeatPluginError)},a.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new r(A,L),this,"handleVideoLoad"),this._pluginManager.registerBehaviour(new r(A,k),this,"handleVideoStart",[new o(A,"video.id","videoId"),new o(A,"video.streamType","streamType"),new o(A,"video.name","videoName"),new o(A,"video.length","videoLength"),new o(A,"video.playerName","playerName"),new o(A,"video.streamType","streamType"),new o(v,"is_primetime","isPrimetime"),new o(T,"channel","channel"),new o(T,"meta.video.*","metaVideo"),new o(m,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new r(A,M),this,"handleAdStart",[new o(A,"video.id","videoId"),new o(A,"video.streamType","streamType"),new o(A,"video.playhead","playhead"),new o(A,"video.playerName","playerName"),new o(A,"ad.id","adId"),new o(A,"ad.length","adLength"),new o(A,"ad.position","adPosition"),new o(A,"ad.name","adName"),new o(A,"pod.name","podName"),new o(A,"pod.position","podPosition"),new o(A,"pod.playerName","podPlayerName"),new o(A,"pod.startTime","podSecond"),new o(v,"is_primetime","isPrimetime"),new o(T,"channel","channel"),new o(T,"meta.video.*","metaVideo"),new o(T,"meta.ad.*","metaAd"),new o(m,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new r(v,S),this,"handleHeartbeatPluginError")},a.prototype._onAppMeasurementReady=function(){this._workQueue.resume()};var E="adobe-analytics",T=E,m="nielsen",A="player",v="adobe-heartbeat",I=2e3,S="error",y="video",P="videoAd",C="ms_s",R="msp_s",b="msa_s",D="mspa_s",N="aa_start",O="sc_ad_start",L="video_load",k="video_start",M="ad_start";i.AdobeAnalyticsPlugin=a}(e.ADB.core,e.ADB.va,e.ADB.va.utils,t),e.ADB.va.plugins.aa||(e.ADB.va.plugins.aa=t)}(this)},Visitor.getInstance=function(e,t){var n,i,a=window.s_c_il;if(0>e.indexOf("@")&&(e+="@AdobeOrg"),a)for(i=0;i<a.length;i++)if((n=a[i])&&"Visitor"==n._c&&n.marketingCloudOrgID==e)return n;return new Visitor(e,t)},function(){function e(){t.ia=n}var t=window.Visitor,n=t.la;n||(n=!0),window.addEventListener?window.addEventListener("load",e):window.attachEvent&&window.attachEvent("onload",e)}(),function(e,t,n){var i=t.location.protocol||"http:",a="//secure-",r=".imrworldwide.com/",s="glcfg400.js",o="400",l="http://secure-us.imrworldwide.com/";if(e.getTIme=e.getTIme||function(){return(new Date).getTime()},e.loadXmlString=function(e){try{var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}catch(n){try{var i=new DOMParser;return t=i.parseFromString(e,"text/xml")}catch(n){}}return null},e.getAddress=function(){return l},e.getVersion=function(){return o},e.send=function(e){},e.ggInitialize=function(c,d,u,_,p){function h(e,t){if("string"==typeof e&&(e={type:e}),e.target||(e.target=t),!e.type)throw new Error("Event object missing 'type' property.");if(m[e.type]instanceof Array)for(var n=m[e.type],i=0,a=n.length;a>i;i++)n[i].call(this,t)}var g,f,E,T,m={},A="us",v=[],I=String(e.getTIme())+Math.round(1e4*Math.random()),S=p,y={ggParams:c,uid:d,oldFlashDetect:u,detectBrowser:_,playerId:I};if(this.modules={},typeof c==typeof String()){for(g=e.loadXmlString("<vi>"+c+"</vi>"),f=g.firstChild.firstChild,E=0,c={};f!=n&&20>E;)null!=f.firstChild&&(c[f.nodeName]=f.firstChild.nodeValue),f=f.nextSibling,E++;y.ggParams=c}T=t.document.createElement("script"),o=c.sdkv||o,A=c.sfcode||A,l=c.coreaddress||i+a+A+r,T.src=l+"novms/js/2/configs/"+s+"?rnd="+Math.round(1e6*Math.random()),t.document.getElementsByTagName("head")[0].appendChild(T),this.addListener=function(e,t){"undefined"==typeof m[e]&&(m[e]=[]),m[e].push(t)},this.removeListener=function(e,t){if(m[e]instanceof Array)for(var n=m[e],i=0,a=n.length;a>i;i++)if(n[i]===t){n.splice(i,1);break}},this.ggPM=function(e,t,n,i,a){var r={};r.eventType=e,r.param1=t,r.param2=n,r.param3=i,r.param4=a,2==this.modules.PLCMB||2==this.modules.PLDPR?(this.emptyQueue(),h("ggPM",{evtInfo:r,id:I})):v.push(r)},this.callBack=function(e){e.registerListener("ggPM",this);for(var n=0;n<t.gg_nol_CallBack.length;n++)t.gg_nol_CallBack[n]==this&&t.gg_nol_CallBack.splice(n,1)},this.getConfigParams=function(){return y},this.emptyQueue=function(){if(!(v.length<=0)&&(this.modules.PLCMB||this.modules.PLDPR)){for(var e=0,t=v.length;t>e;e+=1)h("ggPM",{evtInfo:v[e],id:I});v=[]}},this.getContainer=function(){return S},e.GLCFG?e.GLCFG.registerListener("ggPM",this):(t.gg_nol_CallBack||(t.gg_nol_CallBack=[]),t.gg_nol_CallBack.push(this))},t.gg_nol_FlashCallBack){for(var c,d=0,u=t.gg_nol_FlashCallBack.length;u>d;d+=1)t.gg_nol_FlashCallBack[d].hasOwnProperty("callBack")&&(c=document.getElementById(t.gg_nol_FlashCallBack[d].swfId),c&&c[t.gg_nol_FlashCallBack[d].callBack]());t.gg_nol_FlashCallBack=n}return e}(this.NOLCMB=this.NOLCMB||{},this),!function(e,t){"function"==typeof define&&define.amd?define([],function(){return e.ns_=t(e.ns_)}):"object"==typeof module&&module.exports?module.exports=t():e.ns_=t(e.ns_)}(this,function(e){e=e||{},e.ns_=e;var t={uid:function(){var e=1;return function(){return+new Date+"_"+e++}}(),filter:function(e,t){var n={};for(var i in t)t.hasOwnProperty(i)&&e(t[i])&&(n[i]=t[i]);return n},extend:function(e){var t,n=arguments.length;e=e||{};for(var i=1;n>i;i++)if(t=arguments[i])for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e},getString:function(e,t){var n=String(e);return null==e?t||"na":n},getLong:function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},getInteger:function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},getBoolean:function(e,t){var n="true"==String(e).toLowerCase();return null==e?t||!1:n},isNotEmpty:function(e){return!this.isEmpty(e)},isEmpty:function(e){return void 0===e||null===e||""===e||e instanceof Array&&0===e.length},indexOf:function(e,t){var n=-1;return this.forEach(t,function(t,i){t==e&&(n=i)}),n},forEach:function(e,t,n){try{if("function"==typeof t)if(n="undefined"!=typeof n?n:null,"number"!=typeof e.length||"undefined"==typeof e[0]){var i="undefined"!=typeof e.__proto__;for(var a in e)e.hasOwnProperty(a)&&(!i||i&&"undefined"==typeof e.__proto__[a])&&"function"!=typeof e[a]&&t.call(n,e[a],a)}else for(var r=0,s=e.length;s>r;r++)t.call(n,e[r],r)}catch(o){}},regionMatches:function(e,t,n,i,a){if(0>t||0>i||t+a>e.length||i+a>n.length)return!1;for(;--a>=0;){var r=e.charAt(t++),s=n.charAt(i++);if(r!=s)return!1}return!0},size:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t},log:function(e,t){if("undefined"!=typeof t&&t&&"undefined"!=typeof console&&console){var n=new Date;n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()}},isTrue:function(e){return"undefined"==typeof e?!1:"string"==typeof e?(e=e.toLowerCase(),"true"===e||"1"===e||"on"===e):!!e},toString:function(e){if("undefined"==typeof e)return"undefined";if("string"==typeof e)return e;if("[object Array]"===Object.prototype.toString.call(e))return e.join(",");if(this.size(e)>0){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}return e.toString()},exists:function(e){return"undefined"!=typeof e&&null!=e},firstGreaterThan0:function(){for(var e=0,t=arguments.length;t>e;e++){var n=arguments[e];if(n>0)return n}return 0},cloneObject:function(e){if(null==e||"object"!=typeof e)return e;var t=function(){function e(){}function t(t){return"object"==typeof t?(e.prototype=t,new e):t}function n(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function i(){this.copiedObjects=[];var e=this;this.recursiveDeepCopy=function(t){return e.deepCopy(t)},this.depth=0}function a(e,t){var n=new i;return t&&(n.maxDepth=t),n.deepCopy(e)}function r(e){return"undefined"!=typeof window&&window&&window.Node?e instanceof Node:"undefined"!=typeof document&&e===document?!0:"number"==typeof e.nodeType&&e.attributes&&e.childNodes&&e.cloneNode}var s=[];return n.prototype={constructor:n,canCopy:function(){return!1},create:function(e){},populate:function(e,t,n){}},i.prototype={constructor:i,maxDepth:256,cacheResult:function(e,t){this.copiedObjects.push([e,t])},getCachedResult:function(e){for(var t=this.copiedObjects,n=t.length,i=0;n>i;i++)if(t[i][0]===e)return t[i][1]},deepCopy:function(e){if(null===e)return null;if("object"!=typeof e)return e;var t=this.getCachedResult(e);if(t)return t;for(var n=0;n<s.length;n++){var i=s[n];if(i.canCopy(e))return this.applyDeepCopier(i,e)}throw new Error("Unable to clone the following object "+e)},applyDeepCopier:function(e,t){var n=e.create(t);if(this.cacheResult(t,n),this.depth++,this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return e.populate(this.recursiveDeepCopy,t,n),this.depth--,n}},a.DeepCopier=n,a.deepCopiers=s,a.register=function(e){e instanceof n||(e=new n(e)),s.unshift(e)},a.register({canCopy:function(){return!0},create:function(e){return e instanceof e.constructor?t(e.constructor.prototype):{}},populate:function(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}}),a.register({canCopy:function(e){return e instanceof Array},create:function(e){return new e.constructor},populate:function(e,t,n){for(var i=0;i<t.length;i++)n.push(e(t[i]));return n}}),a.register({canCopy:function(e){return e instanceof Date},create:function(e){return new Date(e)}}),a.register({canCopy:function(e){return r(e)},create:function(e){return"undefined"!=typeof document&&e===document?document:e.cloneNode(!1)},populate:function(e,t,n){if("undefined"!=typeof document&&t===document)return document;if(t.childNodes&&t.childNodes.length)for(var i=0;i<t.childNodes.length;i++){var a=e(t.childNodes[i]);n.appendChild(a)}}}),{deepCopy:a}}();return t.deepCopy(e)},safeGet:function(e,t){return t=this.exists(t)?t:"",this.exists(e)?e:t},getBrowserName:function(){if(!navigator)return"";var e,t,n=navigator.userAgent||"",i=navigator.appName||"";return-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?i="Opera":-1!=(t=n.indexOf("Android"))?i="Android":-1!=(t=n.indexOf("Chrome"))?i="Chrome":-1!=(t=n.indexOf("Safari"))?i="Safari":-1!=(t=n.indexOf("Firefox"))?i="Firefox":-1!=(t=n.indexOf("IEMobile"))?i="Internet Explorer Mobile":"Microsoft Internet Explorer"==i||"Netscape"==i?i="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))?(i=n.substring(e,t),i.toLowerCase()==i.toUpperCase()&&(i=navigator.appName)):i="unknown",i},getBrowserFullVersion:function(){if(!navigator)return"";var e,t,n,i,a=navigator.userAgent||"",r=navigator.appName||"",s=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(t=a.indexOf("Opera"))?(s=a.substring(t+6),-1!=(t=a.indexOf("Version"))&&(s=a.substring(t+8))):-1!=(t=a.indexOf("OPR/"))?s=a.substring(t+4):-1!=(t=a.indexOf("Android"))?s=a.substring(t+11):-1!=(t=a.indexOf("Chrome"))?s=a.substring(t+7):-1!=(t=a.indexOf("Safari"))?(s=a.substring(t+7),-1!=(t=a.indexOf("Version"))&&(s=a.substring(t+8))):-1!=(t=a.indexOf("Firefox"))?s=a.substring(t+8):"Microsoft Internet Explorer"==r?(i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=i.exec(a)&&(s=parseFloat(RegExp.$1))):"Netscape"==r?(i=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!=i.exec(a)&&(s=parseFloat(RegExp.$1))):s=a.lastIndexOf(" ")+1<(t=a.lastIndexOf("/"))?a.substring(t+1):"unknown",s=s.toString(),-1!=(n=s.indexOf(";"))&&(s=s.substring(0,n)),-1!=(n=s.indexOf(" "))&&(s=s.substring(0,n)),-1!=(n=s.indexOf(")"))&&(s=s.substring(0,n)),e=parseInt(""+s,10),isNaN(e)&&(s=""+parseFloat(navigator.appVersion)),s},browserAcceptsLargeURLs:function(){return"undefined"!=typeof window?(null!==window.ActiveXObject,!0):!0},getNamespace:function(){return e.ns_}};return e.StreamSense=e.StreamSense||function(){var n=function(){var e="cs_";return function(){var n="undefined"!=typeof localStorage?localStorage:null;t.extend(this,{get:function(t){return n&&n.getItem(e+t)},set:function(t,i){n&&n.setItem(e+t,i)},has:function(t){return n&&n.getItem(e+t)},remove:function(t){n&&n.removeItem(e+t)},clear:function(){for(var t=0;n&&t<n.length;++t){var i=n.key(t);i.substr(0,e.length)===e&&n.removeItem(i)}}})}}(),i=function(e,t){if("undefined"!=typeof Image){var n=new Image;n.onload=function(){t&&t(200),n=null},n.onerror=function(){t&&t(),n=null},n.src=e}},a=function(e,t,n){n&&"undefined"!=typeof setTimeout&&setTimeout(n,0)},r=function(){return{dir:function(){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(){return!1},read:function(){return null}}}(),s=function(){return{PLATFORM:"generic",httpGet:i,httpPost:a,Storage:n,IO:r,getCrossPublisherId:function(){return null},getAppName:function(){return o.UNKNOWN_VALUE},getAppVersion:function(){return o.UNKNOWN_VALUE;
},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return o.UNKNOWN_VALUE},getPlatformVersion:function(){return o.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return o.UNKNOWN_VALUE},getRuntimeVersion:function(){return o.UNKNOWN_VALUE},getResolution:function(){return o.UNKNOWN_VALUE},getLanguage:function(){return o.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)},getDeviceArchitecture:function(){return o.UNKNOWN_VALUE},getConnectionType:function(){return o.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return o.UNKNOWN_VALUE},isConnSecure:function(){return"s"===document.location.href.charAt(4)}}}(),o={UNKNOWN_VALUE:"unknown"};t.filterMap=function(e,n){for(var i in e)e.hasOwnProperty(i)&&-1==t.indexOf(i,n)&&delete e[i]},t.getKeys=function(e,t){var n,i=[];for(n in e)t&&!t.test(n)||!e.hasOwnProperty(n)||(i[i.length]=n);return i},t.getEventTime=function(e){var t=-1;return e.hasOwnProperty("ns_ts")&&(t=parseInt(e.ns_ts)),t},t.fixEventTime=function(e){var n=t.getEventTime(e);0>n&&(e.ns_ts=String(+new Date))},t.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},t.addNewPlaybackInterval=function(e,n,i,a){var r={};if(!(i>=n))return t.cloneObject(e);if(r.start=n,r.end=i,0==e.length)return e.push(r),t.cloneObject(e);var s;for(s=0;s<e.length;s++)if(r.start>=e[s].start&&r.end<=e[s].end)return t.cloneObject(e);var o,l=!1;for(o=0;o<e.length;o++)if(o+1===e.length&&r.start>=e[o].start||r.start>=e[o].start&&r.start<e[o+1].start){e.splice(o+1,0,r),l=!0;break}l||e.splice(0,0,r);var c=[e[0]];for(s=1;s<e.length;s++)c[c.length-1].end+a<e[s].start?c.push(e[s]):c[c.length-1].end<e[s].end&&(c[c.length-1].end=e[s].end);return t.cloneObject(c)};var l=function(){var e=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"];return{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,START:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(t){return e[t]}}}(),c=function(){return{IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12}}(),d=function(){var e=["c","s","r"];return{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(t){return e[t]}}}(),u={STREAMSENSE_VERSION:"5.0.1.151203",DEFAULT_PLAYERNAME:"js_api",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,THROTTLING_DELAY:500,INTERVAL_MERGE_TOLERANCE:500,STANDARD_METADATA_LABELS:["ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"],LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_cu","ns_st_fee","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ev_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"]},_=function(){return function(){function e(){var e,t,n=0;for(e=0;e<h.length;e++)n+=Math.abs(h[e].end-h[e].start);V.setUniquePlaybackInterval(n);var i=0;for(e=0;e<h.length;e++)t=Math.abs(h[e].end-h[e].start),t>i&&(i=t);V.setLongestPlaybackInterval(i);var a=0;for(e=0;e<g.length;e++)a+=Math.abs(g[e].end-g[e].start);V.setAssetUniquePlaybackInterval(a);var r=0;for(e=0;e<g.length;e++)t=Math.abs(g[e].end-g[e].start),t>r&&(r=t);V.setAssetLongestPlaybackInterval(r)}var n,i,a,r,s,o,l,c,d,_,p,h,g,f,E,T,m,A,v,I,S,y,P,C,R,b,D,N,O,L,k,M,w,V=this,U=u.INTERVAL_MERGE_TOLERANCE;t.extend(this,{reset:function(e){L={},L.ns_st_pt="0",L.ns_st_bt="0",L.ns_st_bc="0",L.ns_st_pc="0",L.ns_st_sq="0",L.ns_st_cl="0",L.ns_st_pn="1",L.ns_st_tp="1",L.ns_st_skc="0",L.ns_st_et="0",L.ns_st_cn="1",L.ns_st_spc="0",L.ns_st_sc="0",L.ns_st_apc="0",L.ns_st_ska="0",L.ns_st_skd="0",L.ns_st_skt="0",L.ns_st_upc="0",L.ns_st_lpc="0",L.ns_st_upa="0",L.ns_st_lpa="0",L.ns_st_ub="0",L.ns_st_br="0",S=-1,y=0,d=-1,_=0,r=-1,o=0,s=-1,l=0,k=0,M=0,R=0,C=-1,D=!1,c=0,N=0,O=0,w=0,f=-1,a=!1,n=null,p=0,P=!1,b=0,h=[],g=[],E=0,T=0,v=0,m=0,A=0,I=0,i=!1,null!=e&&e.length>0&&V.setLabels(e)},getHash:function(){return n},setHash:function(e){n=e},setPlaybackIntervalMergeTolerance:function(e){U=e},getPlaybackIntervalMergeTolerance:function(){return U},setLabels:function(e){null!=e&&t.extend(L,e)},getLabels:function(){return L},setLabel:function(e,t){var n={};n[e]=t,V.setLabels(n)},getLabel:function(e){return L[e]},getClipNumber:function(){return parseInt(V.getLabel("ns_st_cn"))},setClipNumber:function(e){V.setLabel("ns_st_cn",String(e))},getPartNumber:function(){return parseInt(V.getLabel("ns_st_pn"))},createLabels:function(e){var n=e||{};n.ns_st_dbt=String(V.getBufferingTime()-y),y=V.getBufferingTime(),n.ns_st_det=String(V.getElapsedTime()-_),_=V.getElapsedTime(),n.ns_st_dupc=String(V.getUniquePlaybackInterval()-E),E=V.getUniquePlaybackInterval(),parseInt(n.ns_st_dupc)<0&&(n.ns_st_dupc="0");var i;i=t.exists(n.ns_st_upc)?parseInt(n.ns_st_upc):V.getUniquePlaybackInterval(),n.ns_st_iupc=String(i-T),T=i,parseInt(n.ns_st_iupc)<0&&(n.ns_st_iupc="0"),n.ns_st_dupa=String(V.getAssetUniquePlaybackInterval()-m),m=V.getAssetUniquePlaybackInterval(),parseInt(n.ns_st_dupa)<0&&(n.ns_st_dupa="0");var r;r=t.exists(n.ns_st_upa)?parseInt(n.ns_st_upa):V.getAssetUniquePlaybackInterval(),n.ns_st_iupa=String(r-A),A=r,parseInt(n.ns_st_iupa)<0&&(n.ns_st_iupa="0"),n.ns_st_dlpc=String(V.getLongestPlaybackInterval()-v),v=V.getLongestPlaybackInterval(),parseInt(n.ns_st_dlpc)<0&&(n.ns_st_dlpc="0"),n.ns_st_dlpa=String(V.getAssetLongestPlaybackInterval()-I),I=V.getAssetLongestPlaybackInterval(),parseInt(n.ns_st_dlpa)<0&&(n.ns_st_dlpa="0");var s;return s=t.exists(n.ns_st_pt)?parseInt(n.ns_st_pt):V.getPlaybackTime(),n.ns_st_ipt=String(s-l),l=s,n.ns_st_dpt=String(V.getPlaybackTime()-o),o=V.getPlaybackTime(),n.ns_st_dpc=String(V.getPauses()-k),k=V.getPauses(),n.ns_st_dskc=String(V.getSeeks()-M),M=V.getSeeks(),n.ns_st_dbc=String(V.getBuffers()-w),w=V.getBuffers(),n.ns_st_dskt=String(V.getSeekingTime()-R),R=V.getSeekingTime(),n.ns_st_dska=String(V.getSeekingAmount()-N),N=V.getSeekingAmount(),t.extend(n,V.getLabels()),V.setSeekingDirection(0),a||(delete n.ns_st_spc,delete n.ns_st_apc,0===parseInt(n.ns_st_sc)&&(n.ns_st_sc="1")),n},getVideoTrack:function(){return V.getLabel("ns_st_vt")},setVideoTrack:function(e){V.setLabel("ns_st_vt",String(e))},getAudioTrack:function(){return V.getLabel("ns_st_at")},setAudioTrack:function(e){V.setLabel("ns_st_at",String(e))},getSubtitleTrack:function(){return V.getLabel("ns_st_tt")},setSubtitleTrack:function(e){V.setLabel("ns_st_tt",String(e))},getCDN:function(){return V.getLabel("ns_st_cdn")},setCDN:function(e){V.setLabel("ns_st_cdn",String(e))},getClipPlaybackIntervals:function(){return h},setClipPlaybackIntervals:function(e){h=e},getAssetPlaybackIntervals:function(){return g},getUniquePlaybackInterval:function(){return parseInt(V.getLabel("ns_st_upc"))},getAssetUniquePlaybackInterval:function(){return parseInt(V.getLabel("ns_st_upa"))},setAssetUniquePlaybackInterval:function(e){V.setLabel("ns_st_upa",String(e))},setUniquePlaybackInterval:function(e){V.setLabel("ns_st_upc",String(e))},getLongestPlaybackInterval:function(){return parseInt(V.getLabel("ns_st_lpc"))},setLongestPlaybackInterval:function(e){V.setLabel("ns_st_lpc",String(e))},getAssetLongestPlaybackInterval:function(){return parseInt(V.getLabel("ns_st_lpa"))},setAssetLongestPlaybackInterval:function(e){V.setLabel("ns_st_lpa",String(e))},incrementPauses:function(){V.setLabel("ns_st_pc",String(V.getPauses()+1))},incrementSeeks:function(){V.setLabel("ns_st_skc",String(V.getSeeks()+1))},incrementPlayCounter:function(){V.setLabel("ns_st_sq",String(parseInt(V.getLabel("ns_st_sq"))+1))},getBufferingTime:function(){return parseInt(V.getLabel("ns_st_bt"))},setBufferingTime:function(e){V.setLabel("ns_st_bt",String(e))},addBufferingTime:function(e){if(S>=0){var t=V.getBufferingTime();t+=e-S,V.setBufferingTime(t),S=-1}},setPlaybackStartPosition:function(e){f=parseInt(e)},getPlaybackStartPosition:function(){return f},addInterval:function(n){f>=0&&parseInt(n)>=0&&(h=t.addNewPlaybackInterval(h,f,n,U),g=t.addNewPlaybackInterval(g,f,n,U),e(),f=-1)},getElapsedTime:function(){return parseInt(V.getLabel("ns_st_et"))},setElapsedTime:function(e){V.setLabel("ns_st_et",String(e))},addElapsedTime:function(e){if(d>=0){var t=V.getElapsedTime();t+=e-d,V.setElapsedTime(t),d=-1}},getElapsedTimestamp:function(){return d},setElapsedTimestamp:function(e){d=e},addPlaybackTime:function(e){if(r>0){var t=V.getPlaybackTime();t+=e-r,V.setPlaybackTime(t),r=-1}},getPlaybackTime:function(){return parseInt(V.getLabel("ns_st_pt"))},getExpectedPlaybackPosition:function(e){return r>0&&(c+=e-r),c},setPlaybackTimeOffset:function(e){c=e},getPlaybackTimeOffset:function(){return c},setPlaybackTime:function(e){V.setLabel("ns_st_pt",String(e))},getPlaybackTimestamp:function(){return r},setPlaybackTimestamp:function(e){r=e},setPreviousPlaybackTime:function(e){o=e},setPreviousPlaybackTimestamp:function(e){s=e},getBufferingTimestamp:function(){return S},setBufferingTimestamp:function(e){S=e},getPauses:function(){return parseInt(V.getLabel("ns_st_pc"))},setPauses:function(e){V.setLabel("ns_st_pc",String(e))},getSeeks:function(){return parseInt(V.getLabel("ns_st_skc"))},setSeeks:function(e){V.setLabel("ns_st_skc",String(e))},setSeeking:function(e){P=e},isSeeking:function(){return P},setCollectingSeekingTime:function(e){D=e},isCollectingSeekingTime:function(){return D},setClipStarted:function(e){i=e},isClipStarted:function(){return i},setPlaybackStarted:function(e){a=e},isPlaybackStarted:function(){return a},setSeekingTimestamp:function(e){C=e},getSeekingTimestamp:function(){return C},addSeekingTime:function(e){if(C>0){var t=V.getSeekingTime();t+=e-C,V.setSeekingTime(t),C=-1}},getSeekingTime:function(){return parseInt(V.getLabel("ns_st_skt"))},setSeekingTime:function(e){V.setLabel("ns_st_skt",String(e))},setSeekingTimeBeforeEnd:function(e){O=e},getSeekingTimeBeforeEnd:function(){return O},setSeekStartPosition:function(e){b=e},getSeekStartPosition:function(){return b},setSeekingAmount:function(e){V.setLabel("ns_st_ska",String(e))},getSeekingAmount:function(){return parseInt(V.getLabel("ns_st_ska"))},addSeekingAmount:function(e){var t=V.getSeekingAmount();t+=Math.abs(e-b),V.setSeekingAmount(t);var n;b==e?n=0:b>e?n=-1:e>b&&(n=1),V.setSeekingDirection(n),b=0},getSeekingDirection:function(){return parseInt(V.getLabel("ns_st_skd"))},setSeekingDirection:function(e){V.setLabel("ns_st_skd",String(e))},resetClipLifecycleLabels:function(){L.ns_st_pt="0",o=0,l=0,L.ns_st_bt="0",y=0,L.ns_st_bc="0",w=0,L.ns_st_pc="0",k=0,L.ns_st_sq="0",L.ns_st_upa="0",m=0,A=0,L.ns_st_et="0",_=0,L.ns_st_lpa="0",I=0,L.ns_st_skt="0",R=0,L.ns_st_ska="0",N=0,L.ns_st_skc="0",M=0},incrementSegmentPlaybackCounter:function(){V.setLabel("ns_st_spc",String(V.getSegmentPlaybackCounter()+1))},incrementClipLoadCounter:function(){V.setLabel("ns_st_sc",String(V.getClipLoadCounter()+1))},incrementAssetPlaybackCounter:function(){V.setLabel("ns_st_apc",String(V.getAssetPlaybackCounter()+1))},setPreviousUniquePlaybackInterval:function(e){E=e},setPreviousEventIndependentUniquePlaybackInterval:function(e){T=e},setPreviousLongestPlaybackInterval:function(e){v=e},resetAssetPlaybackCounters:function(){g=[],V.setAssetUniquePlaybackInterval(0),m=0,A=0,V.setAssetLongestPlaybackInterval(0),I=0},setSegmentPlaybackCounter:function(e){V.setLabel("ns_st_spc",String(e))},setClipLoadCounter:function(e){V.setLabel("ns_st_sc",String(e))},setAssetPlaybackCounter:function(e){V.setLabel("ns_st_apc",String(e))},setLowestPartNumberPlayed:function(e){p=e},getSegmentPlaybackCounter:function(){return parseInt(V.getLabel("ns_st_spc"))},getClipLoadCounter:function(){return parseInt(V.getLabel("ns_st_sc"))},getAssetPlaybackCounter:function(){return parseInt(V.getLabel("ns_st_apc"))},getLowestPartNumberPlayed:function(){return p},getBuffers:function(){return parseInt(V.getLabel("ns_st_bc"))},incrementBufferCount:function(){V.setLabel("ns_st_bc",String(V.getBuffers()+1))},getPreviousBufferingTime:function(){return y}}),V.reset()}}(),p=function(){return function(){var e,n,i,a,r,s,o,l,c=this;t.extend(this,{reset:function(c){a={},a.ns_st_bp="0",a.ns_st_pa="0",a.ns_st_pp="0",a.ns_st_sp="1",a.ns_st_id=String(+new Date),a.ns_st_ppc="0",n=-1,i=-1,s=[],o=0,r=!1,l=!1,null!=c&&c.length>0&&t.extend(a,c),e.reset(c)},hashExists:function(e){return null!=s[e]},storeHash:function(e){s[e]={}},removeHash:function(e){delete s[e]},storeClipPlaybackCounters:function(){for(var n in s)if(s.hasOwnProperty(n)&&s[n].clipNumber===e.getClipNumber()){t.extend(s[n],{segmentPlaybackCounter:e.getSegmentPlaybackCounter(),clipLoadCounter:e.getClipLoadCounter(),assetPlaybackCounter:e.getAssetPlaybackCounter(),lowestPartNumberPlayed:e.getLowestPartNumberPlayed(),seeking:e.isSeeking(),seekingTimeBeforeEnd:e.getSeekingTimeBeforeEnd(),seekingStartPosition:e.getSeekStartPosition(),clipPlaybackIntervals:e.getClipPlaybackIntervals(),uniquePlaybackInterval:e.getUniquePlaybackInterval(),longestPlaybackInterval:e.getLongestPlaybackInterval(),videoTrack:e.getVideoTrack(),audioTrack:e.getAudioTrack(),subtitleTrack:e.getSubtitleTrack(),cdn:e.getCDN()});break}},getStoredClipRegisters:function(e){return s[e]},getClipNumber:function(e){return s[e].clipNumber},getMaxClipNumber:function(){return o},storeClipNumber:function(e,t){s[e].clipNumber=t,t>o&&(o=t)},setLabels:function(e){null!=e&&t.extend(a,e)},getLabels:function(){return a},setLabel:function(e,t){var n={};n[e]=t,c.setLabels(n,null)},getLabel:function(e){return a[e]},getClip:function(){return e},createLabels:function(n){var i=n||{};return l||(i.ns_st_pb=null!=i.ns_st_pb?i.ns_st_pb:"1",l=!0),t.extend(i,c.getLabels()),e.isPlaybackStarted()||delete i.ns_st_ppc,i},incrementPlayCounter:function(){c.setLabel("ns_st_sp",String(parseInt(c.getLabel("ns_st_sp"))+1))},incrementPauses:function(){c.setLabel("ns_st_pp",String(c.getPauses()+1))},addPlaybackTime:function(e){if(i>=0){var t=c.getPlaybackTime();t+=e-i,c.setPlaybackTime(t),i=-1}},addBufferingTime:function(e){if(n>=0){var t=c.getBufferingTime();t+=e-n,c.setBufferingTime(t),n=-1}},getBufferingTime:function(){return parseInt(c.getLabel("ns_st_bp"))},setBufferingTime:function(e){c.setLabel("ns_st_bp",String(e))},getPlaybackTime:function(){return parseInt(c.getLabel("ns_st_pa"))},setBufferingTimestamp:function(e){n=e},getBufferingTimestamp:function(){return n},setPlaybackTime:function(e){c.setLabel("ns_st_pa",String(e))},setPlaybackTimestamp:function(e){i=e},getPlaybackTimestamp:function(){return i},getPauses:function(){return parseInt(c.getLabel("ns_st_pp"))},setPauses:function(e){c.setLabel("ns_st_pp",String(e))},isPlaylistStarted:function(){return r},setPlaylistStarted:function(e){r=e},getPlaybackCounter:function(){return parseInt(c.getLabel("ns_st_ppc"))},incrementPlaybackCounter:function(){c.setLabel("ns_st_ppc",String(c.getPlaybackCounter()+1))}}),e=new _,c.reset()}}(),h=function(){return function(e){function n(){s=1}function i(n){o=t.extend({},n);var i=e.getPixelURL();if(e.getAppCore()){if(!e.isNotProperlyInitialized()){var a=e.getExports().am,r=e.getExports().et,s=a.newApplicationMeasurement(e.getAppCore(),r.HIDDEN,n,i);e.getAppCore().getQueue().offer(s)}}else i&&e.getPlatformAPI().httpGet(e.prepareUrl(i,n))}function a(){o=null}function r(){var n,i;1==arguments.length?(n=null,i=arguments[0]):(n=arguments[0],i=arguments[1]);var a={};if("undefined"!=typeof document){var r=document;a.c7=r.URL,a.c8=r.title,a.c9=r.referrer}return null!=i&&t.extend(a,i),a.ns_ts=null!=a.ns_ts?a.ns_ts:String(+new Date),a.ns_st_ev=null!=a.ns_st_ev?a.ns_st_ev:l.toString(n),a.ns_st_mp=null!=a.ns_st_mp?a.ns_st_mp:e.getMediaPlayerName(),a.ns_st_mv=null!=a.ns_st_mv?a.ns_st_mv:e.getMediaPlayerVersion(),a.ns_st_ub=null!=a.ns_st_ub?a.ns_st_ub:"0",a.ns_st_br=null!=a.ns_st_br?a.ns_st_br:"0",a.ns_st_pn=null!=a.ns_st_pn?a.ns_st_pn:"1",a.ns_st_tp=null!=a.ns_st_tp?a.ns_st_tp:"1",a.ns_st_it=null!=a.ns_st_it?a.ns_st_it:d.toString(d.SINGLE_CLIP),a.ns_st_sv=null!=a.ns_st_sv?a.ns_st_sv:u.STREAMSENSE_VERSION,a.ns_type=null!=a.ns_type?a.ns_type:"hidden",a.ns_st_ec=null!=a.ns_st_ec?a.ns_st_ec:String(s),a.ns_st_po=null!=a.ns_st_po?a.ns_st_po:t.getInteger(e.getPlaylist().getClip().getExpectedPlaybackPosition(t.getEventTime(a))),a.ns_st_ki=null!=a.ns_st_ki?a.ns_st_ki:e.getKeepAlive().getInterval(),e.getPlaylist().createLabels(a),e.getPlaylist().getClip().createLabels(a),t.extend(a,e.getLabels()),a}var s,o,c=this;t.extend(this,{newEvent:function(e,n){var a=r(e,n);t.extend(a,n),i(a),e!=l.HEARTBEAT&&c.incrementEventCounter()},getEventCounter:function(){return s},incrementEventCounter:function(){s++},setEventCounter:function(e){s=e},getMeasurementSnapshot:function(){return o},reset:function(){n(),a()}}),c.reset()}}(),g=function(){return function(e){function n(){o++;var n={};t.fixEventTime(n);var i=t.getEventTime(n);n.ns_st_po=String(e.getPlaylist().getClip().getPlaybackTimeOffset()+(i-e.getPlaylist().getClip().getPlaybackTimestamp())),n.ns_st_pa=String(e.getPlaylist().getPlaybackTime()+(i-e.getPlaylist().getPlaybackTimestamp())),n.ns_st_pt=String(e.getPlaylist().getClip().getPlaybackTime()+(i-e.getPlaylist().getClip().getPlaybackTimestamp())),n.ns_st_dpt=String(i-e.getPlaylist().getClip().getPlaybackTimestamp()),e.getStateMachine().getCurrentState()==c.BUFFERING_DURING_PLAYBACK?(n.ns_st_bp=String(e.getPlaylist().getBufferingTime()+(i-e.getPlaylist().getBufferingTimestamp())),n.ns_st_bt=String(e.getPlaylist().getClip().getBufferingTime()+(i-e.getPlaylist().getClip().getBufferingTimestamp())),n.ns_st_dbt=String(i-e.getPlaylist().getClip().getBufferingTimestamp())):n.ns_st_dbt=String(e.getPlaylist().getClip().getBufferingTime()-e.getPlaylist().getClip().getPreviousBufferingTime()),n.ns_st_et=String(e.getPlaylist().getClip().getElapsedTime()+(i-e.getPlaylist().getClip().getElapsedTimestamp())),n.ns_st_det=String(i-e.getPlaylist().getClip().getElapsedTimestamp());var a=t.cloneObject(e.getPlaylist().getClip().getClipPlaybackIntervals()),s=t.cloneObject(e.getPlaylist().getClip().getAssetPlaybackIntervals());a=t.addNewPlaybackInterval(a,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(n.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance()),s=t.addNewPlaybackInterval(s,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(n.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance());var u,_,p=0;for(u=0;u<a.length;u++)p+=Math.abs(a[u].end-a[u].start);n.ns_st_upc=String(p),n.ns_st_dupc=String(p-e.getPlaylist().getClip().getUniquePlaybackInterval());var h=0;for(u=0;u<a.length;u++)_=Math.abs(a[u].end-a[u].start),_>h&&(h=_);n.ns_st_lpc=String(h),n.ns_st_dlpc=String(h-e.getPlaylist().getClip().getLongestPlaybackInterval());var g=0;for(u=0;u<s.length;u++)g+=Math.abs(s[u].end-s[u].start);n.ns_st_upa=String(g),n.ns_st_dupa=String(g-e.getPlaylist().getClip().getAssetUniquePlaybackInterval());var f=0;for(u=0;u<s.length;u++)_=Math.abs(s[u].end-s[u].start),_>f&&(f=_);n.ns_st_lpa=String(f),n.ns_st_dlpa=String(f-e.getPlaylist().getClip().getAssetLongestPlaybackInterval()),n.ns_st_hc=String(e.getHeartbeat().getCount()),e.getEventManager().newEvent(l.HEARTBEAT,n),r=0,d.resume()}function i(){null!=a&&(e.getPlatformAPI().clearTimeout(a),a=null)}var a,r,s,o,d=this,_=u.DEFAULT_HEARTBEAT_INTERVAL;t.extend(this,{getCount:function(){return o},setIntervals:function(e){_=e},getInterval:function(e){var t=0;if(null!=_)for(var n=0;n<_.length;n++){var i=_[n],a=i.playingtime;if(!a||a>e){t=i.interval;break}}return t},resume:function(){i();var t=d.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));if(t>0){var s=r>0?r:t;a=e.getPlatformAPI().setTimeout(n,s)}r=0},pause:function(){i();var t=d.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));r=t-(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()))%t},reset:function(){i(),r=0,s=0,o=0}}),d.reset()}}(),f=function(){return function(e){function n(){var n={};t.fixEventTime(n);var i=t.getEventTime(n);n.ns_st_po=e.getPlaylist().getClip().getExpectedPlaybackPosition(i),e.getPlaylist().addPlaybackTime(i),e.getPlaylist().setPlaybackTimestamp(i),e.getPlaylist().getClip().addPlaybackTime(i),e.getPlaylist().getClip().setPlaybackTimestamp(i),e.getStateMachine().getCurrentState()==c.BUFFERING_DURING_PLAYBACK&&(e.getPlaylist().addBufferingTime(i),e.getPlaylist().setBufferingTimestamp(i),e.getPlaylist().getClip().addBufferingTime(i),e.getPlaylist().getClip().setBufferingTimestamp(i)),e.getPlaylist().getClip().addElapsedTime(i),e.getPlaylist().getClip().setElapsedTimestamp(i),e.getPlaylist().getClip().addInterval(parseInt(n.ns_st_po)),e.getPlaylist().getClip().setPlaybackStartPosition(parseInt(n.ns_st_po)),e.getEventManager().newEvent(l.KEEPALIVE,n),r.resume()}function i(){null!=a&&(e.getPlatformAPI().clearTimeout(a),a=null)}var a,r=this,s=u.DEFAULT_KEEP_ALIVE_INTERVAL;t.extend(this,{resume:function(){i(),a=e.getPlatformAPI().setTimeout(n,s)},setInterval:function(e){s=e},getInterval:function(){return s},reset:function(){i()}})}}(),E=function(){return function(e){function n(e){return e==c.PLAYING||e==c.PAUSED}function i(){a(),f=e.getPlatformAPI().setTimeout(function(){var e={};t.fixEventTime(e),y.transitionTo(l.PAUSE_ON_BUFFERING,y.eventTypeToState(l.PAUSE_ON_BUFFERING),e)},P)}function a(){null!=f&&(e.getPlatformAPI().clearTimeout(f),f=null)}function r(){p&&(e.getPlatformAPI().clearTimeout(p),p=null)}function s(n,r,s,d){var u=t.getEventTime(s);n==l.AD_SKIP&&!s.hasOwnProperty("ns_st_ui")&&o(n)?s.ns_st_ui="skip":n==l.SEEK_START&&!s.hasOwnProperty("ns_st_ui")&&o(n)&&(s.ns_st_ui="seek"),(y.getCurrentState()==c.PLAYBACK_NOT_STARTED||y.getCurrentState()==c.PAUSED||y.getCurrentState()==c.SEEKING_BEFORE_PLAYBACK||y.getCurrentState()==c.SEEKING_DURING_PLAYBACK||y.getCurrentState()==c.SEEKING_DURING_BUFFERING||y.getCurrentState()==c.SEEKING_DURING_PAUSE)&&n==l.BUFFER&&(e.getPlaylist().setBufferingTimestamp(u),e.getPlaylist().getClip().setBufferingTimestamp(u)),(y.getCurrentState()==c.PAUSED||y.getCurrentState()==c.BUFFERING_DURING_PAUSE)&&n==l.SEEK_START&&(e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(u),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(u))),(y.getCurrentState()==c.SEEKING_DURING_BUFFERING||y.getCurrentState()==c.SEEKING_DURING_PAUSE)&&n==l.PLAY&&(e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,s)),(y.getCurrentState()==c.BUFFERING_DURING_SEEKING||y.getCurrentState()==c.BUFFERING_DURING_PAUSE)&&n==l.BUFFER_STOP&&(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u)),(y.getCurrentState()==c.SEEKING_DURING_PLAYBACK||y.getCurrentState()==c.SEEKING_DURING_PAUSE)&&n==l.PAUSE&&e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),(y.getCurrentState()==c.SEEKING_DURING_BUFFERING||y.getCurrentState()==c.SEEKING_DURING_PAUSE)&&(n==l.END||n==l.AD_SKIP)&&(e.getHeartbeat().reset(),e.getKeepAlive().reset(),e.getPlaylist().getClip().addElapsedTime(u),e.getEventManager().newEvent(l.END,s),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&"0"!==String(s.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()),(y.getCurrentState()==c.SEEKING_DURING_BUFFERING||y.getCurrentState()==c.SEEKING_DURING_PAUSE)&&n==l.BUFFER_STOP&&e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),y.getCurrentState()==c.IDLE?n==l.BUFFER?(e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().setBufferingTimestamp(u),e.getPlaylist().getClip().setBufferingTimestamp(u)):n==l.SEEK_START?(e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(u)):n==l.PLAY&&(e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),I||(s.ns_st_lt=v+(+new Date-A),I=!0),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,s)):y.getCurrentState()==c.PLAYBACK_NOT_STARTED?n==l.END||n==l.AD_SKIP?(e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&"0"!==String(s.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.SEEK_START?(e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().setSeekingTimestamp(u):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(u))):n==l.PLAY&&(e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(r),
e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),I||(s.ns_st_lt=v+(+new Date-A),I=!0),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,s)):y.getCurrentState()==c.PLAYING?n==l.END||n==l.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),e.getPlaylist().addPlaybackTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().addInterval(r),e.getEventManager().newEvent(l.END,s),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&"0"!==String(s.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.BUFFER?(E&&i(),e.getPlaylist().getClip().incrementBufferCount(),e.getPlaylist().setBufferingTimestamp(u),e.getPlaylist().getClip().setBufferingTimestamp(u)):n==l.SEEK_START?(e.getHeartbeat().pause(),e.getKeepAlive().reset(),e.getPlaylist().addPlaybackTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(u),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getEventManager().newEvent(l.PAUSE,s)):n==l.PAUSE&&(e.getHeartbeat().pause(),e.getKeepAlive().reset(),e.getPlaylist().addPlaybackTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getEventManager().newEvent(l.PAUSE,s)):y.getCurrentState()==c.PAUSED?n==l.END||n==l.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),e.getPlaylist().getClip().addElapsedTime(u),e.getEventManager().newEvent(l.END,s),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&"0"!==String(s.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.PLAY&&(e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,s)):y.getCurrentState()==c.BUFFERING_BEFORE_PLAYBACK?n==l.END||n==l.AD_SKIP?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&"0"!==String(s.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.BUFFER_STOP?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1))):n==l.SEEK_START?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(u),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(u))):n==l.PAUSE?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1))):n==l.PLAY&&(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),I||(s.ns_st_lt=v+(+new Date-A),I=!0),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,s)):y.getCurrentState()==c.BUFFERING_DURING_PLAYBACK?n==l.PAUSE_ON_BUFFERING?(a(),e.getHeartbeat().pause(),e.getKeepAlive().reset(),e.getPlaylist().addPlaybackTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getEventManager().newEvent(l.PAUSE,s),e.getPlaylist().setBufferingTimestamp(u),e.getPlaylist().getClip().setBufferingTimestamp(u)):n==l.BUFFER_STOP?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u)):n==l.END||n==l.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),a(),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().addInterval(r),e.getEventManager().newEvent(l.END,s),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&"0"!==String(s.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.SEEK_START?(a(),e.getPlaylist().addPlaybackTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(u),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getEventManager().newEvent(l.PAUSE,s)):n==l.PAUSE?(a(),e.getPlaylist().addPlaybackTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getEventManager().newEvent(l.PAUSE,s)):n==l.PLAY&&(a(),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u)):y.getCurrentState()==c.BUFFERING_DURING_SEEKING?n==l.END||n==l.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),a(),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getEventManager().newEvent(l.END,s),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&"0"!==String(s.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.PAUSE?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1))):n==l.PLAY&&(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,s)):y.getCurrentState()==c.BUFFERING_DURING_PAUSE?n==l.END||n==l.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getEventManager().newEvent(l.END,s),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&"0"!==String(s.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.PAUSE?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u)):n==l.PLAY&&(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,s)):y.getCurrentState()==c.SEEKING_BEFORE_PLAYBACK?n==l.END||n==l.AD_SKIP?(e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&"0"!==String(s.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.PAUSE?e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)):n==l.PLAY&&(e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),I||(s.ns_st_lt=v+(+new Date-A),I=!0),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,s)):y.getCurrentState()==c.SEEKING_DURING_PLAYBACK?n==l.END||n==l.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),e.getPlaylist().getClip().addElapsedTime(u),e.getEventManager().newEvent(l.END,s),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&"0"!==String(s.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.PLAY&&(e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),I||(s.ns_st_lt=v+(+new Date-A),I=!0),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,s)):y.getCurrentState()==c.SEEKING_DURING_BUFFERING?n==l.PAUSE&&(e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1))):y.getCurrentState()==c.PAUSED_DURING_BUFFERING&&(n==l.END||n==l.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getEventManager().newEvent(l.END,s),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&"0"!==String(s.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.BUFFER_STOP?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,s)):n==l.SEEK_START?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(u),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(u))):n==l.PAUSE?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses()):n==l.PLAY&&(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,s))),y.setCurrentState(y.eventTypeToState(n));for(var _=0,p=S.length;p>_;_++)S[_](y.getPreviousState(),y.getCurrentState(),s,d)}function o(e){if(g==c.IDLE||g==c.PLAYBACK_NOT_STARTED||g==c.BUFFERING_BEFORE_PLAYBACK||g==c.SEEKING_BEFORE_PLAYBACK){if(e==l.PLAY)return!0}else if(g==c.PLAYING){if(e==l.END||e==l.AD_SKIP||e==l.SEEK_START||e==l.PAUSE)return!0}else if(g==c.PAUSED||g==c.BUFFERING_DURING_PAUSE||g==c.SEEKING_DURING_PLAYBACK||g==c.SEEKING_DURING_BUFFERING||g==c.SEEKING_DURING_PAUSE){if(e==l.END||e==l.AD_SKIP||e==l.PLAY)return!0}else if(g==c.BUFFERING_DURING_PLAYBACK){if(e==l.PAUSE_ON_BUFFERING||e==l.END||e==l.AD_SKIP||e==l.SEEK_START||e==l.PAUSE||e==l.PLAY)return!0}else if(g==c.BUFFERING_DURING_SEEKING){if(e==l.END||e==l.AD_SKIP||e==l.PAUSE||e==l.PLAY)return!0}else if(g==c.PAUSED_DURING_BUFFERING&&(e==l.END||e==l.AD_SKIP||e==l.BUFFER_STOP||e==l.PLAY))return!0;return!1}function d(e){return null!=e&&g!=e}var _,p,h,g,f,E,T,m,A,v,I,S,y=this,P=u.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,C=u.THROTTLING_DELAY;t.extend(this,{eventTypeToState:function(e){if(y.getCurrentState()==c.IDLE){if(e==l.PLAY)return c.PLAYING;if(e==l.SEEK_START)return c.SEEKING_BEFORE_PLAYBACK;if(e==l.BUFFER)return c.BUFFERING_BEFORE_PLAYBACK}else if(y.getCurrentState()==c.PLAYBACK_NOT_STARTED){if(e==l.PLAY)return c.PLAYING;if(e==l.SEEK_START)return c.SEEKING_BEFORE_PLAYBACK;if(e==l.BUFFER)return c.BUFFERING_BEFORE_PLAYBACK;if(e==l.END||e==l.AD_SKIP)return c.IDLE}else if(y.getCurrentState()==c.PLAYING){if(e==l.END||e==l.AD_SKIP)return c.IDLE;if(e==l.BUFFER)return c.BUFFERING_DURING_PLAYBACK;if(e==l.PAUSE)return c.PAUSED;if(e==l.SEEK_START)return c.SEEKING_DURING_PLAYBACK}else if(y.getCurrentState()==c.PAUSED){if(e==l.END||e==l.AD_SKIP)return c.IDLE;if(e==l.BUFFER)return c.BUFFERING_DURING_PAUSE;if(e==l.PLAY)return c.PLAYING;if(e==l.SEEK_START)return c.SEEKING_DURING_PAUSE}else if(y.getCurrentState()==c.BUFFERING_BEFORE_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return c.IDLE;if(e==l.PAUSE||e==l.BUFFER_STOP)return c.PLAYBACK_NOT_STARTED;if(e==l.PLAY)return c.PLAYING;if(e==l.SEEK_START)return c.SEEKING_BEFORE_PLAYBACK}else if(y.getCurrentState()==c.BUFFERING_DURING_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return c.IDLE;if(e==l.PLAY||e==l.BUFFER_STOP)return c.PLAYING;if(e==l.PAUSE_ON_BUFFERING)return c.PAUSED_DURING_BUFFERING;if(e==l.SEEK_START)return c.SEEKING_DURING_BUFFERING;if(e==l.PAUSE)return c.PAUSED}else if(y.getCurrentState()==c.BUFFERING_DURING_SEEKING){if(e==l.END||e==l.AD_SKIP)return c.IDLE;if(e==l.PLAY)return c.PLAYING;if(e==l.BUFFER_STOP)return c.SEEKING_DURING_PLAYBACK;if(e==l.PAUSE)return c.PAUSED}else if(y.getCurrentState()==c.BUFFERING_DURING_PAUSE){if(e==l.END||e==l.AD_SKIP)return c.IDLE;if(e==l.PLAY)return c.PLAYING;if(e==l.SEEK_START)return c.SEEKING_DURING_PAUSE;if(e==l.BUFFER_STOP||e==l.PAUSE)return c.PAUSED}else if(y.getCurrentState()==c.SEEKING_BEFORE_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return c.IDLE;if(e==l.PAUSE)return c.PLAYBACK_NOT_STARTED;if(e==l.PLAY)return c.PLAYING;if(e==l.BUFFER)return c.BUFFERING_BEFORE_PLAYBACK}else if(y.getCurrentState()==c.SEEKING_DURING_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return c.IDLE;if(e==l.PLAY)return c.PLAYING;if(e==l.PAUSE)return c.PAUSED;if(e==l.BUFFER)return c.BUFFERING_DURING_SEEKING}else if(y.getCurrentState()==c.SEEKING_DURING_BUFFERING){if(e==l.END||e==l.AD_SKIP)return c.IDLE;if(e==l.PLAY)return c.PLAYING;if(e==l.PAUSE||e==l.BUFFER_STOP)return c.PAUSED}else if(y.getCurrentState()==c.SEEKING_DURING_PAUSE){if(e==l.END||e==l.AD_SKIP)return c.IDLE;if(e==l.PLAY)return c.PLAYING;if(e==l.PAUSE||e==l.BUFFER_STOP)return c.PAUSED;if(e==l.BUFFER)return c.BUFFERING_DURING_PAUSE}else if(y.getCurrentState()==c.PAUSED_DURING_BUFFERING){if(e==l.END||e==l.AD_SKIP)return c.IDLE;if(e==l.SEEK_START)return c.SEEKING_DURING_BUFFERING;if(e==l.PAUSE)return c.PAUSED;if(e==l.PLAY||e==l.BUFFER_STOP)return c.PLAYING}return null},reset:function(){g=c.IDLE,h=null,_=-1,T=null,m=!0,v=0,E=!0,a(),r()},getCurrentState:function(){return g},setCurrentState:function(e){g!=e&&(h=g,g=e,_=+new Date)},getPreviousState:function(){return h},transitionTo:function(i,a,o,u){if(r(),d(a))if(y.isThrottlingEnabled()&&n(g)&&n(a)&&!u)p=e.getPlatformAPI().setTimeout(function(e,t,n){return function(){y.transitionTo(e,t,n,!0)}}(i,a,o),C);else{var h=t.getEventTime(o),f=_>=0?h-_:0;o.ns_st_po||(e.getStateMachine().getCurrentState()==c.PLAYING&&i==l.BUFFER||e.getStateMachine().getCurrentState()==c.BUFFERING_DURING_PLAYBACK&&i==l.BUFFER_STOP?o.ns_st_po=e.getPlaylist().getClip().getPlaybackTimeOffset()+(h-e.getPlaylist().getClip().getPlaybackTimestamp()):o.ns_st_po=e.getPlaylist().getClip().getExpectedPlaybackPosition(h)),s(i,parseInt(o.ns_st_po),o,f)}},setPauseOnBufferingInterval:function(e){P=e},getPauseOnBufferingInterval:function(){return P},isPauseOnBufferingEnabled:function(){return E},setPauseOnBufferingEnabled:function(e){E=e},setThrottlingDelay:function(e){C=e},getThrottlingDelay:function(){return C},isThrottlingEnabled:function(){return m},setThrottlingEnabled:function(e){m=e},getLoadTimeOffset:function(){return v},setLoadTimeOffset:function(e){v=e},addListener:function(e){S.push(e)},removeListener:function(e){S.splice(t.indexOf(e,S),1)}}),I=!1,A=+new Date,S=[],y.reset()}}(),T=function(){return function(e,n){function i(e,n){var i=e||"",a="undefined",r=L.comScore||L.sitestat||function(e){var n,i,r,s,o,l="comScore=",c=k.cookie,d="",_="indexOf",p="substring",h="length",g=t.browserAcceptsLargeURLs()?u.URL_LENGTH_LIMIT:u.RESTRICTED_URL_LENGTH_LIMIT,f="&ns_",E="&",T=L.encodeURIComponent||escape;if(c[_](l)+1)for(s=0,r=c.split(";"),o=r[h];o>s;s++)i=r[s][_](l),i+1&&(d=E+unescape(r[s][p](i+l[h])));e+=f+"_t="+ +new Date+f+"c="+(k.characterSet||k.defaultCharset||"")+d,e.length>g&&e.indexOf(E)>0&&(n=e.substr(0,g-8).lastIndexOf(E),e=(e.substring(0,n)+f+"cut="+T(e.substring(n+1))).substr(0,g)),R.getPlatformAPI().httpGet(e),typeof ns_p===a&&(ns_p={src:e}),ns_p.lastMeasurement=e};if(typeof n!==a){var s=[],o=L.encodeURIComponent||escape;for(var l in n)n.hasOwnProperty(l)&&s.push(o(l)+"="+o(n[l]));/[\?\&]$/.test(i)||(i+="&"),i+=s.join("&")}return r(i)}function a(e,n){for(var i,a=L.encodeURIComponent||escape,r=[],s=u.LABELS_ORDER,o=e.split("?"),l=o[0],c=o[1],d=c.split("&"),_=0,p=d.length;p>_;_++){var h=d[_].split("="),g=unescape(h[0]),f=unescape(h[1]);g&&(n[g]=f)}for(var E={},T=0,m=s.length;m>T;T++){var A=s[T];if(n.hasOwnProperty(A)){var v=n[A];"undefined"!=typeof v&&null!=v&&(E[A]=!0,r.push(a(A)+"="+a(n[A])))}}for(var I in n)if(n.hasOwnProperty(I)){if(E[I])continue;var S=n[I];"undefined"!=typeof S&&null!=S&&r.push(a(I)+"="+a(n[I]))}i=l+"?"+r.join("&"),i=i+(i.indexOf("&c8=")<0?"&c8="+a(k.title):"")+(i.indexOf("&c7=")<0?"&c7="+a(k.URL):"")+(i.indexOf("&c9=")<0?"&c9="+a(k.referrer):"");var y=t.browserAcceptsLargeURLs()?u.URL_LENGTH_LIMIT:u.RESTRICTED_URL_LENGTH_LIMIT;if(i.length>y&&i.indexOf("&")>0){var P=i.substr(0,y-8).lastIndexOf("&");i=(i.substring(0,P)+"&ns_cut="+a(i.substring(P+1))).substr(0,y)}return i}function r(e,t){R.notify(l.CUSTOM,e,t)}function _(){C&&y.getCurrentState()!=c.IDLE&&R.end()}var T,m,A,v,I,S,y,P,C,R=this,b=u.DEFAULT_PLAYERNAME,D=u.STREAMSENSE_VERSION,N=u.STANDARD_METADATA_LABELS,O={};t.extend(this,{isNotProperlyInitialized:function(){var e=P.getAppContext(),t=P.getSalt(),n=P.getPixelURL();return null==e||null==t||0==t.length||null==n||0==n.length},reset:function(e){A=A||new p,v=v||new g(R),I=I||new h(R),S=S||new f(R),y=y||new E(R),A.reset(e),null==e||e.isEmpty()?T={}:t.filterMap(T,e),I.reset(),v.reset(),S.reset(),y.reset(),b=u.DEFAULT_PLAYERNAME,D=u.STREAMSENSE_VERSION,C=!0},getAppCore:function(){return P},getPlatformAPI:function(){return P?P.getPlatformAPI():s},getExports:function(){return O},getHeartbeat:function(){return v},getKeepAlive:function(){return S},getEventManager:function(){return I},getStateMachine:function(){return y},getMediaPlayerName:function(){return b},getMediaPlayerVersion:function(){return D},setPauseOnBufferingInterval:function(e){y.setPauseOnBufferingInterval(e)},getPauseOnBufferingInterval:function(){return y.getPauseOnBufferingInterval()},setKeepAliveInterval:function(e){S.setInterval(e)},getKeepAliveInterval:function(){return S.getInterval()},setHeartbeatIntervals:function(e){v.setIntervals(e)},play:function(e,t){R.notify(l.PLAY,e,t)},pause:function(e,t){R.notify(l.PAUSE,e,t)},end:function(e,t){R.notify(l.END,e,t)},bufferStart:function(e,t){R.notify(l.BUFFER,e,t)},bufferStop:function(e,t){R.notify(l.BUFFER_STOP,e,t)},load:function(e,t){R.notify(l.LOAD,e,t)},start:function(e,t){R.notify(l.START,e,t)},seekStart:function(e,t){R.notify(l.SEEK_START,e,t)},skipAd:function(e,t){R.notify(l.AD_SKIP,e,t)},callToAction:function(e,t){R.notify(l.CTA,e,t)},error:function(e,t){R.notify(l.ERROR,e,t)},transferPlayback:function(e,t){R.notify(l.TRANSFER,e,t)},drmFail:function(e,t){R.notify(l.DRM_FAILED,e,t)},drmApprove:function(e,t){R.notify(l.DRM_APPROVED,e,t)},drmDeny:function(e,t){R.notify(l.DRM_DENIED,e,t)},changeBitrate:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_br=e,R.notify(l.BIT_RATE,i,t)}},changePlaybackRate:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_rt=e,R.notify(l.PLAYBACK_RATE,i,t)}},changeVolume:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_vo=e,R.notify(l.VOLUME,i,t)}},changeWindowState:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_ws=e,R.notify(l.WINDOW_STATE,i,t)}},changeAudio:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_at=e,R.notify(l.AUDIO,i,t)}},changeVideo:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_vt=e,R.notify(l.VIDEO,i,t)}},changeSubtitle:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_tt=e,R.notify(l.SUBS,i,t)}},changeCDN:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_cdn=e,R.notify(l.CDN,i,t)}},notify:function(){var e,n,i,a;if(n=arguments[0],3==arguments.length?("object"==typeof arguments[1]?i=arguments[1]:("string"==typeof arguments[1]||"number"==typeof arguments[1])&&(a=arguments[1]),"object"==typeof arguments[2]?i=arguments[2]:("string"==typeof arguments[2]||"number"==typeof arguments[2])&&(a=arguments[2]),i||(i={})):2==arguments.length?"object"==typeof arguments[1]?i=arguments[1]:(i={},a=arguments[1]):1==arguments.length,l.toString(n)){e=y.eventTypeToState(n),t.fixEventTime(i);var r=t.getEventTime(i);if(!i.ns_st_po&&a&&(i.ns_st_po=t.getInteger(a).toString()),i.ns_st_po&&A.getClip().setPlaybackTimeOffset(parseInt(i.ns_st_po)),n==l.PLAY||n==l.PAUSE||n==l.BUFFER||n==l.END||n==l.SEEK_START||n==l.AD_SKIP||n==l.BUFFER_STOP)y.transitionTo(n,e,i);else{if((n==l.LOAD||n==l.START)&&y.getCurrentState()!=c.IDLE)return;n!=l.ERROR||i.ns_st_er||(i.ns_st_er=o.UNKNOWN_VALUE),y.getCurrentState()!=c.IDLE&&y.getCurrentState()!=c.PLAYBACK_NOT_STARTED&&y.getCurrentState()!=c.SEEKING_BEFORE_PLAYBACK&&y.getCurrentState()!=c.BUFFERING_BEFORE_PLAYBACK&&(A.getClip().addElapsedTime(r),A.getClip().setElapsedTimestamp(r));var s,d,u,_=!0,p=!1;switch(n){case l.BIT_RATE:s="ns_st_br",d="ns_st_pbr",p=!0;break;case l.PLAYBACK_RATE:s="ns_st_rt",d="ns_st_prt",p=!0;break;case l.VOLUME:s="ns_st_vo",d="ns_st_pvo",p=!0;break;case l.WINDOW_STATE:s="ns_st_ws",d="ns_st_pws",p=!0;break;case l.AUDIO:s="ns_st_at",d="ns_st_pat",p=!1;break;case l.VIDEO:s="ns_st_vt",d="ns_st_pvt",p=!1;break;case l.SUBS:s="ns_st_tt",d="ns_st_ptt",p=!1;break;case l.CDN:s="ns_st_cdn",d="ns_st_pcdn",p=!1;break;default:_=!1}if(_&&i.hasOwnProperty(s)&&(p?(R.getLabels().hasOwnProperty(s)&&(u=R.getLabels()[s],i[d]=u),R.setLabel(s,i[s])):(A.getClip().getLabels().hasOwnProperty(s)&&(u=A.getClip().getLabels()[s],i[d]=u),A.getClip().setLabel(s,i[s]))),_&&y.getCurrentState()!=c.PLAYING&&y.getCurrentState()!=c.BUFFERING_DURING_PLAYBACK)return;i.ns_st_po||(i.ns_st_po=A.getClip().getExpectedPlaybackPosition(r)),(y.getCurrentState()==c.PLAYING||y.getCurrentState()==c.BUFFERING_DURING_PLAYBACK)&&(A.addPlaybackTime(r),A.setPlaybackTimestamp(r),A.getClip().addPlaybackTime(r),A.getClip().setPlaybackTimestamp(r),A.getClip().addInterval(parseInt(i.ns_st_po)),A.getClip().setPlaybackStartPosition(parseInt(i.ns_st_po))),(y.getCurrentState()==c.BUFFERING_BEFORE_PLAYBACK||y.getCurrentState()==c.BUFFERING_DURING_PAUSE||y.getCurrentState()==c.BUFFERING_DURING_PLAYBACK||y.getCurrentState()==c.BUFFERING_DURING_SEEKING)&&(A.addBufferingTime(r),A.setBufferingTimestamp(r),A.getClip().addBufferingTime(r),A.getClip().setBufferingTimestamp(r)),I.newEvent(n,i)}}},getLabels:function(){return T},getState:function(){return y.getCurrentState()},setLabels:function(e){for(var t in e)e.hasOwnProperty(t)&&R.setLabel(t,e[t]);
},getLabel:function(e){return T[e]},setLabel:function(e,t){null==t?delete T[e]:T[e]=t},getLoadTimeOffset:function(){return y.getLoadTimeOffset()},setLoadTimeOffset:function(e){y.setLoadTimeOffset(e)},setPixelURL:function(e){if(null==e||0==e.length)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(n>=0){if(n<e.length-1){for(var i=e.substring(n+1).split("&"),a=0,r=i.length;r>a;a++){var s=i[a],o=s.split("=");2==o.length?R.setLabel(o[0],t(o[1])):1==o.length&&R.setLabel(u.PAGE_NAME_LABEL,t(o[0]))}e=e.substring(0,n+1)}}else e+="?";return m=e},getPixelURL:function(){return m?m:"undefined"!=typeof ns_p&&"string"==typeof ns_p.src?m=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?m=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null},setImplementationType:function(e){y.getCurrentState()!=c.IDLE||e!=d.SINGLE_CLIP&&e!=d.SEGMENTED&&e!=d.REDUCED||A.setLabel("ns_st_it",d.toString(e))},isPauseOnBufferingEnabled:function(){return y.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(e){y.setPauseOnBufferingEnabled(e)},isThrottlingEnabled:function(){return y.isThrottlingEnabled()},setThrottlingEnabled:function(e){y.setThrottlingEnabled(e)},setThrottlingDelay:function(e){y.setThrottlingDelay(e)},getThrottlingDelay:function(){return y.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(e){A.getClip().setPlaybackIntervalMergeTolerance(e)},getPlaybackIntervalMergeTolerance:function(){return A.getClip().getPlaybackIntervalMergeTolerance()},setClip:function(e,n,i){if("undefined"==typeof i&&(i=!0),i&&y.getCurrentState()!==c.IDLE&&R.end(),y.getCurrentState()==c.IDLE){var a="",r=0;if(null!=e.ns_st_cn)a=String(e.ns_st_cn);else for(var s=0;s<N.length;s++)e[N[s]]&&(a+=N[s]+":"+e[N[s]]+";");A.getClip().isClipStarted()?(A.hashExists(A.getClip().getHash())||(A.storeHash(A.getClip().getHash()),A.storeClipNumber(A.getClip().getHash(),A.getClip().getClipNumber())),A.storeClipPlaybackCounters(),r=A.hashExists(a)?A.getClipNumber(a):t.exists(e.ns_st_cn)?parseInt(e.ns_st_cn):A.getMaxClipNumber()+1):r=A.hashExists(a)?A.getClipNumber(a):A.getClip().getClipNumber(),A.getClip().reset(),A.getClip().setHash(a),A.getClip().setClipNumber(r),A.getClip().setLabels(e,null);var o=A.getStoredClipRegisters(a);return o&&(A.getClip().setClipStarted(!0),A.getClip().setSegmentPlaybackCounter(o.segmentPlaybackCounter),A.getClip().setClipLoadCounter(o.clipLoadCounter),A.getClip().setAssetPlaybackCounter(o.assetPlaybackCounter),A.getClip().setLowestPartNumberPlayed(o.lowestPartNumberPlayed),A.getClip().setSeeking(o.seeking),A.getClip().setSeekingTimeBeforeEnd(o.seekingTimeBeforeEnd),A.getClip().setSeekStartPosition(o.seekingStartPosition),A.getClip().setClipPlaybackIntervals(o.clipPlaybackIntervals),A.getClip().setUniquePlaybackInterval(o.uniquePlaybackInterval),A.getClip().setLongestPlaybackInterval(o.longestPlaybackInterval),A.getClip().setVideoTrack(o.videoTrack),A.getClip().setAudioTrack(o.audioTrack),A.getClip().setSubtitleTrack(o.subtitleTrack),A.getClip().setCDN(o.cdn),A.getClip().setPreviousUniquePlaybackInterval(o.uniquePlaybackInterval),A.getClip().setPreviousEventIndependentUniquePlaybackInterval(o.uniquePlaybackInterval),A.getClip().setPreviousLongestPlaybackInterval(o.longestPlaybackInterval)),A.getClip().incrementClipLoadCounter(),A.getClip().isClipStarted()&&n&&(A.incrementPlayCounter(),A.incrementPlaybackCounter()),!0}return!1},setPlaylist:function(e,t){return"undefined"==typeof t&&(t=!0),t&&y.getCurrentState()!==c.IDLE&&R.end(),y.getCurrentState()==c.IDLE?(A.isPlaylistStarted()&&A.reset(),A.setLabels(e,null),!0):!1},importState:function(){},exportState:function(){return{}},getVersion:function(){return u.STREAMSENSE_VERSION},addListener:function(e){y.addListener(e)},removeListener:function(e){y.removeListener(e)},getClip:function(){return A.getClip()},getPlaylist:function(){return A},setHttpGet:function(e){"function"==typeof e&&(R.getPlatformAPI().httpGet=e)},setHttpPost:function(e){"function"==typeof e&&(R.getPlatformAPI().httpPost=e)},setExitEndEvent:function(e){C=e},isExitEndEventEnabled:function(){return C}});var L,k;t.isBrowser()?(L=window,k=document):(L={},k={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),t.extend(this,{prepareUrl:a}),t.extend(this,{customNotify:r,viewNotify:function(e,t){e=e||R.getPixelURL(),e&&i(e,t)}}),t.isBrowser()&&(window.addEventListener?(window.addEventListener("beforeunload",_),window.addEventListener("unload",_)):window.attachEvent&&(window.attachEvent("onbeforeunload",_),window.attachEvent("onunload",_))),t.getNamespace().comScore&&(O=t.getNamespace().comScore.exports,P=O.c()),R.reset(),e&&R.setLabels(e),n&&R.setPixelURL(n)}}();return function(n){function i(e,t){return S[P]||r(e,t)}function a(){P=-1;for(var t=0;y>=t;t++)if(S.hasOwnProperty(String(t))){P=t;break}return e.StreamSense.activeIndex=P,P}function r(t,n){return t=t||null,n=n||null,t&&"object"==typeof t&&(n=t,t=null),S[++y]=new e.StreamSense(n,t),a(),S[y]}function s(){var t=!1,n=P;if("number"==typeof arguments[0]&&isFinite(arguments[0]))n=arguments[0];else if(arguments[0]instanceof e.StreamSense)for(var i in S)if(S.hasOwnProperty(i)&&S[i]===arguments[0]){n=i;break}return S.hasOwnProperty(String(n))&&(t=S[n],delete S[n],t.reset(),a()),t}function o(e){return e=e||{},i().setPlaylist(e),i().getPlaylist()}function l(e,t,n){return e=e||{},"number"==typeof t&&(e.ns_st_cn=t),i().setClip(e,n),i().getClip()}function c(e,t,n){return"undefined"==typeof e?!1:(n=n||null,t=t||{},i().notify(e,t,n))}function d(e){"undefined"!=typeof e&&i().setLabels(e)}function u(){return i().getLabels()}function _(e){"undefined"!=typeof e&&i().getPlaylist().setLabels(e)}function p(){return i().getPlaylist().getLabels()}function h(e){"undefined"!=typeof e&&i().getClip().setLabels(e)}function g(){return i().getClip().getLabels()}function f(e){return i().reset(e||{})}function E(e){return i().getPlaylist().reset(e||{})}function T(e){return i().getClip().reset(e||{})}function m(e){return e=e||{},i().viewNotify(null,e)}function A(e,t){return arguments.length>2&&(e=arguments[1],t=arguments[2]),e=e||{},"number"==typeof t&&(e.ns_st_po=t),i().customNotify(e,t)}function v(){return i().exportState()}function I(e){i().importState(e)}var S={},y=-1,P=-1;t.extend(n,{activeIndex:P,newInstance:r,"new":r,destroyInstance:s,destroy:s,newPlaylist:o,newClip:l,notify:c,setLabels:d,getLabels:u,setPlaylistLabels:_,getPlaylistLabels:p,setClipLabels:h,getClipLabels:g,resetInstance:f,resetPlaylist:E,resetClip:T,viewEvent:m,customEvent:A,exportState:v,importState:I})}(T),T.PlayerEvents=l,T.InternalStates=c,T.ImplementationType=d,T}(),e.StreamingTag=e.StreamingTag||function(){var n=e.StreamSense,i=(e.StreamSense.PlayerEvents,e.StreamSense.InternalStates||null),a=e.StreamSense.ImplementationType||null,r=null!=e.StreamSense.InternalStates&&null!=e.StreamSense.ImplementationType;return function(){var e={LongFormOnDemand:"11",ShortFormOnDemand:"12",Live:"13",UserGeneratedLongFormOnDemand:"21",UserGeneratedShortFormOnDemand:"22",UserGeneratedLive:"23",Bumper:"99",Other:"00"},s={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",Other:"00"},o=function(e){function s(){if(r)if(t.getNamespace().comScore)f=new n,f.setImplementationType(a.REDUCED);else if(t.exists(e))if(E=t.isTrue(console.log),t.exists(e.customerC2)&&e.customerC2.length>0){var i=e.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b");f=new n,f.setPixelURL(i+".scorecardresearch.com/p?c1=2"),f.setLabel("c2",e.customerC2),f.setImplementationType(a.REDUCED)}else E&&console&&void 0}function o(e){t.exists(e)||(e={});for(var n in m)m.hasOwnProperty(n)&&!t.exists(e[m[n]])&&("ns_st_ci"==m[n]?e.ns_st_ci="0":e[m[n]]="*null");return e}function l(e){for(var t in m)if(m.hasOwnProperty(t)&&!c(m[t],h,e))return!1;return!0}function c(e,n,i){if(t.exists(e)&&t.exists(n)&&t.exists(i)){var a=n[e],r=i[e];return t.exists(a)&&t.exists(r)&&a===r}return!1}function d(e){p++;var n={ns_st_cn:p,ns_st_pn:"1",ns_st_tp:"0"};t.extend(n,e),f.setClip(n),h=e,f.play()}function u(e){p++,e=o(e);var n={ns_st_cn:p,ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};t.extend(n,e),f.setClip(n),f.play(),g=!1}function _(e,t){e=o(e),A==T.None&&(A=t),g&&A==t&&l(e)?(f.getClip().setLabels(e),f.getState()!=i.PLAYING&&f.play()):d(e),g=!0,A=t}var p=0,h=null,g=!1,f=null,E=!1,T={None:0,AudioContent:1,VideoContent:2},m=["ns_st_ci","c3","c4","c6","ns_st_st","ns_st_pu","ns_st_pr","ns_st_ep","ns_st_sn","ns_st_en","ns_st_ct"],A=T.None;t.extend(this,{playAdvertisement:function(){if(f){E&&console&&void 0;var e={ns_st_ct:"va"};u(e)}},playVideoAdvertisement:function(e,n){if(f){var i={ns_st_ct:"va"};n?i.ns_st_ct="va"+n:E&&console&&void 0,e&&t.extend(i,e),u(i)}},playAudioAdvertisement:function(e,n){if(f){var i={ns_st_ct:"aa"};n?i.ns_st_ct="aa"+n:E&&console&&void 0,e&&t.extend(i,e),u(i)}},playContentPart:function(e){if(f){E&&console&&void 0;var n={ns_st_ct:"vc"};e&&t.extend(n,e),_(n,T.VideoContent)}},playVideoContentPart:function(e,n){if(f){var i={ns_st_ct:"vc"};n?i.ns_st_ct="vc"+n:E&&console&&void 0,e&&t.extend(i,e),_(i,T.VideoContent)}},playAudioContentPart:function(e,n){if(f){var i={ns_st_ct:"ac"};n?i.ns_st_ct="ac"+n:E&&console&&void 0,e&&t.extend(i,e),_(i,T.AudioContent)}},stop:function(){f&&f.pause()}}),s()};return function(e){}(o),o.ContentType=e,o.AdType=s,o}()}(),e});var swfobject=function(){function e(){if(!G){try{var e=V.getElementsByTagName("body")[0].appendChild(f("span"));e.parentNode.removeChild(e)}catch(t){return}G=!0;for(var n=F.length,i=0;n>i;i++)F[i]()}}function t(e){G?e():F[F.length]=e}function n(e){if(typeof w.addEventListener!=b)w.addEventListener("load",e,!1);else if(typeof V.addEventListener!=b)V.addEventListener("load",e,!1);else if(typeof w.attachEvent!=b)E(w,"onload",e);else if("function"==typeof w.onload){var t=w.onload;w.onload=function(){t(),e()}}else w.onload=e}function i(){x?a():r()}function a(){var e=V.getElementsByTagName("body")[0],t=f(D);t.setAttribute("type",L);var n=e.appendChild(t);if(n){var i=0;!function(){if(typeof n.GetVariable!=b){var a=n.GetVariable("$version");a&&(a=a.split(" ")[1].split(","),j.pv=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)])}else if(10>i)return i++,void setTimeout(arguments.callee,10);e.removeChild(t),n=null,r()}()}else r()}function r(){var e=B.length;if(e>0)for(var t=0;e>t;t++){var n=B[t].id,i=B[t].callbackFn,a={success:!1,id:n};if(j.pv[0]>0){var r=g(n);if(r)if(!T(B[t].swfVersion)||j.wk&&j.wk<312)if(B[t].expressInstall&&o()){var d={};d.data=B[t].expressInstall,d.width=r.getAttribute("width")||"0",d.height=r.getAttribute("height")||"0",r.getAttribute("class")&&(d.styleclass=r.getAttribute("class")),r.getAttribute("align")&&(d.align=r.getAttribute("align"));for(var u={},_=r.getElementsByTagName("param"),p=_.length,h=0;p>h;h++)"movie"!=_[h].getAttribute("name").toLowerCase()&&(u[_[h].getAttribute("name")]=_[h].getAttribute("value"));l(d,u,n,i)}else c(r),i&&i(a);else A(n,!0),i&&(a.success=!0,a.ref=s(n),i(a))}else if(A(n,!0),i){var f=s(n);f&&typeof f.SetVariable!=b&&(a.success=!0,a.ref=f),i(a)}}}function s(e){var t=null,n=g(e);if(n&&"OBJECT"==n.nodeName)if(typeof n.SetVariable!=b)t=n;else{var i=n.getElementsByTagName(D)[0];i&&(t=i)}return t}function o(){return!K&&T("6.0.65")&&(j.win||j.mac)&&!(j.wk&&j.wk<312)}function l(e,t,n,i){K=!0,y=i||null,P={success:!1,id:n};var a=g(n);if(a){"OBJECT"==a.nodeName?(I=d(a),S=null):(I=a,S=n),e.id=k,(typeof e.width==b||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==b||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),V.title=V.title.slice(0,47)+" - Flash Player Installation";var r=j.ie&&j.win?"ActiveX":"PlugIn",s="MMredirectURL="+w.location.toString().replace(/&/g,"%26")+"&MMplayerType="+r+"&MMdoctitle="+V.title;if(typeof t.flashvars!=b?t.flashvars+="&"+s:t.flashvars=s,j.ie&&j.win&&4!=a.readyState){var o=f("div");n+="SWFObjectNew",o.setAttribute("id",n),a.parentNode.insertBefore(o,a),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}u(e,t,n)}}function c(e){if(j.ie&&j.win&&4!=e.readyState){var t=f("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(d(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(d(e),e)}function d(e){var t=f("div");if(j.win&&j.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(D)[0];if(n){var i=n.childNodes;if(i)for(var a=i.length,r=0;a>r;r++)1==i[r].nodeType&&"PARAM"==i[r].nodeName||8==i[r].nodeType||t.appendChild(i[r].cloneNode(!0))}}return t}function u(e,t,n){var i,a=g(n);if(j.wk&&j.wk<312)return i;if(a)if(typeof e.id==b&&(e.id=n),j.ie&&j.win){var r="";for(var s in e)e[s]!=Object.prototype[s]&&("data"==s.toLowerCase()?t.movie=e[s]:"styleclass"==s.toLowerCase()?r+=' class="'+e[s]+'"':"classid"!=s.toLowerCase()&&(r+=" "+s+'="'+e[s]+'"'));var o="";for(var l in t)t[l]!=Object.prototype[l]&&(o+='<param name="'+l+'" value="'+t[l]+'" />');a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+r+">"+o+"</object>",Y[Y.length]=e.id,i=g(e.id)}else{var c=f(D);c.setAttribute("type",L);for(var d in e)e[d]!=Object.prototype[d]&&("styleclass"==d.toLowerCase()?c.setAttribute("class",e[d]):"classid"!=d.toLowerCase()&&c.setAttribute(d,e[d]));for(var u in t)t[u]!=Object.prototype[u]&&"movie"!=u.toLowerCase()&&_(c,u,t[u]);a.parentNode.replaceChild(c,a),i=c}return i}function _(e,t,n){var i=f("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)}function p(e){var t=g(e);t&&"OBJECT"==t.nodeName&&(j.ie&&j.win?(t.style.display="none",function(){4==t.readyState?h(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function h(e){var t=g(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function g(e){var t=null;try{t=V.getElementById(e)}catch(n){}return t}function f(e){return V.createElement(e)}function E(e,t,n){e.attachEvent(t,n),H[H.length]=[e,t,n]}function T(e){var t=j.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]}function m(e,t,n,i){if(!j.ie||!j.mac){var a=V.getElementsByTagName("head")[0];if(a){var r=n&&"string"==typeof n?n:"screen";if(i&&(C=null,R=null),!C||R!=r){var s=f("style");s.setAttribute("type","text/css"),s.setAttribute("media",r),C=a.appendChild(s),j.ie&&j.win&&typeof V.styleSheets!=b&&V.styleSheets.length>0&&(C=V.styleSheets[V.styleSheets.length-1]),R=r}j.ie&&j.win?C&&typeof C.addRule==D&&C.addRule(e,t):C&&typeof V.createTextNode!=b&&C.appendChild(V.createTextNode(e+" {"+t+"}"))}}}function A(e,t){if(W){var n=t?"visible":"hidden";G&&g(e)?g(e).style.visibility=n:m("#"+e,"visibility:"+n)}}function v(e){var t=/[\\\"<>\.;]/,n=null!=t.exec(e);return n&&typeof encodeURIComponent!=b?encodeURIComponent(e):e}var I,S,y,P,C,R,b="undefined",D="object",N="Shockwave Flash",O="ShockwaveFlash.ShockwaveFlash",L="application/x-shockwave-flash",k="SWFObjectExprInst",M="onreadystatechange",w=window,V=document,U=navigator,x=!1,F=[i],B=[],Y=[],H=[],G=!1,K=!1,W=!0,j=function(){var e=typeof V.getElementById!=b&&typeof V.getElementsByTagName!=b&&typeof V.createElement!=b,t=U.userAgent.toLowerCase(),n=U.platform.toLowerCase(),i=n?/win/.test(n):/win/.test(t),a=n?/mac/.test(n):/mac/.test(t),r=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,s=!1,o=[0,0,0],l=null;if(typeof U.plugins!=b&&typeof U.plugins[N]==D)l=U.plugins[N].description,!l||typeof U.mimeTypes!=b&&U.mimeTypes[L]&&!U.mimeTypes[L].enabledPlugin||(x=!0,s=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),o[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),o[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),o[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof w.ActiveXObject!=b)try{var c=new ActiveXObject(O);c&&(l=c.GetVariable("$version"),l&&(s=!0,l=l.split(" ")[1].split(","),o=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]))}catch(d){}return{w3:e,pv:o,wk:r,ie:s,win:i,mac:a}}();(function(){j.w3&&((typeof V.readyState!=b&&"complete"==V.readyState||typeof V.readyState==b&&(V.getElementsByTagName("body")[0]||V.body))&&e(),G||(typeof V.addEventListener!=b&&V.addEventListener("DOMContentLoaded",e,!1),j.ie&&j.win&&(V.attachEvent(M,function(){"complete"==V.readyState&&(V.detachEvent(M,arguments.callee),e())}),w==top&&!function(){if(!G){try{V.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}e()}}()),j.wk&&!function(){return G?void 0:/loaded|complete/.test(V.readyState)?void e():void setTimeout(arguments.callee,0)}(),n(e)))})(),function(){j.ie&&j.win&&window.attachEvent("onunload",function(){for(var e=H.length,t=0;e>t;t++)H[t][0].detachEvent(H[t][1],H[t][2]);for(var n=Y.length,i=0;n>i;i++)p(Y[i]);for(var a in j)j[a]=null;j=null;for(var r in swfobject)swfobject[r]=null;swfobject=null})}();return{registerObject:function(e,t,n,i){if(j.w3&&e&&t){var a={};a.id=e,a.swfVersion=t,a.expressInstall=n,a.callbackFn=i,B[B.length]=a,A(e,!1)}else i&&i({success:!1,id:e})},getObjectById:function(e){return j.w3?s(e):void 0},embedSWF:function(e,n,i,a,r,s,c,d,_,p){var h={success:!1,id:n};j.w3&&!(j.wk&&j.wk<312)&&e&&n&&i&&a&&r?(A(n,!1),t(function(){i+="",a+="";var t={};if(_&&typeof _===D)for(var g in _)t[g]=_[g];t.data=e,t.width=i,t.height=a;var f={};if(d&&typeof d===D)for(var E in d)f[E]=d[E];if(c&&typeof c===D)for(var m in c)typeof f.flashvars!=b?f.flashvars+="&"+m+"="+c[m]:f.flashvars=m+"="+c[m];if(T(r)){var v=u(t,f,n);t.id==n&&A(n,!0),h.success=!0,h.ref=v}else{if(s&&o())return t.data=s,void l(t,f,n,p);A(n,!0)}p&&p(h)})):p&&p(h)},switchOffAutoHideShow:function(){W=!1},ua:j,getFlashPlayerVersion:function(){return{major:j.pv[0],minor:j.pv[1],release:j.pv[2]}},hasFlashPlayerVersion:T,createSWF:function(e,t,n){return j.w3?u(e,t,n):void 0},showExpressInstall:function(e,t,n,i){j.w3&&o()&&l(e,t,n,i)},removeSWF:function(e){j.w3&&p(e)},createCSS:function(e,t,n,i){j.w3&&m(e,t,n,i)},addDomLoadEvent:t,addLoadEvent:n,getQueryParamValue:function(e){var t=V.location.search||V.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return v(t);for(var n=t.split("&"),i=0;i<n.length;i++)if(n[i].substring(0,n[i].indexOf("="))==e)return v(n[i].substring(n[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(K){var e=g(k);e&&I&&(e.parentNode.replaceChild(I,e),S&&(A(S,!0),j.ie&&j.win&&(I.style.display="block")),y&&y(P)),K=!1}}}}();!function(e){e.Bento=e.Bento||{}}(window),function(e){function t(){function t(t){var n=e.Cookie.read(t.legacyValue)||e.Cookie.getLocalStorage(t.legacyValue)||"";t.cookie&&(n=e.Storage.getCookieContents(t.cookie)||n,e.Storage.saveToCookie(t.cookie,n)),t.localStorage&&(n=e.Storage.getLocalStorage(t.localStorage)||n,e.Storage.saveToLocalStorage(t.localStorage,n))}function n(e){for(var t=Object.keys(e),n={eVar49:"channel",eVar100:"activity",eVar68:"franchise",eVar80:"category"},i="",a={};i=t.pop();)n[i]?a[n[i]]=e[i]:a[i]=e[i];return a}function i(t){var i=t||{};gt(i)&&(i=n(i)),e.onPageEvent(i)}function a(t){var i=t||{};gt(i)&&(i=n(i)),e.onNewPage(i)}function r(){}function s(){for(var e=[{localStorage:"carrot",legacyValue:"vnm_carrot"},{cookie:"uuid",legacyValue:"vmn_uuid"},{cookie:"mobileUuid",legacyValue:"vmn_mobile_uuid"},{cookie:"criteo",legacyValue:"cto_via"},{cookie:"demdex",legacyValue:"vmn_aam"},{localStorage:"isMobile",legacyValue:"btg_mobile"},{localStorage:"deviceType",legacyValue:"btg_device"},{cookie:"thirdParty",legacyValue:"vmn_3pc"},{localStorage:"pointOfEntry",legacyValue:"vnm_poe"},{localStorage:"pointOfEntryFrequency",legacyValue:"vmn_la_freq"},{cookie:"guid",legacyValue:"mtvn_guid"},{localStorage:"bandwidth",legacyValue:"fw_bandwidth"}],n=Qe;n=e.pop();)t(n)}function o(){}function l(e){var t=e.getData()||{};t.omnitureEnabled&&(window.btg.Controller.sendLinkEvent=i,window.btg.Controller.sendPageCall=a,r()),t.hasAds&&o(),s()}var c={};return window.btg=window.btg||{},window.btg.Controller=window.btg.Controller||{},c[d]=l,c}function n(){var t=rn;window.document.addEventListener(t.LOADED_COMPONENT,function(){}),window.document.addEventListener(t.ERROR,function(t){e.onTVEError({code:t.errorCode,message:t.errorMessage})}),window.document.addEventListener(t.CHECKED_STATUS,function(t){e.onTVEStatusCheck(t.TVESubscriber)}),window.document.addEventListener(t.LOGGED_IN,function(t){e.onTVELogin({status:t.status,mvpd:t.mvpdId})}),window.document.addEventListener(t.LOGGED_OUT,function(e){}),window.document.addEventListener(t.SELECTED_PROVIDER,function(t){e.onTVEProviderSelected({mvpd:t.mvpdId})}),window.document.addEventListener(t.PROVIDER_NOT_LISTED_BUTTON_CLICK,function(t){e.onTVEProviderNotListed()}),window.document.addEventListener(t.START_WATCHING_BUTTON_CLICK,function(t){e.onTVEProviderDisplay()}),window.document.addEventListener(t.LEARN_MORE_CLICK,function(e){}),window.document.addEventListener(t.SPECIAL_PREVIEW_SELECTED,function(t){e.onTVEElvisSelected({method:t.method,mvpd:t.mvpdObj})}),window.document.addEventListener(t.SPECIAL_PREVIEW_LOGGED_IN,function(t){e.onTVEElvisLogin({method:t.method,mvpd:t.mvpdObj})}),window.document.addEventListener(t.SPECIAL_PREVIEW_EXPIRED,function(t){e.onTVEElvisExpired(t.mvpdObj)}),window.document.addEventListener(t.SPECIAL_PREVIEW_LOCKED,function(t){e.onTVEElvisLocked(t.mvpdObj)}),window.document.addEventListener(t.FREE_PREVIEW_LOGGED_IN,function(t){e.onTVEFreePreviewLogin()}),window.document.addEventListener(t.FREE_PREVIEW_EXPIRED,function(t){e.onTVEFreePreviewExpired()})}function i(t){var n=$t,i={},a=Je,r=Je,s=0,o=ze,l={},c=1,d=Qe,E=Qe,A=Qe,v=Qe,S=Je,y=function(e,t){return Je},C=0,R={},b=Qe,D=Qe,N=Qe;t&&t.getFirstItemData&&(b=t.getFirstItemData(),A=t.getPlaylistMetadata(),v=t.getIsLive());var O=function(e){return e&&e.getData()?e.getData():{}},U=function(){return 1e3*C},F=function(t){if(!a&&ns_&&ns_.StreamSense){i=new ns_.StreamSense({},n.BASE_URL+"?"+e.Object.toString({c1:n.TYPEID,c2:t.comScorePrimaryID}));var s=ns_.StreamSense.PlayerEvents;y=function(e,t){var n=s[e];t||(r=n===s.PLAY),i.notify(n,{},U())},i&&y&&(a=!0),t.feed.items.length>1&&o&&i.setPlaylist()}return a},B=function(e,t){var n=O(e);return n=n.adPlayhead||n.playhead,At(n)?(C=Math.floor(n),C=t&&0===C?.1:C):!1},Y=function(e){d=O(e)},H=function(e){if(d=d||{},!a||d.isAd)return Je;r=ze,B(e),s=d.itemIndex;var t=d.hasPlaylist&&d.isFullEpisode?d.playlistDuration:d.duration;return v?d.clipTypeId=n.CLIP_LIVE:t>=n.MAX_DURATION?d.clipTypeId=n.CLIP_LONG:d.clipTypeId=n.CLIP_SHORT,l.hasOwnProperty(d.videoId)?d.partIndex=l[d.videoId]:(d.partIndex=c++,l[d.videoId]=d.partIndex),i.setClip(cn.fromMetadata(d,N)),y("PLAY"),o=Je,ze},G=function(e){var t=function(){B(e,!0),r=ze,y("PLAY")};pt(D)||Date.now()-D>500?t():setTimeout(t,500)},K=function(e){B(e),D=Date.now(),y("PAUSE")},W=function(){y("END"),i.resetInstance&&i.resetInstance()},j=function(){o=ze},q=function(e){var t=B(e);return S&&(y("PLAY"),S=Je),t},X=function(e){return B(e)},Q=function(e){E=O(e),pt(d)||(d.isAd=ze)},z=function(e){t.isAdPlaying()&&y(e,!0)},J=function(){pt(E)||pt(A)||(C=0,i.setClip(cn.fromAdMetadata(E,A,c,b,v)),z("PLAY"),c++)},Z=function(){z("END"),i.resetInstance&&i.resetInstance()},$=function(){z("PAUSE")},ee=function(){z("PLAY")},te=function(){r&&(y("PAUSE"),S=ze)},ne=function(e){N=O(e);var t=N.comscoreAdTracking||N.comScoreAdTracking;return t&&(R[x]=X,R[M]=Q,R[L]=J,R[k]=Z,R[V]=$,R[w]=ee),c=1,F(N)};return R[u]=ne,R[_]=Y,R[p]=H,R[m]=q,R[I]=j,R[T]=W,R[P]=W,R[re]=te,R[f]=K,R[g]=K,R[h]=G,R}function a(){function t(){return"https:"===document.location.protocol&&en.SECURE_SUBDOMAIN+s||en.STANDARD_SUBDOMAIN+s}function n(e){var t=e.getData()||{};return a.C3=t.comScoreC3,a.C6=t.comScoreC6,a.C15=t.comScoreC15,ze}function i(){var n=["C1=",en.C1,"&C2=",en.C2,"&C3=",a.C3||en.DEFAULT_C3,"&C4=",en.C4,"&C5=",en.C5,"&C6=",a.C6||en.DEFAULT_C6,"&C15=",a.C15||en.DEFAULT_C5].join(""),i={url:t()+n};return e.DOM.loadScript(i),ze}var a={},r={},s=en.DESTINATION;return r[d]=n,r[fe]=i,r}function r(){function t(){var e="";for(var t in h[tn.MAPPINGS][tn.AD_UNIT])if(h[tn.MAPPINGS][tn.AD_UNIT].hasOwnProperty(t)){p&&(e+="/"),p=!0;var n=h[tn.MAPPINGS][tn.AD_UNIT][t];if(!Tt(n)){e="";break}if(n.charAt(0)===dt){var i=h[tn.METADATA][n.substring(1)];if(!Tt(i)){e="";break}n=i}e+=n}h[tn.METADATA][tn.IS_MAIN]&&(e+="/"+tn.INDEX_PAGE_ADUNIT_SUFFIX),Tt(e)&&(_.adUnit=e)}function n(){var e="";p=Tt(_.keyValues);for(var t in h[tn.MAPPINGS][tn.KEY_VALUES])if(h[tn.MAPPINGS][tn.KEY_VALUES].hasOwnProperty(t)){p&&(e+=";"),p=ze;var n=h[tn.MAPPINGS][tn.KEY_VALUES][t];if(n.charAt(0)===dt){var i=h[tn.METADATA][n.substring(1)];if(!Tt(i)&&!At(i))continue;n=i}e+=t+"="+n}Tt(e)&&(Tt(_.keyValues)?_.keyValues+=e:_.keyValues=e)}function i(){ht(window.vmn_page_data)&&(h=window.vmn_page_data,t(),n(),Tt(h[tn.MAPPINGS][tn.EXCLUSION_CATEGORIES])&&(_.exclusionCategories=h[tn.MAPPINGS][tn.EXCLUSION_CATEGORIES]),ht(h[tn.SETTINGS])&&h[tn.SETTINGS][tn.SETTINGS_DISABLE_AUTO_SLOTS])}function a(e,t){if(Tt(e))e=e.split(";");else if(!It(e))return;ht(t)||(t={});for(var n=0,i=e.length;i>n;n++){var a=e[n];if(-1!==a.indexOf("=")){a=a.split("=");var r=a[0],s=a[1].split(",");if(t[r])for(var o=0,l=s.length;l>o;o++)t[r].push(s[o]);else t[r]=s}}return t}function r(e){Tt(e)&&window.googletag.cmd.push(function(){window.googletag.display(e)})}function s(e){var t=e.id;!function(e){var n=e.getAttribute("data-ad-unit");if(!Tt(n)&&Tt(_.adUnit)){n=_.adUnit,n=n.split("/"),n[0]+="_web",n.unshift("8675"),n=n.join("/"),n=n.replace(/'|,|"|~|@|#|\$|%|\^|&|\?|\{|\}|\[|\]|\|/g,""),n=n.replace(/\s/g,"_").toLowerCase();var i=[],a=e.getAttribute("data-ad-keyValues");Tt(a)&&(i=a.split(";"));var r=e.getAttribute("data-ad-sizes");if(Tt(r)){r=r.indexOf(";")>0?r.split(";"):r.split(",");for(var s=0,o=r.length;o>s;s++){var l=r[s].split("x");l[0]=parseInt(l[0]),l[1]=parseInt(l[1]),r[s]=l}}window.googletag.cmd.push(function(){var a=window.googletag.defineSlot(n,r,t).addService(window.googletag.pubads());a.el=e;for(var s=0;s<i.length;s++){var o=i[s].split("=");o.length<2||a.setTargeting(o[0],o[1])}})}}(e)}function o(e,t){var n=ht(t)?t:Tt(t)?document.getElementById(t):null;if(ht(n)&&ht(e)){var i=e.size.replace(/, /g,"_");i="bento_ad_"+i+"_9495";var a=document.createElement("div");if(a.id=i,!Tt(e.size))return;a.setAttribute("data-ad-sizes",e.size),Tt(e.adUnit)&&a.setAttribute("data-ad-unit",e.adUnit),Tt(e.keyValues)&&a.setAttribute("data-ad-keyValues",e.keyValues);try{n.appendChild(a)}catch(r){}return s(a),a.id}}function l(e,t){window.googletag.cmd.push(function(){window.googletag.pubads().setTargeting(e,t)})}function c(e){window.googletag.cmd.push(function(){window.googletag.pubads().setCategoryExclusion(e)})}function d(t){if(ht(window.googletag)&&It(window.googletag.cmd))window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];else{window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var n={url:tn.DESTINATION,async:ze};e.DOM.loadScript(n)}var s=t.getData(),d=s.obj,u=s.adContainer;i();var p=[];Tt(_.keyValues)&&(p=a(_.keyValues,p));for(var h in p)if(p.hasOwnProperty(h)){var g=h,f=p[h];l(g,f)}if(Tt(_.exclusionCategories)){window.googletag.cmd.push(function(){window.googletag.pubads().clearCategoryExclusions()});var E=_.exclusionCategories.split(",");for(var T in E)if(E.hasOwnProperty(T)){var m=E[T];c(m)}}var A=o(d,u);window.googletag.cmd.push(function(){window.googletag.pubads().collapseEmptyDivs(),window.googletag.pubads().enableAsyncRendering(),window.googletag.pubads().enableSingleRequest(),window.googletag.enableServices(),r(A)})}var u={},_={},p=Je,h=Qe;return u[Fe]=d,u}function s(){function t(e){var t=e.getData()||{},s=t.data,o=t.topic,l={};return n(s)?(l.data={events:[s]},l.url=i+(o||nn.DEFAULT_TOPIC),l.contentType=r,a(l),ze):Je}var n=e.Object.isValidJSON,i=nn.DESTINATION,a=e.HttpRequest.sendPOSTRequest,r="application/json",s={};return s[Pe]=t,s}function o(){function t(){for(var e=gt(V.contextData)&&Object.keys(V.contextData)||[],t="",n="";t=x.pop();)l(t,"");for(;n=e.pop();)delete V.contextData[n]}function n(e){return Tt(e)||(e=V.pageName||G.defaultPageName||Jt()),G.removePageNameSlashes&&e.charAt(0)===$e&&(e=e.substring(1)),e}function i(e){var t=jt();return e?e:t===$e?K.NO_CHANNEL:t.split($e)[1]}function a(){e.Cookie.read("v.newRepeat");return"Repeat"}function r(e){return j.indexOf(e)>-1}function s(){return B[ge]=f,B[fe]=E,B[Ee]=T,B[Te]=m,B[me]=A,B[ve]=v,B[Ie]=I,B[Se]=h,B[ye]=g,B[be]=S,B[Re]=y,B[xe]=C,B[De]=b,B[Ce]=P,B[Ne]=R,B[Oe]=D,B[Le]=N,B[ke]=O,B[Me]=L,B[we]=k,B[Ve]=M,B[Ue]=w,ze}function o(){return B[ge]=Ze,B[fe]=Ze,B[Ee]=Ze,B[Te]=Ze,B[me]=Ze,B[ve]=Ze,B[Ie]=Ze,B[Se]=Ze,B[ye]=Ze,B[be]=Ze,B[Re]=Ze,B[xe]=Ze,B[De]=Ze,B[Ce]=Ze,B[Ne]=Ze,B[Oe]=Ze,B[Le]=Ze,B[ke]=Ze,B[Me]=Ze,B[we]=Ze,B[Ve]=Ze,B[Ue]=Ze,ze}function l(e,t){return V[e]=t||"",ze}function c(e){return q(),t(),e&&(W=e),ze}function u(e,n){return V.trackExternalLinks=Je,X(e,"o",Wt),t(),n&&(W=n),G.trackExternalLinks&&setTimeout(function(){V.trackExternalLinks=ze},0),ze}function _(){var t=Visitor.getInstance(an.MARKETING_CLOUD_ORG_ID);return V=new AppMeasurement,U=V.contextData,q=V.t,X=V.tl,V.setAccount(G.account),kt||yt(G.enableFirstPartyCookie)?V.trackingServer=t.trackingServer=e.Environment.getCnamedDomain():e.Config.omnitureRDCenabled&&(V.trackingServer=t.trackingServer=G.account.split(tt)[0]+an.THIRD_PARTY_SUB_DOMAIN),V.visitor=t,yt(G.enableVisitorNamespace)&&(V.visitorNamespace=an.VISITOR_NAMESPACE),ze}function p(e){var n=e.getData();return Tt(n.omnitureAccount)?(G={account:n.omnitureAccount,franchise:n.omnitureFranchise,indexFileName:n.omnitureIndexFileName,defaultPageName:n.omnitureDefaultPageName,isCOPPACompliant:n.requireCOPPACompliance,defaultHierarchy:n.omnitureDefaultHierarchy,removePageNameSlashes:n.omnitureRemovePageSlashes,enableVisitorNamespace:n.omnitureEnableVisitorNamespace,enableFirstPartyCookie:n.omnitureEnableFirstPartyCookie,enableLinkCallPrediction:n.omnitureEnableLinkCallPrediction},Y={},t(),s(),_(),ze):(o(),Je)}function h(e){var t=gt(H.unassigned)&&Object.keys(H.unassigned)||Je,n="";if(F=e.getData().namespace||Je,!t)return ze;for(H.namespaced=H.namespaced||{};n=t.pop();)H.namespaced[F+n]=H.unassigned[n];return ze}function g(e){var t=e.getData()||{},n=t.name,i=t.value;if(!n)return Je;switch(ze){case r(n):H[n]=i;break;case Tt(F):H.namespaced=H.namespaced||{},H.namespaced[F+n]=i;break;default:H.unassigned=H.unassigned||{},H.unassigned[n]=i}return ze}function f(){}function E(t){var r=t&&t.getData()||{},s=n(r.pageName),o=Object.keys(r)||[],d=H.namespaced&&Object.keys(H.namespaced)||[],u="";for(H.franchise=r.franchise||K.NO_FRANCHISE,H.category=r.category||K.NO_CATEGORY,H.channel=i(r.channel),r.activity?U[K.ACTIVITY_CONTEXT]=r.activity:U[K.ACTIVITY_CONTEXT]=K.PAGE_VIEW_ACTIVITY,l(K.PAGENAME_PROPERTY,s),U[K.CHANNEL_CONTEXT]=H.channel,U[K.FRANCHISE_CONTEXT]=H.franchise,U[K.CATEGORY_CONTEXT]=H.category,U[K.UUID_CONTEXT]=e.Cookie.read(K.UUID_CONTEXT)||K.NO_UUID,U[K.PAGE_VIEW_CONTEXT]=ze,U[K.SITE_ID_CONTEXT]=window.location.hostname,U[K.THIRD_PARTY_CONTEXT]=!e.Cookie.read(K.THIRD_PARTY_COOKIE),U[K.REPEAT_USER_CONTEXT]=a(),U[K.TIMESTAMP_CONTEXT]=(new Date).getTime(),U[K.DAY_OF_WEEK_CONTEXT]=e.Now.getDayOfTheWeek(),U[K.HOUR_OF_DAY_CONTEXT]=e.Now.getTimeWithAbbreviation();u=o.pop();)V[u]=r[u];for(;u=d.pop();)U[u]=H.namespaced[u];return V[K.LEGACY_DAY_OF_WEEK_VAR]=V[K.LEGACY_DAY_OF_WEEK_PROP]=e.Now.getDayOfTheWeek(),V[K.LEGACY_TIME_VAR]=V[K.LEGACY_TIME_PROP]=e.Now.getTimeWithAbbreviation(),V[K.LEGACY_CHANNEL_VAR]=V.eVar49=H.channel,c(s),ze}function T(e){}function m(e){}function A(t){var a=t.getData()||{},r=a.franchise||H.franchise,s=a.channel||H.channel,o=a.success,d=a.suggestionHappened,u=a.suggestionClicked,_=a.typeAheadClicked,p=a.searchTerm,h=n(a.pageName);return l(K.PAGENAME_PROPERTY,h),ft(o)?U[K.SEARCH_RESULT_CONTEXT]=K.GENERIC_NOT_SET:U[K.SEARCH_RESULT_CONTEXT]=o&&K.SUCCESS||K.FAILED,ft(d)||Pt(d)?U[K.SEARCH_DID_YOU_MEAN_CONTEXT]=K.NO_SEARCH_DID_YOU_MEAN:U[K.SEARCH_DID_YOU_MEAN_CONTEXT]=u&&K.YES+tt+K.YES||K.YES+tt+K.NO,
ft(_)?U[K.SEARCH_TYPEAHEAD_CONTEXT]=K.NO_SEARCH_TYPEAHEAD:U[K.SEARCH_TYPEAHEAD_CONTEXT]=_&&K.CONTEXT_VALUE_TRUE||K.CONTEXT_VALUE_FALSE,U[K.LAST_PAGENAME_CONTEXT]=W||K.NOT_APPLICABLE,U[K.FRANCHISE_CONTEXT]=r||K.NO_FRANCHISE,U[K.CHANNEL_CONTEXT]=i(s),U[K.TIMESTAMP_CONTEXT]=(new Date).getTime(),U[K.PAGE_VIEW_CONTEXT]=ze,U[K.UUID_CONTEXT]=e.Cookie.read(K.UUID_CONTEXT)||K.NO_UUID,U[K.SEARCH_TERM_CONTEXT]=p||K.NO_SEARCH_TERM,U[K.ACTIVITY_CONTEXT]=K.SEARCH_ACTIVITY,c(h),ze}function v(t){var a=t.getData()||{},r=a.franchise||H.franchise,s=a.channel||H.channel,o=a.success,c=n(a.pageName);return l(K.PAGENAME_PROPERTY,c),U[K.LAST_PAGENAME_CONTEXT]=W||K.NOT_APPLICABLE,U[K.FRANCHISE_CONTEXT]=r||K.NO_FRANCHISE,U[K.CHANNEL_CONTEXT]=i(s),U[K.TIMESTAMP_CONTEXT]=(new Date).getTime(),U[K.UUID_CONTEXT]=e.Cookie.read(K.UUID_CONTEXT)||K.NO_UUID,U[K.SEARCH_CONVERSION_CONTEXT]=o&&K.CONTEXT_VALUE_TRUE||K.CONTEXT_VALUE_FALSE,U[K.ACTIVITY_CONTEXT]=K.SEARCH_CONVERSION_ACTIVITY,u(K.SEARCH_CONVERSION_ACTIVITY),ze}function I(e){}function S(e){var t=e.getData()||{};return gt(t.provider)&&(Y.providerName=t.provider.displayName||t.provider.id,U[K.TVE_MVPD_CONTEXT]=Y.providerName),U[K.TVE_USER_STATUS_CONTEXT]=t.isLoggedIn&&K.AUTHENTICATED_TVE_USER||K.UNAUTHENTICATED_TVE_USER,U[K.TIMESTAMP_CONTEXT]=(new Date).getTime(),U[K.ACTIVITY_CONTEXT]=K.TVE_AUTH_CHECK_ACTIVITY,u(K.TVE_AUTH_CHECK_ACTIVITY),ze}function y(e){var t=e.getData()||{},a=t.channel||H.channel,r=n(t.pageName);return Y.mostRecentLoginStep=K.ERROR_TVE_STEP,Tt(Y.providerName)&&(U[K.TVE_MVPD_CONTEXT]=Y.providerName),l(K.PAGENAME_PROPERTY,r),U[K.FRANCHISE_CONTEXT]=H.franchise||K.NO_FRANCHISE,U[K.CHANNEL_CONTEXT]=i(a),U[K.TVE_ERROR_CODE_CONTEXT]=t.code||K.NO_TVE_ERROR_CODE,U[K.TVE_STEP_OF_LOGIN_FLOW]=Y.mostRecentLoginStep,U[K.TIMESTAMP_CONTEXT]=(new Date).getTime(),U[K.ACTIVITY_CONTEXT]=K.TVE_ERROR_ACTIVITY,u(K.TVE_ERROR_ACTIVITY,r),ze}function P(){return Y.mostRecentLoginStep=K.WELCOME_SCREEN_TVE_STEP,Tt(Y.providerName)&&(U[K.TVE_MVPD_CONTEXT]=Y.providerName),U[K.FRANCHISE_CONTEXT]=H.franchise||K.NO_FRANCHISE,U[K.ACTIVITY_CONTEXT]=K.TVE_WELCOME_SCREEN_ACTIVITY,U[K.TVE_STEP_OF_LOGIN_FLOW]=Y.mostRecentLoginStep,u(K.TVE_WELCOME_SCREEN_ACTIVITY),ze}function C(){var e=n(),t=H.channel;return Y.mostRecentLoginStep=K.LOGIN_START_TVE_STEP,l(K.PAGENAME_PROPERTY,e),U[K.CHANNEL_CONTEXT]=i(t),U[K.TVE_STEP_OF_LOGIN_FLOW]=Y.mostRecentLoginStep,U[K.TIMESTAMP_CONTEXT]=(new Date).getTime(),U[K.ACTIVITY_CONTEXT]=K.TVE_LOGIN_START_ACTIVITY,u(K.TVE_LOGIN_START_ACTIVITY,e),ze}function R(e){var t=e.getData()||{},a=t.mvpd,r=t.channel||H.channel,s=n(t.pageName);return Y.mostRecentLoginStep=K.PROVIDER_SELECTED_TVE_STEP,Tt(a)&&(Y.providerName=a,U[K.TVE_MVPD_CONTEXT]=Y.providerName),l(K.PAGENAME_PROPERTY,s),U[K.FRANCHISE_CONTEXT]=H.franchise||K.NO_FRANCHISE,U[K.CHANNEL_CONTEXT]=i(r),U[K.ACTIVITY_CONTEXT]=K.TVE_PROVIDER_SELECTED_ACTIVITY,U[K.TVE_STEP_OF_LOGIN_FLOW]=Y.mostRecentLoginStep,U[K.TIMESTAMP_CONTEXT]=(new Date).getTime(),u(K.TVE_PROVIDER_SELECTED_ACTIVITY,s),ze}function b(e){var t=e.getData()||{},a=t.mvpd,r=t.channel||H.channel,s=n(t.pageName);return Y.mostRecentLoginStep=K.SUCCESSFUL_LOGIN_TVE_STEP,Tt(a)&&(Y.providerName=a),U[K.TVE_MVPD_CONTEXT]=Y.providerName||K.NO_TVE_PROVIDER,U[K.CHANNEL_CONTEXT]=i(r),U[K.TVE_USER_STATUS_CONTEXT]=K.AUTHENTICATED_TVE_USER,U[K.TVE_STEP_OF_LOGIN_FLOW]=Y.mostRecentLoginStep,U[K.TIMESTAMP_CONTEXT]=(new Date).getTime(),U[K.ACTIVITY_CONTEXT]=K.TVE_LOGIN_COMPLETE_ACTIVITY,u(K.TVE_LOGIN_COMPLETE_ACTIVITY,s),ze}function D(){var e=n(),t=H.channel;return Y.mostRecentLoginStep=K.PROVIDER_NOT_LISTED_TVE_STEP,l(K.PAGENAME_PROPERTY,e),U[K.FRANCHISE_CONTEXT]=H.franchise||K.NO_FRANCHISE,U[K.CHANNEL_CONTEXT]=i(t),U[K.TVE_STEP_OF_LOGIN_FLOW]=Y.mostRecentLoginStep,U[K.TIMESTAMP_CONTEXT]=(new Date).getTime(),U[K.ACTIVITY_CONTEXT]=K.TVE_PROVIDER_NOT_LISTED_ACTIVITY,u(K.TVE_PROVIDER_NOT_LISTED_ACTIVITY,e),ze}function N(e){var t=e.getData()||{},a=t.channel||H.channel,r=n(t.pageName);return l(K.PAGENAME_PROPERTY,r),gt(t.mvpd)&&(Y.providerName=t.mvpd.displayName||t.mvpd.id),Tt(t.method)?(Y.mostRecentLoginStep=K.SOCIAL_LOGIN_SELECTED_TVE_STEP.replace(/{METHOD}/,t.method),U[K.TVE_SOCIAL_METHOD_CONTEXT]=t.method):(Y.mostRecentLoginStep=K.SOCIAL_LOGIN_SELECTED_TVE_STEP.replace(/{METHOD}/,K.NO_TVE_SOCIAL_METHOD),U[K.TVE_SOCIAL_METHOD_CONTEXT]=K.NO_TVE_SOCIAL_METHOD),U[K.FRANCHISE_CONTEXT]=H.franchise||K.NO_FRANCHISE,U[K.TVE_MVPD_CONTEXT]=Y.providerName||K.NO_TVE_PROVIDER,U[K.CHANNEL_CONTEXT]=i(a),U[K.TVE_STEP_OF_LOGIN_FLOW]=Y.mostRecentLoginStep,U[K.TIMESTAMP_CONTEXT]=(new Date).getTime(),U[K.ACTIVITY_CONTEXT]=K.TVE_SOCIAL_LOGIN_SELECTED_ACTIVITY,u(K.TVE_SOCIAL_LOGIN_SELECTED_ACTIVITY,r),ze}function O(e){var t=e.getData()||{},a=t.channel||H.channel,r=n(t.pageName);return l(K.PAGENAME_PROPERTY,r),gt(t.mvpd)&&(Y.providerName=t.mvpd.displayName||t.mvpd.id),Tt(t.method)?(Y.mostRecentLoginStep=K.SOCIAL_LOGIN_SUCCEEDED_TVE_STEP.replace(/{METHOD}/,t.method),U[K.TVE_SOCIAL_METHOD_CONTEXT]=t.method):(Y.mostRecentLoginStep=K.SOCIAL_LOGIN_SUCCEEDED_TVE_STEP.replace(/{METHOD}/,K.NO_TVE_SOCIAL_METHOD),U[K.TVE_SOCIAL_METHOD_CONTEXT]=K.NO_TVE_SOCIAL_METHOD),U[K.FRANCHISE_CONTEXT]=H.franchise||K.NO_FRANCHISE,U[K.TVE_MVPD_CONTEXT]=Y.providerName||K.NO_TVE_PROVIDER,U[K.CHANNEL_CONTEXT]=i(a),U[K.TVE_STEP_OF_LOGIN_FLOW]=Y.mostRecentLoginStep,U[K.TVE_USER_STATUS_CONTEXT]=K.ELVIS_AUTHENTICATED_USER,U[K.TIMESTAMP_CONTEXT]=(new Date).getTime(),U[K.ACTIVITY_CONTEXT]=K.TVE_SOCIAL_LOGIN_SUCCEEDED_ACTIVITY,u(K.TVE_SOCIAL_LOGIN_SUCCEEDED_ACTIVITY,r),ze}function L(e){var t=e.getData()||{},a=t.channel||H.channel,r=n(t.pageName);return l(K.PAGENAME_PROPERTY,r),Y.mostRecentLoginStep=K.SOCIAL_LOGIN_EXPIRED_TVE_STEP,gt(t.mvpd)&&(Y.providerName=t.mvpd.displayName||t.mvpd.id),U[K.TVE_MVPD_CONTEXT]=Y.providerName||K.NO_TVE_PROVIDER,U[K.CHANNEL_CONTEXT]=i(a),U[K.TVE_STEP_OF_LOGIN_FLOW]=Y.mostRecentLoginStep,U[K.TVE_USER_STATUS_CONTEXT]=K.ELVIS_EXPIRED_USER,U[K.TIMESTAMP_CONTEXT]=(new Date).getTime(),U[K.ACTIVITY_CONTEXT]=K.TVE_SOCIAL_LOGIN_EXPIRED_ACTIVITY,u(K.TVE_SOCIAL_LOGIN_EXPIRED_ACTIVITY,r),ze}function k(e){var t=e.getData()||{},a=t.channel||H.channel,r=n(t.pageName);return l(K.PAGENAME_PROPERTY,r),Y.mostRecentLoginStep=K.SOCIAL_LOGIN_LOCKED_TVE_STEP,gt(t.mvpd)&&(Y.providerName=t.mvpd.displayName||t.mvpd.id),U[K.TVE_MVPD_CONTEXT]=Y.providerName||K.NO_TVE_PROVIDER,U[K.CHANNEL_CONTEXT]=i(a),U[K.TVE_STEP_OF_LOGIN_FLOW]=Y.mostRecentLoginStep,U[K.TVE_USER_STATUS_CONTEXT]=K.ELVIS_LOCKED_USER,U[K.TIMESTAMP_CONTEXT]=(new Date).getTime(),U[K.ACTIVITY_CONTEXT]=K.TVE_SOCIAL_LOGIN_LOCKED_ACTIVITY,u(K.TVE_SOCIAL_LOGIN_LOCKED_ACTIVITY,r),ze}function M(){return Y.mostRecentLoginStep=K.TWENTY_FOUR_HOUR_LOGIN_TVE_STEP,Tt(Y.providerName)?U[K.TVE_MVPD_CONTEXT]=K.TWENTY_FOUR_HOUR_MVPD.replace(/{PROVIDER}/,Y.providerName):U[K.TVE_MVPD_CONTEXT]=K.NO_TVE_PROVIDER,U[K.ACTIVITY_CONTEXT]=K.TVE_TWENTY_FOUR_HOUR_PREVIEW_LOGIN_ACTIVITY,U[K.TVE_STEP_OF_LOGIN_FLOW]=Y.mostRecentLoginStep,U[K.TVE_USER_STATUS_CONTEXT]=K.TWENTY_FOUR_HOUR_LOGGED_IN_USER,U[K.TIMESTAMP_CONTEXT]=(new Date).getTime(),u(K.TVE_TWENTY_FOUR_HOUR_PREVIEW_LOGIN_ACTIVITY),ze}function w(){return Y.mostRecentLoginStep=K.TWENTY_FOUR_HOUR_EXPIRED_TVE_STEP,Tt(Y.providerName)?U[K.TVE_MVPD_CONTEXT]=K.TWENTY_FOUR_HOUR_MVPD.replace(/{PROVIDER}/,Y.providerName):U[K.TVE_MVPD_CONTEXT]=K.NO_TVE_PROVIDER,U[K.ACTIVITY_CONTEXT]=K.TVE_TWENTY_FOUR_HOUR_PREVIEW_EXPIRED_ACTIVITY,U[K.TVE_STEP_OF_LOGIN_FLOW]=Y.mostRecentLoginStep,U[K.TVE_USER_STATUS_CONTEXT]=K.TWENTY_FOUR_HOUR_EXPIRED_USER,U[K.TIMESTAMP_CONTEXT]=(new Date).getTime(),u(K.TVE_TWENTY_FOUR_HOUR_PREVIEW_EXPIRED_ACTIVITY),ze}var V={},U=Qe,x=[],F=Je,B={},Y={},H={},G=Qe,K=an,W="",j=["franchise","category","channel"],q=Ze,X=Ze;return B[d]=p,o(),B}function l(){function t(e){return St(i.isAdBlocking)?void i.isAdBlocking(function(t){return e(!!t)}):e(Je)}function n(){return t(function(t){yt(t)&&e[Ae]()}),!r&&St(i.pageChange)?(i.pageChange(),ze):(r=Je,Je)}var i=window._sp_||{},a={},r=ze,s="getAdBlockingStatus";return a[fe]=n,a[s]=t,a}e.version="1.9.0-20";var c="onPlayerFeedLoaded",d="onConfigReady",u="onPlayerConfigReady",_="onMetadata",p="onPlayStart",h="onResumePlay",g="onPause",f="onSeekStart",E="onBuffering",T="onPlayEnd",m="onPlayheadUpdate",A="onPlayIndexChanged",v="onFullScreenChange",I="onPlaylistComplete",S="onUiStateChange",y="onVolumeChange",P="onDestroy",C="onAdError",R="onAdTimeout",b="onIsTimeForAnAd",D="onAdLoaded",N="onAdPodPlayStart",O="onAdPodPlayEnd",L="onAdPlayStart",k="onAdPlayEnd",M="onAdMetadata",w="onAdUnPause",V="onAdPause",U="onAdClick",x="onAdPlayheadUpdate",F="onAdBridgeReady",B="onAdBridgeMultiLoaded",Y="onAdRenderer",H="onAdRequested",G="onAdRequestCompleted",K="onAdBreakTimeout",W="onAdStop",j="onAdManagerDestroyed",q="onAdBreakReady",X="onAdBreakNotAvailable",Q="onAdSkipped",z="onAdPlayRequest",J="onPageEvent",Z="onAAMDataReady",$="onVMNUUID",ee="onDemdexSegment",te="onADMSTrackingServer",ne="onUserSegment",ie="onADMSVisitorID",ae="onReplay",re="onBufferStall",se="onPlayerResize",oe="onWindowResize",le="onImaJsSdkLoaded",ce="onAdsManagerReady",de="onFlashPluginStatus",ue="onContentResumeRequested",_e="onAdBufferStart",pe="onAdBufferStop",he="onReportAdError",ge="onDestroyPage",fe="onNewPage",Ee="onShare",Te="onFavorite",me="onSearch",Ae="onAdBlocking",ve="onSearchConversion",Ie="onDeepLink",Se="setCustomReportingNamespace",ye="onCustomData",Pe="sendMegabeaconData",Ce="onTVEWelcome",Re="onTVEError",be="onTVEStatusCheck",De="onTVELogin",Ne="onTVEProviderSelected",Oe="onTVEProviderNotListed",Le="onTVEElvisSelected",ke="onTVEElvisLogin",Me="onTVEElvisExpired",we="onTVEElvisLocked",Ve="onTVEFreePreviewLogin",Ue="onTVEFreePreviewExpired",xe="onTVEProviderDisplay",Fe="createAd",Be="[Bento] ",Ye="http://media.mtvnservices.com/edge/bento/miso.1.4.16.swf",He="object",Ge="function",Ke="string",We="number",je="boolean",qe="undefined",Xe="array",Qe=null,ze=!0,Je=!1,Ze=function(){},$e="/",et="&",tt=",",nt=".",it="?",at="=",rt=":",st=";",ot=" ",lt="+",ct="|",dt="@",ut="{}",_t=function(){return e.Config&&e.Config.debugMode?ze:Je},pt=function(e){return e===Qe},ht=function(e){return typeof e===He},gt=function(e){return typeof e===He&&e!==Qe},ft=function(e){return typeof e===qe},Et=function(e){return!ft.apply(this,arguments)},Tt=function(e){return typeof e===Ke&&""!==e},mt=function(e,t){return Tt(e)?e:t},At=function(e){return typeof e===We},vt=function(e){return typeof e===je},It=function(e){return Array.isArray(e)},St=function(e){return typeof e===Ge},yt=function(e){return e===ze||"true"===e},Pt=function(e){return e===Je||"false"===e},Ct=function(e,t){return Et(e)?e:t},Rt=St(Date.now)?Date.now:function(){return(new Date).getTime()},bt=function(){return!ft(window.performance)&&window.performance.now()||Qe},Dt=Je,Nt=Je,Ot=Je,Lt=Je,kt=Je,Mt=Je,wt=Je,Vt="com.br,co.uk,co.hu,co.il,com.tr,com.pl,com.ru,co.kr,com.au,co.nz,com.tw",Ut="Network Player",xt=function(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return ze}catch(t){return navigator.mimeTypes&&!ft(navigator.mimeTypes["application/x-shockwave-flash"])&&!ft(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)&&ze}return Je},Ft=function(e){return gt(e)&&yt(e.flashHLSEnabled)||yt(e.jsHLSEnabled)},Bt=(typeof navigator===He&&navigator.userAgent&&/Android|iPhone|iPad|iPod|IEMobile|Opera Mini|BlackBerry/i.test(navigator.userAgent),"0px"),Yt="px",Ht="absolute",Gt=".pjs.hide-gui .edge-gui, .edge-player.hide-gui .pjs-gui { display: none; }",Kt="hide-gui",Mt=Je,Wt=window.location!==window.parent.location?document.referrer:window.top.document.location.href,jt=function(){return window.location.pathname||$e},qt=function(){return window.location.search||it},Xt=function(){return document.cookie},Qt=function(e){document.cookie=e},zt=function(){return document.referrer},Jt=function(){return document.title};e.AdVars={VIDEO_PLAYED_TIME:"mtvn_btg_videoPlayedTime",LAST_PLAYTIME_CODE:"mtvn_btg_lastPlayTimeCode",AD_BRIDGE_ID:"_BENTO_AD_BRIDGE-ima-ad",AD_PLACE_HOLDER_ID:"fw_placeholder"},e.AppMeasureVars={URL_LIMIT:1024,DEFAULT_ITEM_INDEX:0,VISITOR_NAMESPACE:"mtvn",TRAFFIC_VAR_LIMIT:75,MIN_DURATION:30,MAX_DURATION:120,NETWORK_PATH:"video/net/",SYNDICATED_PATH:"video/syn/",VIRAL_PATH:"video/syn/",VIDEOAD_TITLE:"VIDEO_AD|",VIDEOITEM_EVENT:"event15",ADITEM_EVENT:"event29",PLAYLIST_START:"event24",BUFFER_EVENT:"event25",PLAYLIST_DURATION:"event26",PLAYLIST_LENGTH:"event28",SINGLECLIP_EVENT:"event50",PLAYLIST_EVENT:"event49",FRANCHISE_TITLE:"prop35",EVENTS:"events",PRODUCTS:"products",SEMICOLONS:";;;;",PLAYLIST_ITEM:"PLAYLIST",SINGLECLIP_ITEM:"SINGLECLIP",MEDIA_NAME:"eVar33,prop50",MEDIA_TIMEPLAYED:"event78",MEDIA_COMPLETE:"event76",MEDIA_SEGMENTVIEW:"event77",MEDIA_SEGMENTEVAR:"eVar56",MEDIA_SEGMENTEVAR_DEMDEX:"evar57eventsproductspagenamehier",MEDIA_PLAYLIST_COMPLETE:"event89",DURATION_EVENT:"event46",AD_START_EVENT:"event71",AD_END_EVENT:"event72",AD_BUMPER_START_EVENT:"event31",AD_BUMPER_END_EVENT:"event32",AD_TIME_SPENT:"event73",AD_POD_ID:"eVar38,prop54",AD_CREATIVE_ID:"eVar37,prop53",AD_POD_ITEMS:"eVar39,prop55",AD_VIDEO_TITLE:"Ad Play",LIVE_BEACON_FREQ:180,LIVE_FREQ_MAX:180,LIVE_FREQ_MIN:60,LIVE_DURATION:86400,LIVE_EVENT_START_PLAYHEAD:432e4,VMN_UUID_COOKIE:"vmn_uuid",USER_SEG_CATEGORY:"User Segment;",DEFAULT_TRACK_SECONDS:60,LOCKED:"Locked",UNLOCKED:"Unlocked",TRACKED98:"tracked98",TRACKED50:"tracked50",TRACKED:"tracked",DEFAULT_VARS:{pageName:"pageName",eVar26:"franchise",eVar27:"mtvnOwner",eVar28:"mediaCategory",eVar29:"artistName",eVar30:"applicationOrigin",eVar31:"applicationName",eVar32:"applicationContext",eVar33:"videoTitle",eVar34:"playlistTitle",eVar48:"tveAuthStatus",eVar56:"segmentName",eVar66:"playlistId",events:"events",products:"products",prop35:"mediaTitle",prop36:"franchise",prop38:"mtvnOwner",prop43:"playlistTitle",prop45:"mediaCategory",prop46:"artistName",prop47:"applicationOrigin",prop48:"applicationName",prop49:"applicationContext",prop50:"videoTitle",prop1:"agreement",prop3:"agreementId",prop30:"guid",eVar57:"vmnUUID",prop31:"userSegment",prop66:"playlistId",eVar71:"linearPubDate",eVar72:"episodeN",eVar73:"seasonN",prop59:"linearPubDate",prop60:"episodeN",prop61:"seasonN"},DEFAULT_AD_VARS:{eVar37:"creativeId",prop53:"creativeId",eVar38:"podId",prop54:"podId",eVar39:"currentAdIndex",prop55:"currentAdIndex"},DEFAULT_NETWORK_PLAYER_NAME:"NETWORK_PLAYER",DEFAULT_VIRAL_PLAYER_NAME:"VIRAL_PLAYER",DEFAULT_PARTNER_PLAYER_NAME:"PARTNER_PLAYER",NO_VID_TITLE:"NO_VID_TITLE",POD_START_EVENT:"event70",POD_COMPLETE_EVENT:"event75",NO_APPLICATION_NAME:"NAME_UNSET",NO_APPLICATION_CONTEXT:"CONTEXT_UNSET",NO_APPLICATION_ORIGIN:"ORIGIN_UNSET",TVE_AUTH_USER:"TVE Authenticated User",GUEST_USER:"Guest User",TVE_GUEST_TO_AUTH:"event42",TVE_AUTH_TO_GUEST:"event43",TVE_USER_AUTH_CHECK_SUCCESS:"event56",AD_PLAY_REQUEST_TIMEOUT:"event106",AD_BREAK_START_TIMEOUT:"event107",AD_STARTED_TIMEOUT:"event108",INTRA_AD_TIMEOUT:"event109",AGGREGATE_TIMEOUT:"event110",BENTO_CONFIG_NOT_AVAILABLE:"event111",HEART_BEAT_TRACKING_SERVER:"mtv.hb.omtrdc.net",MARKETING_CLOUD_ORG_ID:"ED7001AC512D2ABD0A490D4C@AdobeOrg",SEGMENT_START_ACTIVITY:"segStart",SEGMENT_END_ACTIVITY:"segComplete",EPISODE_END_ACTIVITY:"fepComplete",CLIP_END_ACTIVITY:"clipComplete",ACTIVITY_CONTEXT_VARIABLE:"v.activity"},e.ComscoreVars={BEACON_URL:"//beacon.securestudies.com/scripts/beacon.dll",BEACON_TYPEID:"1",VIDEOAD_TITLE:"VIDEO_AD",VIDEOAD_GENREID:"01",CONTENT_GENREID:"03",RND_KEY:"rn",PARAM_LIMIT:512,URL_LIMIT:2080},e.CriteoVars={COOKIE_NAME:"cto_via",CRTG_NID:"1513",CRTG_VAR_NAME:"crtg_content",CRTG_URL:"//rtax.criteo.com/delivery/rta/rta.js?"},e.DemdexVars={DEMDEX_URL:"//mtvn.demdex.net/"},e.ErrorCode={ERROR:50,INFO:30},e.FreewheelVars={URL:"//140cc.v.fwmrm.net/ad/g/1?nw={0}&prof={0}:{1}&flag=+sltp+exvt+slcb+unka+unks;",URL_INT:"//2ab7f.v.fwmrm.net/ad/g/1?nw={0}&prof={0}:{1}&flag=+sltp+exvt+slcb+unka+unks;",URL_INT_TEST:"//293a7.v.fwmrm.net/ad/g/1?nw={0}&prof={0}:{1}&flag=+sltp+exvt+slcb+unka+unks;",LAST_GUID_PLAYED:"mtvn_btg_lastGUIDPlayed",LAST_PLAYLIST_URI_PLAYED:"mtvn_btg_lastPlaylistURIPlayed",MINTIME_BTW_ADS:10,QC_DEMO_VALUE:"vmn_btg_qcdemotargetting",FRONT_BUMPER_KEY:"_fw_front_bumper",END_BUMPER_KEY:"_fw_end_bumper",ARA_KEY:"_fw_ara",FSS_KEY:"_fss",FSS_VALUE:"_search",DEMDEX_SEGMENT:"mtvn_demdex_segment",VMN_UUID:"vmnUUID",DEF_CLIP_TIME:180,NETWORK_ID:82125,NETWORK_ID_TEST:82124,NETWORK_ID_INTL:174975,NETWORK_ID_INTL_TEST:168871,PROFILE_ID:"EdgeHTML5",PROFILE_ID_AS3:"EdgeAS3",DEF_MIN_TIME_FOR_ADS:0,DEF_SITE_SECTION:"viacom_default",DEF_MOB_SITE_SECTION:"viacom_default_mob",INTL_DEFAULT_ASSET_ID:41349526,MOB_SID_SUFFIX:"_mob",TAB_SID_SUFFIX:"_tab",INIT_AD_INDEX:1,PLAYLIST_KEY:"playlist",VPAID_AD:"VPAID",AUTHENTICATING_ENTITY:"_fw_ae",AUTHORIZATION_REQUIRED:"_vmn_ar",DEBUG_MODE:"fwdebug",OVERRIDE_NETWORK_ID:"fwid",OVERRIDE_PROFILE_ID:"fwprof",OVERRIDE_SSID:"fwssid",OVERRIDE_MGID:"fwcaid",TSLA:"tsla",ENTIRE_URL:"_fw_h_referer",AD_SERVER_AS3:"http://140cc.v.fwmrm.net/",INTL_AD_SERVER_AS3:"http://2ab7f.v.fwmrm.net/",FW_BRIDGE_ID:"freewheelBridge",DISPLAY_BASE:"video-player",PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll",OVERLAY:"overlay",VPAID_CLICK_DIV:"sauron_stage",FW_CUSTOMER_VISITOR_ID:"customVisitorId",VMN_UUID_COOKIE:"vmn_uuid",FW_DID_IDFA:"_fw_did_idfa",FW_DID_GOOGLE_ADVERTISING_ID:"_fw_did_google_advertising_id",FW_DESIRED_BITRATE_KEY:"desiredBitrate",FW_TEN_MINUTES_IN_SEC:600,FW_BRIDGE_PLACEHOLDER_ID:"fw_placeholder",FW_PRELOAD_AD_SLOT_BEFORE_TIME:10,FW_BANDWIDTH_KEY:"fw_bandwidth",FW_MINIMUM_BITRATE:600,FW_MAXIMUM_BITRATE_MOBILE:2e3,FW_MAXIMUM_BITRATE_DESKTOP:2500,FW_MAXIMUM_BITRATE_DESKTOP_BY_DIMENSIONS:1638,FW_BITRATE_MOBILE_WIFI_BY_DIMENSIONS:1536,FW_PRELOAD_BITRATE_RANGE_0_800:4,FW_PRELOAD_BITRATE_RANGE_800_1000:3,FW_PRELOAD_BITRATE_RANGE_1000_5000:5,FW_PRELOAD_BITRATE_RANGE_GT_5000:10,FW_BRIDGE_FAILURE_EVENT:"event101",FW_REQUEST_FAILURE_EVENT:"event102",FW_SWF_NOTLOADED_EVENT:"event103",FW_FLASH_DISABLED_EVENT:"event104",FW_AD_BRIDGE_MULTI_LOADED_EVENT:"event105",FW_DEMDEX_FW_SEGMENT:"demdexFW",VIDEO_ID_KEY:"vid"},e.IMAVars={SDK_URL:"//imasdk.googleapis.com/js/sdkloader/ima3_debug.js",CONTAINER_ID:"-ima-ad",VIDEO_TAG_URL:"//pubads.g.doubleclick.net/gampad/ads?",ENVIRONMENT:"env=vp",DFP_SCHEMA:"gdfp_req=1",PRODUCTION_NETWORK_ID:1125,TEST_NETWORK_ID:271659723,CMS_ID_KEY:"cmsid=",AD_UNIT_KEY:"iu=",CORRELATOR_KEY:"correlator=",VIDEO_ID_KEY:"vid",DESCRIPTION_URL_KEY:"description_url=",AD_SIZE:"sz="+(e&&e.Config&&e.Config.imaAdSize?e.Config.imaAdSize:"640x480")+"|",CUST_PARAMS_KEY:"cust_params=",VMAP_FORMAT:"output=xml_vmap1",POSITION_START:"unviewed_position_start=1",FOLLOW_NETWORK_RULES:"ad_rule=1",REQUEST_MODE:"impl=s",PLAYER_SIZE:"640x360",LANGUAGE_EN:"h1=en",URL_KEY_MACRO:"url=[referrer_url]",CORRELATOR_MACRO:"[timestamp]",AD_SERVER_GOOGLE_IMA:"doubleclick",AD_SERVER_FREEWHEEL:"freewheel",NO_ADS_SUPPORT:"vad=n",AUTHORIZATION_REQUIRED:"_vmn_ar",AUTHENTICATING_ENTITY:"_fw_ae",MOAT_PARTNER_CODE:"viacomjsint517483624015",OVERRIDE_AD_UNIT_ID:"imaiu",OVERRIDE_CMS_ID:"imacmsid",OVERRIDE_CUST_PARAMS:"vtestmode",OVERRIDE_VIDEO_ID:"imavid",CHILD_DIRECTED_TREATMENT:"tfcd=1"},e.MessageVars={VMN_UUID:"uuid",DEMDEX_SEGMENT:"demdexfwsegment",ADMS_TRACKING_SERVER:"trackingserver",USER_SEGMENT:"usersegment",ADMS_VISITOR_ID:"visitorid"};var Zt={CLIP_TYPE:"content",LOAD_CLIP:3,LOAD_AD:15,PROGRESS:49,STOP:7,END:57},$t={BASE_URL:"//b.scorecardresearch.com/p",TYPEID:"2",MAX_DURATION:600,CLIP_SHORT:"vc11",CLIP_LONG:"vc12",CLIP_LIVE:"vc13",AD_PREROLL:"va11",AD_MIDROLL:"va12",AD_POSTROLL:"va13",AD_LIVE:"va21",AD_OTHER:"va00",LOCKED:"Locked",UNLOCKED:"Unlocked"};e.VideoVars={CONTENT_TYPE:"rss.group.category.contentType",DESCRIPTION:"rss.description",DURATION:"rss.duration",FRANCHISE:"rss.group.category.franchise",GUID:"rss.guid",INDEX:"index",IS_LIVE:"isLive",LINK:"rss.link",MEDIA_CATEGORY:"rss.group.category.contentType",PLAY_LIST_REP_TITLE:"rss.group.category.playlistRepTitle",PLAY_LIST_TITLE:"rss.group.category.playlistTitle",PLAY_LIST_URI:"rss.group.category.playlistURI",REPORTABLE:"rss.group.category.reportable",SEO_HTML_TEXT:"rss.group.category.seoHTMLText",THUMPNAIL_URL:"rss.image.url",TITLE:"rss.title",VIDEO_TITLE:"rss.group.category.videoTitle",ARTIST_NAME:"rss.group.category.artist",MTVN_OWNER:"rss.group.category.mtvnOwner",ITEM_TITLE:"rss.title"};var en={SECURE_SUBDOMAIN:"https://sb",STANDARD_SUBDOMAIN:"http://b",DESTINATION:".scorecardresearch.com/beacon.js?",C1:"2",C2:"6036034",DEFAULT_C3:"",C4:encodeURIComponent(Wt),C5:"20000",DEFAULT_C6:"",DEFAULT_C15:""},tn={DESTINATION:"https://www.googletagservices.com/tag/js/gpt.js",INDEX_PAGE_ADUNIT_SUFFIX:"home",MAPPINGS:"mappings",KEY_VALUES:"key-values",AD_UNIT:"ad-unit",METADATA:"metadata",EXCLUSION_CATEGORIES:"exclusion-categories",IS_MAIN:"is_main",SETTINGS:"settings",SETTINGS_DISABLE_AUTO_SLOTS:"disableAutoSlots"},nn={DEFAULT_TOPIC:"vnm_bento",DESTINATION:"http://mb.mtv.com/data/collect/v1/?__t="},an={VISITOR_NAMESPACE:"mtvn",LINK_TYPE:"o",YES:"y",NO:"n",SUCCESS:"s",FAILED:"f",CONTEXT_VALUE_TRUE:"T",CONTEXT_VALUE_FALSE:"F",NOT_APPLICABLE:"N/A",MARKETING_CLOUD_ORG_ID:"ED7001AC512D2ABD0A490D4C@AdobeOrg",THIRD_PARTY_SUB_DOMAIN:".sc.omtrdc.net",THIRD_PARTY_COOKIE:"v.tpc",LAST_PAGENAME_CONTEXT:"v.prevPagename",UUID_CONTEXT:"v.uuid",CATEGORY_CONTEXT:"v.pageCat",CHANNEL_CONTEXT:"v.channel",ACTIVITY_CONTEXT:"v.activity",PAGE_VIEW_CONTEXT:"v.pv",SITE_ID_CONTEXT:"v.siteID",FRANCHISE_CONTEXT:"v.pageFranchise",THIRD_PARTY_CONTEXT:"v.ckieBlock",REPEAT_USER_CONTEXT:"v.newRepeat",TIMESTAMP_CONTEXT:"v.TimeStamp",DAY_OF_WEEK_CONTEXT:"v.dayW",HOUR_OF_DAY_CONTEXT:"v.hourD",SEARCH_TERM_CONTEXT:"v.searchTerm",SEARCH_RESULT_CONTEXT:"v.searchResult",SEARCH_DID_YOU_MEAN_CONTEXT:"v.searchDYM",SEARCH_TYPEAHEAD_CONTEXT:"v.searchTA",SEARCH_CONVERSION_CONTEXT:"v.searchConversion",TVE_MVPD_CONTEXT:"v.tveMVPD",TVE_ERROR_CODE_CONTEXT:"v.tveErrCode",TVE_USER_STATUS_CONTEXT:"v.tveUsrStat",TVE_SOCIAL_METHOD_CONTEXT:"v.socMethod",TVE_STEP_OF_LOGIN_FLOW:"v.tveStep",PAGENAME_PROPERTY:"pageName",AUTHENTICATED_TVE_USER:"TVE authenticated user",UNAUTHENTICATED_TVE_USER:"Guest user",ELVIS_AUTHENTICATED_USER:"TVE sfps authenticated user",WELCOME_SCREEN_TVE_STEP:"TVE:OverlayFlow:Start",LOGIN_START_TVE_STEP:"TVE:Settings:MVPD Selector",PROVIDER_SELECTED_TVE_STEP:"TVE:settings:MVPD Auth-Request",ERROR_TVE_STEP:"TVE:settings:Error",SUCCESSFUL_LOGIN_TVE_STEP:"TVE:settings:Successful login",PROVIDER_NOT_LISTED_TVE_STEP:"TVE:settings:Not available",SOCIAL_LOGIN_SELECTED_TVE_STEP:"TVE:settings:auth provider pick:{METHOD}",SOCIAL_LOGIN_SUCCEEDED_TVE_STEP:"TVE:settings:auth provider pick:{METHOD}:Successful login",SOCIAL_LOGIN_EXPIRED_TVE_STEP:"TVE:settings:auth provider access expiration",SOCIAL_LOGIN_LOCKED_TVE_STEP:"TVE:[Settings]:auth provider:locked",TWENTY_FOUR_HOUR_LOGIN_TVE_STEP:"TVE:[Settings]:fps:Successful Sign-in",TWENTY_FOUR_HOUR_EXPIRED_TVE_STEP:"TVE:[Settings]:auth provider access expiration",SEARCH_ACTIVITY:"searchResult",SEARCH_CONVERSION_ACTIVITY:"searchConversion",TVE_AUTH_CHECK_ACTIVITY:"userAuthcheck",TVE_ERROR_ACTIVITY:"tveError",TVE_WELCOME_SCREEN_ACTIVITY:"tveWelcome",TVE_LOGIN_START_ACTIVITY:"tveAuthStart",TVE_LOGIN_COMPLETE_ACTIVITY:"tveSignComplete",TVE_PROVIDER_SELECTED_ACTIVITY:"tveMVPDPick",TVE_PROVIDER_NOT_LISTED_ACTIVITY:"tveMVPDnotListed",TVE_SOCIAL_LOGIN_SELECTED_ACTIVITY:"tveElvisSocialPick",TVE_SOCIAL_LOGIN_SUCCEEDED_ACTIVITY:"tveElvisSignComplete",TVE_SOCIAL_LOGIN_EXPIRED_ACTIVITY:"tveElvisExp",TVE_SOCIAL_LOGIN_LOCKED_ACTIVITY:"tveElvisLock",TVE_TWENTY_FOUR_HOUR_PREVIEW_LOGIN_ACTIVITY:"tveFPSSignComplete",TVE_TWENTY_FOUR_HOUR_PREVIEW_EXPIRED_ACTIVITY:"tveFPSExp",PAGE_VIEW_ACTIVITY:"pageview",GENERIC_NOT_SET:"NOT_SET",NO_FRANCHISE:"NO_FRANCHISE",NO_CATEGORY:"NO_CATEGORY",NO_CHANNEL:"NO_CHANNEL",NO_UUID:"NO_UUID",NO_PREV_PAGENAME:"NO_PREVIOUS_PAGENAME",NO_SEARCH_TERM:"NO_SEARCH_TERM",NO_SEARCH_DID_YOU_MEAN:"NO_SEARCH_DYM",NO_SEARCH_TYPEAHEAD:"NO_SEARCH_TA",NO_TVE_ERROR_CODE:"NO_TVE_ERROR_CODE",NO_TVE_PREVIOUS_STEP:"NO_STEP_DATA_RECORDED",NO_TVE_SOCIAL_METHOD:"NO_SOCIAL_METHOD",LEGACY_DAY_OF_WEEK_VAR:"eVar45",LEGACY_DAY_OF_WEEK_PROP:"prop33",LEGACY_TIME_VAR:"eVar46",LEGACY_TIME_PROP:"prop34",LEGACY_CHANNEL_VAR:"eVar49"},rn={LOADED_COMPONENT:"TVE:componentLoaded",ERROR:"TVE:errorHappened",CHECKED_STATUS:"TVE:checkStatusCompleted",LOGGED_IN:"TVE:loginCompleted",LOGGED_OUT:"TVE:logoutCompleted",SELECTED_PROVIDER:"TVE:providerSelected",PROVIDER_NOT_LISTED_BUTTON_CLICK:"TVE:providerNotListedButtonSelected",START_WATCHING_BUTTON_CLICK:"TVE:startWatchingNowButtonClicked",LEARN_MORE_CLICK:"TVE:learnMoreButtonClicked",SPECIAL_PREVIEW_SELECTED:"TVE:specialPreviewPickedMethod",SPECIAL_PREVIEW_LOGGED_IN:"TVE:specialPreviewSucceedLoginForMethod",SPECIAL_PREVIEW_EXPIRED:"TVE:specialPreviewExpiredWithProvider",SPECIAL_PREVIEW_LOCKED:"TVE:specialPreviewLockedWithProvider",FREE_PREVIEW_LOGGED_IN:"TVE:freePreviewLoginCompleted",FREE_PREVIEW_EXPIRED:"TVE:freePreviewExpired"};e.AdSdkLoader=function(){var t=e.AdVars.AD_BRIDGE_ID,n=e.AdVars.AD_PLACE_HOLDER_ID,i=e.FreewheelVars;return{loadImaJsSdk:function(){return e.DOM.loadScript({url:e.IMAVars.SDK_URL,onLoad:function(){e.onImaJsSdkLoaded()}}),ze},preloadAdBridgeSwf:function(){return e.HttpRequest.sendGETRequest({url:Ye})},loadAdBridgeSwf:function(i,a,r){a=a||null;for(var s=null,o=a+t,l=e.DOM.createElement,c={type:"application/x-shockwave-flash",id:o,name:o,align:"middle",data:Ye,width:"0",height:"0",style:"position:absolute;"},d=[{name:"quality",value:"high"},{name:"scale",value:"noborder"},{name:"wmode",value:"transparent"},{name:"allowscriptaccess",value:"always"},{name:"allowfullscreen",value:"true"},{name:"FlashVars",value:"playerId="+a+"&adType="+r+(_t()?"&logCallback=console.log&errorCallback=console.error":"")}],u=d.length,_=l(He,c),p=Tt(i)?document.getElementById(i):i,h=e.AdSdkLoader.getAdBridgePlaceholder(p,n);u--;)_.appendChild(l("param",d[u]));return(s=document.getElementById(o))&&s.parentNode.removeChild(s),h?h.parentNode.replaceChild(_,h):p&&p.appendChild(_),o},replaceAdBridgeSwf:function(t){var n=document.getElementById(t),a=document.getElementById(i.FW_BRIDGE_PLACEHOLDER_ID);a||(a=e.DOM.createElement("div",{id:i.FW_BRIDGE_PLACEHOLDER_ID})),n&&n.parentNode.replaceChild(a,n)},loadFWJsSdk:function(){return ze},getAdBridgePlaceholder:function(e,t){if(e){var n=e.getElementsByClassName(t);if(n&&n.length>0)return n[0];var i=e.childNodes;for(var a in i)if(i[a]&&i[a].id&&i[a].id===t)return i[a]}}}}(),e.AdUtil=function(){var t=e.AdVars,n=e.FreewheelVars;return{getTSLATime:function(t){var i=window.location!==window.parent.location?document.referrer:window.top.document.location.href,a=i||t.ref||"",r=e.String.queryStringToObject(a.toLowerCase());return Tt(r[n.DEBUG_MODE])&&yt(r[n.DEBUG_MODE])&&Tt(r[n.TSLA])?r[n.TSLA]:t.timeSinceLastAd},isTimeSinceLastAdElapsed:function(n){var i=e.Cookie.getLocalStorage(t.VIDEO_PLAYED_TIME),a=e.AdUtil.getTSLATime(n);return pt(i)||isNaN(i)||(i=1e3*parseInt(i,10)),a=pt(a)||isNaN(a)?0:parseInt(a,10),0>=a||!At(i)||0===i||i>a?ze:Je},persistVideoPlayedTime:function(){var n=e.Cookie.getLocalStorage(t.LAST_PLAYTIME_CODE),i=new Date;i=Math.round(i.getTime()/1e3),i-n===1&&e.Cookie.setLocalStorage(t.VIDEO_PLAYED_TIME,parseInt(e.Cookie.getLocalStorage(t.VIDEO_PLAYED_TIME))+1),e.Cookie.setLocalStorage(t.LAST_PLAYTIME_CODE,i)},getAdType:function(t,n,i,a){var r,s=e.FreewheelVars;return r=0!==t.currentIndex&&!n||t.hasContentEnd!==Je?t.currentIndex+1===i&&t.hasContentEnd===ze&&(1>=a||ft(a))?s.POSTROLL:0!==t.currentIndex&&t.hasContentEnd===Je?s.MIDROLL:Je:s.PREROLL}}}(),e.AppMeasureMapper=function(){var t=[],n=Qe,i=function(e){t[e]||t.push(e)},a=function(e,t){for(var i=n&&n.feed&&n.feed.items?n.feed.items:[],a=Qe,r=Qe,s=0,o=i.length;o>s;s++)if(i[s].rss&&i[s].rss.guid===e){a=i[s].rss;break}if(a&&a.group&&a.group.category){r=a.group.category;for(var l in r)if(l===t)return r[l]}return Je},r=function(e,t){var n=t.replace(/\ |\:|\+|\{|\}|^\s|\s$/g,""),i="";return e.hasOwnProperty(n)&&e[n]?e[n]:(i=a(e["v.mgid"],n),i?i:t.search(/^{[\s\S]+}$/)?t:"")},s=function(e,t,n,a,s){var o="",l="v.";n.substring(0,l.length)===l;if(a.indexOf(lt)>-1)for(var c=a.split(lt),d=0,u=c.length;u>d;d++)o+=r(e,c[d]);else o=r(e,a);o&&(t.hasOwnProperty(n)&&!yt(s)||(t[n]=o,i(n)))};return{getMappedObject:function(a,r){var o,l={},c=e.AppMeasureVars.DEFAULT_VARS;if(n=r,n.omnitureHeartbeatMeasureDisabled)for(o in c)if(c.hasOwnProperty(o)){var d=c[o];a.hasOwnProperty(d)&&a[d]&&(l[o]=e.String.stripToken(a[d]),i(o))}for(o in a)a.hasOwnProperty(o)&&(l[o]=a[o],i(o));if(ht(r.omnitureCustomFields)){var u=r.omnitureCustomFields;for(o in u)u.hasOwnProperty(o)&&s(a,l,o,u[o],!1)}if(ht(r.omniturePropertyOverrides)){var _=r.omniturePropertyOverrides;for(o in _)_.hasOwnProperty(o)&&s(a,l,_[o],o,!0)}return l.trackVars=t.join(tt),t=[],l}}}(),e.Cookie=function(){return{read:function(e){var t=Xt().split(st),n=Qe;e+=at;for(var i=0,a=t.length;a>i;i++){for(var r=t[i];r.charAt(0)===ot;)r=r.substring(1,r.length);0===r.indexOf(e)&&(n=unescape(r.substring(e.length,r.length)))}return n},set:function(t,n,i,a,r){var s=t+at+escape(n);return i&&(s+=st+"expires"+at+i),r||(r=e.Cookie.getCookieAutoDomain()),"localhost"!==r&&(s+=st+"domain"+at+r),s+=st+"path"+at+(a?a:$e),Qt(s),s},remove:function(t,n,i,a){var r=t+at;i||(i=e.Cookie.getCookieAutoDomain()),"localhost"===i||a||(r+=st+"domain"+at+i),r+=st+"path"+at+(n?n:$e),r+=st+"expires"+at+"Thu, 01-Jan-1970 00:00:01 GMT",Qt(r)},getCookieAutoDomain:function(){var e=document.domain.split(nt),t=e.length,n=t>2?e[t-2]+"."+e[t-1]:document.domain;return t>=3&&null!==Vt.match(n)&&(n=e[t-3]+"."+e[t-2]+"."+e[t-1]),n},setLocalStorage:function(t,n){try{window.localStorage?window.localStorage.setItem(t,n):e.Cookie.set(t,n)}catch(i){e.Cookie.set(t,n)}},getLocalStorage:function(t){try{return window.localStorage?window.localStorage.getItem(t):e.Cookie.read(t)}catch(n){return e.Cookie.read(t)}}}}(),e.DOM=function(){return{loadScript:function(e){if(e.hasOwnProperty("url"))try{var t=document.createElement("script");return t.setAttribute("type","text/javascript"),t.setAttribute("src",e.url),e.hasOwnProperty("async")&&vt(e.async)&&t.setAttribute("async",e.async),e.hasOwnProperty("onLoad")&&typeof e.onLoad===Ge&&(t.onload=t.onreadystatechange=e.onLoad),e.hasOwnProperty("isAppendToBody")&&e.isAppendToBody?document.body.appendChild(t):document.getElementsByTagName("head")[0].appendChild(t),t}catch(n){}},createElement:function(e,t){var n=document.createElement(e);if(ht(t))for(var i in t)t.hasOwnProperty(i)&&n.setAttribute(i,t[i]);return n}}}(),e.Now=function(){var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return{getDayOfTheWeek:function(){return e[(new Date).getDay()]},getTimeWithAbbreviation:function(){return(new Date).toLocaleTimeString().replace(/:\d+ /,"")}}}(),e.Dimension=function(t,n,i,a){var r=e.Pool,s=r.retrieveObject();return s.width=t,s.height=n,s.top=i,s.left=a,s},e.Extend=function(e,t){var n=function(e){if(typeof e===Ge)try{e=new e}catch(t){}return e};if(e=n(e),t=n(t),e!==t&&typeof e===He&&typeof t===He)for(var i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i]);return e},e.HttpRequest=function(){function t(e){var t=Qe,n="",i=e.data||"",a=e.type||"POST";return ft(window.XMLHttpRequest)?Je:Tt(e.url)?(t=new XMLHttpRequest,n=e.url,t.open(a,n),Tt(e.contentType)&&t.setRequestHeader("Content-Type",e.contentType),typeof i!==Ke&&(i=JSON.stringify(i)),t.send(i),ze):Je}return{sendPOSTRequest:t,sendGETRequest:function(e){return e.type="GET",t(e)},sendImageBeaconRequest:function(t){_t()&&DEBUG("HttpRequest.sendGETRequest ",t);var n=function(e){},i="",a=Qe;if(typeof t!==He||typeof t.url!==Ke)return Qe;typeof t.callback===Ge&&(n=t.callback),typeof t.rndKey===Ke&&(i=t.rndKey+at+Math.round(1e9*Math.random())),t.appendRndToURL&&(t.url=t.url+$e+Math.round(1e9*Math.random())),typeof t.maxLength!==We&&t.maxLength>i&&(t.maxLength-=i.length+1),t.queryString=e.Object.toString(t.params),a=t.queryString&&t.queryString.length>0?t.url+(t.url.indexOf(it)>-1?et:it)+t.queryString:t.url,
t.url.length>t.maxLength&&(a=e.String.lengthLimiter(a,t.maxLength,et)),a+=!e.String.endsWith(t.url,et)&&i?et+i:i;try{var r=new Image(0,0);return r.src=a,r.onload=r.onabort=r.onerror=function(e){n({options:t,event:e})},r}catch(s){return _t()&&DEBUG("HttpRequest.sendGETRequest ",s),Qe}}}}(),e.IMAUrl={getAdUrl:function(t){var n=e.IMAVars.VIDEO_TAG_URL,i=e.String.queryStringToObject(Wt),a=e.IMAVars,r=[a.ENVIRONMENT,a.DFP_SCHEMA,a.REQUEST_MODE,a.POSITION_START,a.VMAP_FORMAT,a.LANGUAGE_EN,a.FOLLOW_NETWORK_RULES,a.URL_KEY_MACRO],s=t.playerConfig,o=e.Config.imaAdUnit?e.Config.imaAdUnit:"money_test",l=Qe,c=Qe,d=Je,u=Qe;if(gt(s)){if(Tt(s.adLocationID)&&(o=s.adLocationID),gt(c=t.playerConfig.tve)&&gt(window.tve_mvpd_list)&&Tt(c.tveMvpdName)&&(d=yt(c.tveAuthRequired),window.tve_mvpd_list[c.tveMvpdName]&&(u=window.tve_mvpd_list[c.tveMvpdName])),l=a.AUTHORIZATION_REQUIRED+"="+d,pt(u)||(l+="&"+a.AUTHENTICATING_ENTITY+"="+u),ht(s.embedVars)){var _=s.embedVars;Tt(_.locationPath)&&(o=_.locationPath),r.push(a.CORRELATOR_KEY+mt(_.correlator,a.CORRELATOR_MACRO)),Tt(_.custParams)&&(l+="&"+_.custParams)}Tt(i[a.OVERRIDE_CUST_PARAMS])&&(l+="&"+a.OVERRIDE_CUST_PARAMS+"="+i[a.OVERRIDE_CUST_PARAMS]),r.push(a.CUST_PARAMS_KEY+encodeURIComponent(l)),r.push(a.DESCRIPTION_URL_KEY+encodeURIComponent(mt(t.playerConfig.ref,Wt)))}if(Tt(i[a.OVERRIDE_CMS_ID])?r.push(a.CMS_ID_KEY+i[a.OVERRIDE_CMS_ID]):ht(s)&&Tt(s.imaCmsID)?r.push(a.CMS_ID_KEY+s.imaCmsID):ht(e.Config)&&Tt(e.Config.imaCmsID)&&r.push(a.CMS_ID_KEY+e.Config.imaCmsID),Tt(i[a.OVERRIDE_AD_UNIT_ID])?r.push(a.AD_UNIT_KEY+$e+i[a.OVERRIDE_AD_UNIT_ID]):ht(s)&&Tt(s.imaNetworkID)?r.push(a.AD_UNIT_KEY+$e+s.imaNetworkID+(o?$e+o:"")):ht(e.Config)&&Tt(e.Config.imaNetworkID)&&r.push(a.AD_UNIT_KEY+$e+e.Config.imaNetworkID+(o?$e+o:"")),Tt(i[a.OVERRIDE_VIDEO_ID])||Tt(i[a.VIDEO_ID_KEY])){var p=i[a.OVERRIDE_VIDEO_ID]||i[a.VIDEO_ID_KEY];r.push([a.VIDEO_ID_KEY,p].join(at))}else ht(t.contentInfo)&&Tt(t.contentInfo.videoId)&&r.push([a.VIDEO_ID_KEY,t.contentInfo.videoId].join(at));if(ht(s)&&s.requireCOPPACompliance&&r.push(a.CHILD_DIRECTED_TREATMENT),t.width&&t.height){var h="640x480";ht(s)&&Tt(s.imaAdSize)?h=s.imaAdSize:ht(e.Config)&&Tt(e.Config.imaAdSize)&&(h=e.Config.imaAdSize),r.push("sz="+h+"|"+t.width+"x"+t.height)}return n+r.join(et)}},e.Math={random:function(){var e,t=0;return arguments.length>1?(t=arguments[0],e=arguments[1]):(t=0,e=arguments[0]),Math.floor(Math.random()*(e-t+1)+t)},roundOff:function(t){return Math.round(e.Number.getZeroForNaN(t))}};(function(t){var n=function(t){if(typeof t===He&&JSON&&t.data){var n=e.MessageVars,i=new e.Notifier,a=i.notify,r=Qe;try{r=JSON.parse(t.data)}catch(s){return}if(!pt(r)&&r.hasOwnProperty("type"))switch(r.type){case n.VMN_UUID:a($,r);break;case n.DEMDEX_SEGMENT:a(ee,r);break;case n.ADMS_TRACKING_SERVER:a(te,r);break;case n.USER_SEGMENT:a(ne,r);break;case n.ADMS_VISITOR_ID:a(ie,r)}}};return typeof t.addEventListener!==qe?t.addEventListener("message",n,!1):typeof t.attachEvent!==qe&&t.attachEvent("onmessage",n),n})(window);e.MessageUtil=function(){var e=typeof window.parent===He&&typeof window.parent.postMessage===Ge&&window.parent!==self;return{postMessage:function(t,n){if(e&&t){var i={type:t};typeof n!==qe&&(i.value=n),i=JSON.stringify(i),window.parent.postMessage(i,"*")}}}}(),e.Number=function(){return{getZeroForNaN:function(e){return At(e)?e:0}}}(),e.Object=function(){return{toString:function(e,t){if(typeof e!==He)return Qe;t||(t=et);var n=[];for(var i in e)e.hasOwnProperty(i)&&e[i]&&n.push(i+at+e[i]);return n.sort(),n.join(t)},getValueFor:function(e,t){return e.hasOwnProperty(t)?e[t]||0===e[t]?e[t]:-1:Qe},getMemberIfExist:function(e,t,n){for(var i=t.split("."),a=0,r=i.length;r>a;a++){var s=i[a];if(!(!pt(e)&&ht(e)&&s in e))return n;e=e[s]}return e},doesMemberExist:function(t,n){return e.Object.getMemberIfExist(t,n,Qe)===Qe?Je:ze},isEmpty:function(e){return Object.keys(e).length>0?Je:ze},isValidJSON:function(e){var t=Qe;if(Tt(e))try{if(t=JSON.parse(e),gt(t))return ze}catch(n){return Je}else if(gt(e))try{if(t=JSON.parse(JSON.stringify(e)),gt(t))return ze}catch(n){return Je}return Je}}}(),e.Pool=function(){function t(t){for(var n=0;t-o>n;++n)i.push(new e.PoolObject);return o=t}function n(t){for(var n=0;t-l>n;++n)a.push(new e.PoolArray);return l=t}var i=[],a=[],r=0,s=0,o=0,l=0,c=20,d=2;return{retrieveObject:function(){r>=o&&t(o*d);var e=i[r++];return e.position=r-1,e.constructor.apply(e,arguments),e},retrieveArray:function(){s>=l&&n(l*d);var e=a[s++];return e.position=s-1,e.constructor.apply(e,arguments),e},initializePool:function(e){return e===He?t(c):n(c)},getSize:function(e){return e===He?i.length:a.length},getObjects:function(){return i},getObjectIndex:function(){return r},getArrays:function(e){return a},getArrayIndex:function(e){return s}}}(),function(){e.PoolObject=function(){return Object.defineProperty(this,"position",{value:-1,enumerable:!1,writable:!0,configurable:!0}),this},e.PoolObject.prototype.release=function(){var t=e.Pool.getObjects(),n=e.Pool.getObjectIndex(),i=t[n]||e.Pool.retrieveObject(),a=i.position;for(var r in this)this.hasOwnProperty(r)&&delete this[r];return t[n]=this,t[this.position]=i,i.position=this.position,this.position=a,ze},e.PoolArray=function(){return Object.defineProperty(this,"position",{value:-1,enumerable:!1,writable:!0,configurable:!0}),this},e.PoolArray.prototype=[],e.PoolArray.prototype.release=function(){var t=e.Pool.getArrays(),n=e.Pool.getArrayIndex(),i=t[n]||e.Pool.retrieveArray(),a=i.position;return this.length=0,t[n]=this,t[this.position]=i,i.position=this.position,this.position=a,ze},e.Pool.initializePool(He),e.Pool.initializePool(Xe)}(),e.Queue=function(e){var t=Je,n=Qe,i=function(e){},a=-1,r=[];return e===Qe||typeof e!==He||typeof e.delegate!==He||typeof e.delegate.onQueueItem!==Ge?Qe:(n=e.delegate,typeof n.onQueueError===Ge&&(i=n.onQueueError),typeof n.maxCount===We&&n.maxCount>0&&(a=n.maxCount),{add:function(){return a>0&&r.length>=a?(i(new Error("maxCount exceeded: "+r.length)),Je):(r.push(arguments),r.length)},addPriority:function(){return a>0&&r.length>=a?(i(new Error("maxCount exceeded: "+r.length)),Je):(r.unshift(arguments),r.length)},start:function(){t||(t=ze,this.run())},run:function(){for(;t;)r.length>0?n.onQueueItem.apply(n,r.shift()):this.stop()},stop:function(){t=Je},isRunning:function(){return t},count:function(){return r.length},clear:function(){this.stop(),r=[]}})},e.Storage=function(){function t(t){var n=window.localStorage.getItem(o),i=Tt(n)&&n||ut;try{c=JSON.parse(i)}catch(a){return c=e.Cookie.getLocalStorage(t)}return t?c[t]?c[t]:e.Cookie.getLocalStorage(t)||Qe:c}function n(e,n){var i=Qe,a="";if(ft(e)||ft(n))return Je;i=t(),gt(i)||(i={}),i[e]=n;try{a=JSON.stringify(i)}catch(r){return Je}return window.localStorage.setItem(o,a),a}function i(){return window.localStorage.setItem(o,ut),ut}function a(t){for(var n=o+at,i=Xt().split(st),a="",r=ut;a=i.pop();)if(a=a.replace(/\s/g,""),a=a.replace(/\\/g,""),0===a.indexOf(n)){r=a.substring(n.length,a.length),r=decodeURIComponent(r.replace(new RegExp(n,"g"),"")),r=r.replace(/^['"](.*)"$/,"$1");break}try{l=JSON.parse(r)}catch(s){return l=e.Cookie.read(t)}return t?l[t]?l[t]:e.Cookie.read(t)||Qe:l}function r(t,n){var i,r=Qe,s=o+at;if(ft(t)||ft(n))return Je;r=a(),gt(r)||(r={}),r[t]=n;try{s+=encodeURIComponent(JSON.stringify(r))}catch(l){return Je}return i=e.Cookie.getCookieAutoDomain(),"localhost"!==i&&(s+=st+"domain"+at+i),s+=st+"path"+at+$e,Qt(s),s}function s(){var e=o+at+ut;return Qt(e),e}var o="BentoStorage",l={},c={};return{getLocalStorage:function(){return window.localStorage?t:a}(),saveToLocalStorage:function(){return window.localStorage?n:r}(),resetLocalStorage:function(){return window.localStorage?i:s}(),getCookieContents:a,saveToCookie:r,resetCookieContents:s}}(),e.String=function(){return{isDefined:function(e){return typeof e===Ke&&""!==e},toObject:function(e,t,n){t=t?t:tt,n=n?n:at;for(var i=e.split(t),a=i.length,r={};a--;){var s=i[a].split(n);r[s[0]]=s[1]}return r},toNumber:function(e){return isNaN(e)?null:e},charLtrim:function(e,t){var n=e.indexOf(t);return 0===n&&(e=e.substring(1)),e},charRtrim:function(e,t){var n=e.lastIndexOf(t),i=e.length;return n===i-1&&(e=e.substring(0,i-1)),e},charTrim:function(t,n){return t=e.String.charLtrim(t,n),t=e.String.charRtrim(t,n)},lengthLimiter:function(e,t,n){if(e&&typeof t===We&&e.length>t&&(e=e.substring(0,t),n)){var i=e.lastIndexOf(n);i>0&&(e=e.substr(0,i))}return e},endsWith:function(e,t){return-1!==e.indexOf(t,e.length-t.length)},appendWithComma:function(e,t){return e&&e.length?e+tt+t:t},stripToken:function(e){return e.replace(/^\{|\}$/g,"")},getFormattedUserSegment:function(e){for(var t=e.split(","),n=[],i=t.length,a=0;i>a;a++)Tt(t[a])&&n.push("User Segment;"+t[a]);return n.join(",")},addComma:function(e){return Tt(e)?e+tt:e},replaceTokens:function(e,t){for(var n=e.match(/{\w+}/g),i=n?n.length:0,a=0;i>a;a++){var r=n[a],s=r.replace(/{|}/g,""),o="ord"===s?Math.floor(Math.random()*Math.pow(10,"999999".length))%999999:t[s];o&&(e=e.replace(r,o))}return e},trimSlashes:function(e){return e=e.replace(/^\s*|\s*$/gi,"").replace(/^[\/\\]|[\/\\]$/gi,"")},queryStringToObject:function(t){var n=/^.*\?/;return e.String.toObject((t||qt()).replace(n,""),et)}}}(),e.StyleSheet=function(){var e="style",t="head";return{generateStyleTag:function(n,i){if(Tt(n)){var a=document.createElement(e);return a.innerHTML=n,i?document.querySelectorAll(i).appendChild(a):document.getElementsByTagName(t)[0].appendChild(a),ze}return Je}}}(),e.Timer=function(e){var t=Je,n=0,i=0,a=e&&e.interval?e.interval:1e3,r=Qe,s=function(){e&&typeof e.timerFunc===Ge?e.timerFunc.apply(e):clearInterval(r)};return{start:function(){return t||(t=ze,n=Rt(),r=setInterval(s,a)),n},stop:function(){if(!t)return n;var e=Rt();return n=e-n,i+=n,t=Je,clearInterval(r),e},reset:function(){return n=i=0,clearInterval(r),n},isRunning:function(){return t},getElapsedSeconds:function(){return Math.floor(i/1e3)},getElapsedMilliSeconds:function(){return i}}},e.BentoApi=function(t){function n(){return Mt.imaEnabled&&!Pt(kt.imaEnabled)}function a(e,t,n){return yt(n)?st.addPriority({event:e,data:t}):st.add({event:e,data:t}),dt&&(st.stop(),st.start()),st.count()}function r(e){function t(t){a(e,t)}return t}function s(){var t=-1;if(mt&&mt.getBandwidthAvg&&(t=mt.getBandwidthAvg()),!ft(t)&&-1!==t){var n={value:t,time:(new Date).getTime()};e.Cookie.setLocalStorage(e.FreewheelVars.FW_BANDWIDTH_KEY,JSON.stringify(n))}}function o(){return{playhead:Math.floor(mt.playhead),fullEpPlayhead:Math.floor(mt.absolutePlayhead)}}function l(e,t){return{active:e?e.active:t,width:At.offsetWidth,height:At.offsetHeight,top:At.offsetTop,left:At.offsetLeft,isFullScreen:t?t:Tt}}function d(e){var t=e.slice(0),n=Qe;for(W();n=t.pop();)n.requirementsMet()&&(St(n.callback)&&n.callback(),wt[n.apiName]=new n.ReceiverConstructor(wt),vt.addReceiver(wt[n.apiName]));a(u,kt,ze)}function W(){for(var t=Bt.slice(0),n=Qe,i=Qe;n=t.pop();)gt(i=wt[n.apiName])&&(i[P]&&i[P](e.Intent(P,o())),wt[n.apiName]=Qe);vt.clearReceivers()}function J(){Kt===Bt&&(Kt=Ht,d(Kt),ge("counterStrikeMode"))}function $(){Kt=Yt,d(Kt)}function ee(e){var t="on";"off"===e&&(t=e);var n={READY:fe,RESIZE:r(se),STATE_CHANGE:Te,PLAYHEAD_UPDATE:me,BUFFERED:Ae,FULL_SCREEN_CHANGE:Ie,INDEX_CHANGE:Se,METADATA:Ce,MEDIA_START:Re,MEDIA_END:be,PLAYLIST_COMPLETE:Xt,UI_STATE_CHANGE:De,VOLUME_CHANGE:Ne,REPLAY_REQUEST:Oe,BUFFERING_WAITING:ve,FLASH_PLUGIN_STATUS:zt,BENTO_WAITING_FOR_AD_BREAK:we,BENTO_PAUSE_REQUESTED:Fe,BENTO_RESUME_REQUESTED:xe,BENTO_AD_BREAK_TIMEOUT:ye,PLAYER_DESTROY:Pe,SEAMLESS_MODE:$,BENTO_AD_CLICKED:Ye};if(We=window.EdgePlayer&&window.EdgePlayer.Events,We&&mt[t])for(var i in n)We[i]&&mt[t](We[i],n[i])}function te(){ee()}function ne(){ee("off")}function ie(){return ct?Je:(mt.ready&&fe(),e.supports=e.supports||{},e.supports.edgeAdTimeoutFailoverEvent=ze,st=new e.Queue({delegate:wt}),!n()||!ft(window.google)&&gt(window.google.ima)||e.AdSdkLoader.loadImaJsSdk(),te(),void(ct=ze))}function oe(e,t){return mt&&mt.bento&&mt.bento[e]?(It(t)?mt.bento[e].apply(wt,t):ft(t)?mt.bento[e].apply(wt):mt.bento[e].apply(wt,[t]),ze):Je}function ge(e,t){return mt.ready?oe(e,t):(ot.push({event:e,data:t}),Je)}function fe(){var t=Qe;for(e.getAdBlockingStatus(function(e){yt(e)&&J()});t=ot.shift();)oe(t.event,t.data);ge("ready",bt())}function Ee(){return je}function Te(e){var t=o();switch(e.data){case"play":case"playing":if(Ee())qe&&xe(e),qe=Je;else{if(!Xe)return;Ze?tt&&(et=ze):(Ze=ze,$e=ze),tt=Je,nt=Je}it=Je;break;case"paused":Ee()?(qe=ze,Fe()):(!tt&&Ze&&Wt(t),tt=ze);break;case"seeking":Ee()||tt||!Ze||(tt=ze,at=ze,qt(t));break;case"error":}}function me(e){var t=Math.floor(e.target.playhead);if(it=Je,Ze&&!tt&&rt!==t){rt=t;var n=o();$e?($e=Je,Le(n)):(et||at)&&(et=Je,at=Je,jt(n)),ke(n)}}function Ae(e){return Ee()?void 0:(nt||(nt=ze,a(E)),e.data)}function ve(e){it||a(re,o()),tt=ze,it=ze}function Ie(e){a(v,l(Qe,e.data))}function Se(e){_t=Je,Ut=e.data,a(A,{itemIndex:e.data})}function ye(e){var t=window.EdgePlayer;je=Je,t&&t.Timeouts&&Zt({phase:e.data.phase,type:"AD_TIMEOUT_FAILOVER"}),a(K,Qe)}function Pe(n){W(),ne(),e.removePlayer(t)}function Ce(e){ht(e)&&ht(e.data)&&(e&&e.target&&e.target.config&&e.target.config.feed&&e.target.config.feed.items&&(xt=JSON.parse(JSON.stringify(e.target.config.feed.items))),e.data.index>-1&&kt.feed&&(pt(xt)||(kt.feed.items[e.data.index].mediaGen=xt[e.data.index].mediaGen),Et=Ge(kt,e.data.index),a(_,Et)))}function Re(e){Xe=ze}function be(e){Xe&&Me(o()),Xe=Je,Ze=Je,tt=Je}function De(e){a(S,l(e.data))}function Ne(e){a(y,{volumeLevel:e.data})}function Oe(e){_t=Je,s(),a(ae)}function Le(e){s(),a(p,e)}function ke(e){Ct(m,e)}function Me(e){s(),a(T,e)}function we(t){Mt=e.Config||{};var n=window.EdgePlayer&&window.EdgePlayer.supports&&window.EdgePlayer.supports.persistAdTerminated,i=e.Object.isEmpty(Mt)?ze:Je;yt(i)&&t&&t.data&&0===t.data.currentIndex&&Zt({error:e.AppMeasureVars.BENTO_CONFIG_NOT_AVAILABLE,type:"REPORT-BENTO-CONFIG"}),n&&(yt(i)||Pt(lt))?(ge("adBreakStarted"),Ve(yt(i)?{persist:ze,errorObj:{code:"BENTO-CONFIG-NOT-AVAILABLE",level:e.ErrorCode.ERROR,message:"Bento config not available"}}:{persist:ze})):(Rt=ze,ge("adBreakStarted"),je=ze,a(b,t))}function Ve(e){return je=Je,ge("adBreakTerminated",[e.persist,e.errorObj]),ze}function Ue(e){ge("adManifestRequest",[e,bt()]),a(H,e)}function xe(e){a(w,e),ge("adResumed")}function Fe(e){a(V,e),ge("adPaused")}function Be(e){Ct(x,e)}function Ye(){return ge("adPaused"),a(U,Qe)}function He(t){for(var n=0,i=0,a=t.length;a>i;i++)n+=e.String.toNumber(t[i].duration);return n}function Ge(t,n){ft(n)&&(n=0),t=t||{};var i=t.feed||{},a=i.items||[],r=a[n]||{};return r.playlistLength=a.length,r.playlistDuration=He(a),r.title=i.title,r.isFullEpisode=e.String.isDefined(t.contentType)&&"episode"===t.contentType,r.feedWithQueryParams=t.feedWithQueryParams,r.hasPlaylist=r.playlistLength>1,r.isPlaylistMode=r.isFullEpisode===Je&&r.hasPlaylist,e.MetadataVO.fromRSSMetadata(r)}function Ke(){wt.setAdsStatus(ze)}var We,je=Je,qe=Je,Xe=Je,Ze=Je,$e=Je,et=Je,tt=Je,nt=Je,it=Je,at=Je,rt=-1,st=Qe,ot=[],lt=Je,ct=Je,dt=Je,ut=Qe,_t=Je,Et=Qe,Tt=Je,mt=t||{},At=mt&&mt.$el&&mt.$el[0]?mt.$el[0]:Qe,vt=new e.Notifier,Ct=vt.notify,Rt=Je,Dt=Qe,Nt=Qe,Ot=Qe,Lt=Qe,kt={},Mt=e.Config||{},wt=this,Vt=Je,Ut=0,xt=Qe,Bt=[{ReceiverConstructor:e.GoogleIMA,apiName:"googleIMA",requirementsMet:n,callback:Ke},{ReceiverConstructor:e.Freewheel,apiName:"freewheel",requirementsMet:function(){return Mt.freewheelEnabled&&!Mt.imaEnabled&&!Pt(kt.freewheelEnabled)},callback:Ke},{ReceiverConstructor:e.HeartBeatMeasure,apiName:"heartBeatMeasure",requirementsMet:function(){return kt.omnitureEnabled&&!kt.omnitureHeartbeatMeasureDisabled},callback:function(){St(window.addHeartbeatAnalyticsLibrary)&&window.addHeartbeatAnalyticsLibrary()}},{ReceiverConstructor:e.AppMediaMeasure,apiName:"appMediaMeasure",requirementsMet:function(){return kt.omnitureEnabled&&kt.omnitureHeartbeatMeasureDisabled},callback:function(){St(window.addLegacyVideoReportingLibrary)&&window.addLegacyVideoReportingLibrary()}},{ReceiverConstructor:i,apiName:"streamSense",requirementsMet:function(){return kt.comScoreEnabled}},{ReceiverConstructor:un,apiName:"nielsen",requirementsMet:function(){return kt.nielsenReporterEnabled}},{ReceiverConstructor:e.Demdex,apiName:"demdex",requirementsMet:function(){return kt.demdexEnabled}},{ReceiverConstructor:e.PlayerReceiver,apiName:"playerReceiver",requirementsMet:function(){return ze}},{ReceiverConstructor:dn,apiName:"legacyBeacons",requirementsMet:function(){return ze}}],Yt=Bt.slice(2,4),Ht=Bt.slice(2),Kt=Bt,Wt=r(g),jt=r(h),qt=r(f),Xt=r(I),Qt=r(le),zt=r(de),Jt=r(Y),Zt=r(he);return this.onQueueItem=function(e){Ct(e.event,e.data)},this.onPlayerConfigReady=function(t){return ht(t)?(dt=ze,kt=t,Mt=e.Config||{},mt&&kt.feed&&(Dt=kt.feed,mt&&mt.isLive&&(Nt=mt.isLive()),Ot=Ge(kt),Lt=Ot.playlistDuration,Ut=kt.startIndex),d(Kt),e.StyleSheet.generateStyleTag(Gt),void(Ft(kt)&&e.AdSdkLoader.loadAdBridgeSwf(At,mt.id,wt.googleIMA?"ima":"freewheel"))):Je},this.onPlayerFeedLoaded=function(e){Ct(c,e)},this.onAdsManagerReady=r(ce),this.onAdRequested=Ue,this.onAdRequestCompleted=function(e){ge("adManifestReady",bt()),a(G,e)},this.onAdSkipped=function(e,t){return ge("adSkipped",[e,t]),a(Q,e)},this.onAdPlayRequest=r(z),this.onAdPodPlayStart=function(e){s(),a(N,e)},this.onAdPodPlayEnd=function(e){je=Je,a(O,e),Rt&&(Rt=Je,ge("adBreakEnded"))},this.onAdPlayStart=function(e){Vt?Vt=Je:(kt.requireCOPPACompliance&&(ut.messageText="Advertisement"),ge("adStarted",ut),ge("adResumed")),a(L,e)},this.onAdPlayEnd=function(e){ge("adEnded",ut),a(k,e)},this.onAdMetadata=function(e){ut=e,a(M,e)},this.setAdsStatus=function(e){lt=e},this.onAdBridgeReady=function(){return _t?(Ve({persist:ze,errorObj:{code:"AD-BRIDGE-LOADED-TWICE",level:e.ErrorCode.ERROR,message:"Ad Bridge loaded twice"}}),a(B,Qe),_t=Je,Je):(_t=ze,a(F))},this.getPlayerContainer=function(){return At},this.getPlayerId=function(){return mt.id},this.getPlayer=function(){return mt},this.getPlayerConfig=function(){return kt},this.getPlayerElement=function(){return mt.element},this.getPlaylistMetadata=function(){return Dt},this.getFirstItemData=function(){return Ot},this.getIsLive=function(){return Nt},this.onTrueXChoiceCardStart=function(e){Vt=ze,ge("adStarted",e)},this.onTrueXChoiceCardEnd=function(e){Vt=Je,ge("adEnded",e),a(k,e)},this.getCurrentVideoId=function(){var e="";return Ot.isFullEpisode===ze?Ot.imaVideoId:(e=Dt.items[Ut].rss.guid,e.split(":").slice(-1)[0])},this.preloadContent=function(e){ge("preloadContent")},this.sendAdPlayRequest=function(e){ge("adPlayRequest",e)},this.adBreakNotAvailable=r(X),this.onAdError=r(C),this.onAdBreakReady=r(q),this.onContentResumeRequested=r(ue),this.onAAMDataReady=r(Z),this.onAdTimeout=r(R),this.onAdManagerDestroyed=r(j),this.onAdBreakNotAvailable=r(X),this.onAdLoaded=r(D),this.onAdBufferStart=r(_e),this.onAdBufferStop=r(pe),this.onAdRenderer=Jt,this.onAdPlayheadUpdate=Be,this.onAdClick=Ye,this.onImaJsSdkLoaded=Qt,this.onAdBreakTerminated=Ve,this.onAdBreakTimeout=ye,this.onReportAdError=Zt,this.onAdBlocking=J,this.isAdPlaying=Ee,this.onAdUnPause=xe,this.onAdPause=Fe,this.isTimeForAnAd=we,ie(),this},e.InitializeEnvironment=function(t){function n(t){var n=t||window.navigator.userAgent;n=n.replace(/\;|\(|\)|\,/gi,"");var r={browser:"",device:"Desktop",os:""};/Chrome/.test(n)?(r.browser="Chrome",Dt=ze):/Firefox/.test(n)?(r.browser="Firefox",Nt=ze):/MSIE/.test(n)?(r.browser="MSIE",Ot=ze):/Safari/.test(n)?(r.browser="Safari",Lt=ze):/Opera/.test(n)&&(r.browser="Opera"),/Windows/.test(n)?r.os="Windows":/Macintosh/.test(n)?r.os="Macintosh":/Linux/.test(n)?r.os="Linux":/Unix/.test(n)&&(r.os="Unix"),/iPad/.test(n)?(r.device="iPad",kt=ze):/iPod/.test(n)?(r.device="iPod",kt=ze):/iPhone/.test(n)&&!/iPod/.test(n)?(r.device="iPhone",Mt=ze,kt=ze):kt=Je,wt=/Android/i.test(n),wt&&(r.device="Android"),IS_DESKTOP="Desktop"===n.device;var s=e.Cookie.read(i);if(r.isMobile=Je,r.isTablet=Je,Tt(s)){var o=e.String.toObject(s,tt,rt);Tt(o.m)&&1===+o.m||/^m\./.test(location.hostname)?r.isMobile=ze:Tt(o.t)&&1===+o.t&&(r.isTablet=ze)}return a=r,r}var i="btg_device",a=Qe;return{userAgent:n(t),getPlatform:function(){return a.device},getCnamedDomain:function(e){var t=e||location.hostname,n="",i=new RegExp(/[A-z0-9\-]*\.\bco\...\b|[A-z0-9\-]*\.uol\.\bcom\...\b|[A-z0-9\-]*\.\bcom\...\b|[A-z0-9\-]*\.\bcom\b|[A-z0-9\-]*\.\borg\b|[A-z0-9\-]*\...$/);if(t.match(i)){var a=i.exec(t);n="sc"+nt+t.substr(a.index)}else n="sc"+nt+t;return n},getRootDomain:function(){var e=location.hostname,t=new RegExp(/[A-z0-9\-]*\.\bco\...\b|[A-z0-9\-]*\.uol\.\bcom\...\b|[A-z0-9\-]*\.\bcom\...\b|[A-z0-9\-]*\.\bcom\b|[A-z0-9\-]*\.\borg\b|[A-z0-9\-]*\...$/);if(t.test(e)){var n=t.exec(e);return e.substr(n.index)}return e},getBrowser:function(){return a.browser},isIOS:function(){return kt}}},e.Environment=e.InitializeEnvironment(),e.Intent=function(e,t){var n=e,i=t||{};return{getName:function(){return n},getData:function(){var e={};for(var t in i)i.hasOwnProperty(t)&&(e[t]=i[t]);return e}}},e.Notifier=function(){function t(t,n,i){t[n].apply(t,[e.Intent(n,i)])}function n(e,t){for(var n=Je,a=0,r=i.length;r>a;a++)if(i[a]===e){n=ze,t&&i.splice(a,1);break}return n}var i=[];return{addReceiver:function(e){return e===Qe||typeof e!==He||n(e)?Je:(i.push(e),ze)},removeReceiver:function(e){return e===Qe||typeof e!==He?Je:(typeof e.onRemove===Ge&&e.onRemove(),n(e,ze))},count:function(){return i.length},notify:function(e,n){typeof e!==Ke||!e.match(/playhead/gi);for(var a=0,r=i.length;r>a;a++){var s=i[a];typeof s===He&&typeof s[e]===Ge&&t(s,e,n)}return ze},clearReceivers:function(){for(var e in i)i[e]=Qe;i=[]}}},e.Receiver=function(){var e=Je;return{enableNotifications:function(){return e=ze},disableNotifications:function(){return e=Je},isEnabled:function(){return e}}};var sn=function(){function t(e){sn.onFeedLoaded({config:e.config,metadata:e.config.feed,player:e}),Pt(i(e.config))&&e.bento.ready(bt())}function n(t){return t&&t.id&&e.getPlayer(t.id)!==Qe?ze:Je}function i(e){return ft(e)||yt(e.noBento)}return{LOGTAG:Be+"EpFeedProxy ",feed:Qe,bentoApi:Qe,processPlayerConfig:function(t,n){return gt(t)?(sn.bentoApi=e.addPlayer(n),sn.bentoApi[u](t),ze):Je},onFeedLoaded:function(e,t){var a=sn;if(!gt(e)||n(e.player)||i(e.config))return Je;var r=JSON.parse(JSON.stringify(e.config));return a.feed=e,a.processPlayerConfig(r,e.player),a.bentoApi[c](e),this.bentoApi},getFeed:function(){return this.feed},init:function(){if(window._edgeplayerFeedLoad=window._edgeplayerFeedLoad||[],window._edgeplayerFeedLoad.push(sn.onFeedLoaded),window&&window.EdgePlayer&&window.EdgePlayer.getPlayers){var e,n=window.EdgePlayer.getPlayers();if(n&&n.length>0)for(var i=0;i<n.length;i++)e=n[i],e&&e.config&&e.config.feed&&t(e)}}}}();e.AdMetadataVO={fromIMADataAndContentInfo:function(e,t,n){var i=JSON.parse(JSON.stringify(e));return i.isVpaid=e.vpaid,i.currentItemIndex=t.currentIndex,i.currentAdIndex=e.adPodInfo.adPosition,i.adType=t.inferredAdType,i.creativeDuration=e.duration,i.creativeId=e.adId,i.podId=e.adQueryId,i.isClickable=Je,i.hideAdMessage=Je,i.adCount=e.adPodInfo.totalAds,i}},e.AdRenditionVO={getAdRenditionVO:function(t,n){function i(){var e=c;if(t.offsetWidth){if(d)return e=t.offsetWidth>=760?l.FW_MAXIMUM_BITRATE_DESKTOP_BY_DIMENSIONS:l.FW_MINIMUM_BITRATE;switch(ze){case p&&_:e=l.FW_BITRATE_MOBILE_WIFI_BY_DIMENSIONS;break;default:e=l.FW_MINIMUM_BITRATE}return e}return c}function a(){var t=c,n=(new Date).getTime(),i=0,a=0,r=0;if(a+=g.value,i+=g.time,r=i&&(n-i)/1e3,!i||!a||r>l.FW_TEN_MINUTES_IN_SEC)return e.Cookie.setLocalStorage(l.FW_BANDWIDTH_KEY,""),c;switch(t=.6*a,ze){case u&&!_&&t>=l.FW_MAXIMUM_BITRATE_MOBILE:t=l.FW_MAXIMUM_BITRATE_MOBILE;break;case u&&_&&t>=l.FW_MAXIMUM_BITRATE_DESKTOP:t=l.FW_MAXIMUM_BITRATE_DESKTOP;break;case!u&&t<l.FW_MINIMUM_BITRATE:t=l.FW_MINIMUM_BITRATE;break;case!u&&t>l.FW_MAXIMUM_BITRATE_DESKTOP:t=l.FW_MAXIMUM_BITRATE_DESKTOP}return t}function r(e){var t=l.FW_PRELOAD_AD_SLOT_BEFORE_TIME,n=o.preloadBitrateRange0To800?o.preloadBitrateRange0To800:l.FW_PRELOAD_BITRATE_RANGE_0_800,i=o.preloadBitrateRange800To1000?o.preloadBitrateRange800To1000:l.FW_PRELOAD_BITRATE_RANGE_800_1000,a=o.preloadBitrateRange1000To5000?o.preloadBitrateRange1000To5000:l.FW_PRELOAD_BITRATE_RANGE_1000_5000;switch(ze){case 800>=e:t=n;break;case e>1e3:t=a;break;default:t=i}return t}function s(){f=l.FW_MINIMUM_BITRATE,h=e.Cookie.getLocalStorage(l.FW_BANDWIDTH_KEY),_=t.offsetWidth&&t.offsetWidth>1280;try{g=JSON.parse(h)}catch(n){g=Je}return f=gt(g)?a():i(),{desiredBitrateValue:f,preloadAdBeforeTime:r(f)}}var o=e.Config||{},l=e.FreewheelVars,c=o.defaultBandwidth?o.defaultBandwidth:l.FW_MINIMUM_BITRATE,d=Ft(n),u=!d,_=Je,p=n.networkConnectionType&&"mobile"!==n.networkConnectionType,h=0,g=Qe,f=0;return s()}},e.AppMediaMeasureVO=function(){return{fromMetadata:function(t,n,i,a,r,s){var o=e.AppMeasureVars,l=e.Object.getMemberIfExist,c=e.VideoVars,d=function(t){return e.String.addComma(e.String.getFormattedUserSegment(t))},u=function(e){var t={contentType:e.contentType,description:l(e,c.DESCRIPTION,""),duration:Math.round(l(e,c.DURATION,0)),franchise:e.franchise,guid:e.guid,index:l(e,c.INDEX,0),isLive:l(e,c.IS_LIVE,Je),link:l(e,c.LINK,""),mediaCategory:e.contentType,mediaDescription:l(e,c.DESCRIPTION,""),playlistLength:e.playlistLength,isFullEpisode:e.isFullEpisode,playlistDuration:e.playlistDuration,playlistId:e.playlistId,playlistTitle:e.playlistTitle,playlistUri:e.playlistId,reportable:l(e,c.REPORTABLE,ze),seoHTMLText:l(e,c.SEO_HTML_TEXT,""),thumbnailUrl:l(e,c.THUMPNAIL_URL,""),title:l(e,c.TITLE,""),videoTitle:e.videoTitle,videoId:e.videoId,hasPlaylist:e.playlistLength>1?ze:Je,artistName:e.artistName,mtvnOwner:e.owner,linearPubDate:e.linearPubDate,seasonN:e.seasonN,episodeN:e.episodeN};return t},_=u(t),p=d(a);return _.itemIndex=At(_.index)?_.index:o.DEFAULT_ITEM_INDEX,_.itemDuration=_.isLive?o.LIVE_DURATION:_.duration,_.pageName=Tt(n.omniturePathContext)?n.omniturePathContext+_.videoTitle:_.videoTitle,_.clipType=yt(_.hasPlaylist)?o.PLAYLIST_EVENT:o.SINGLECLIP_EVENT,_.segmentName=[_.itemIndex+1,_.videoTitle].join(rt),_.applicationName=Tt(n.applicationName)?n.applicationName:o.NO_APPLICATION_NAME,_.applicationContext=Tt(n.applicationContext)?n.applicationContext:o.NO_APPLICATION_CONTEXT,_.applicationOrigin=Tt(n.applicationOrigin)?n.applicationOrigin:o.NO_APPLICATION_ORIGIN,_.vmnUUID=r,_.userSegment=a,_.playlistDuration=yt(_.isLive)?o.LIVE_DURATION:Math.round(_.playlistDuration),_.tveAuthStatus="",_.mediaTitle=[_.videoId,_.franchise,yt(_.hasPlaylist)?o.PLAYLIST_ITEM:o.SINGLECLIP_ITEM].join(rt),yt(_.hasPlaylist)&&Pt(i)&&0===_.itemIndex?(_.hasPlaylistStarted=ze,_.events=[o.PLAYLIST_START,o.BUFFER_EVENT,o.PLAYLIST_DURATION,o.PLAYLIST_LENGTH,o.PLAYLIST_EVENT].join(tt),_.products=p+o.SEMICOLONS+[o.BUFFER_EVENT+at+s,o.PLAYLIST_DURATION+at+_.playlistDuration,o.PLAYLIST_LENGTH+at+_.playlistLength].join(ct),_.tveAuthStatus=n.tve&&yt(n.tve.tveAuthRequired)?o.LOCKED:o.UNLOCKED):(_.hasPlaylistStarted=i,_.events=[o.BUFFER_EVENT,_.clipType].join(tt),_.products=p+o.SEMICOLONS+(o.BUFFER_EVENT+at+s),Pt(_.hasPlaylist)&&(_.isLive===Je&&(_.events=e.String.appendWithComma(_.events,o.DURATION_EVENT),_.products+=ct+(o.DURATION_EVENT+at+Math.floor(_.itemDuration))),_.tveAuthStatus=n.tve&&yt(n.tve.tveAuthRequired)?o.LOCKED:o.UNLOCKED)),_},fromMetadataForAd:function(e){var t={mediaCategory:e.contentType,videoTitle:e.videoTitle,playlistTitle:e.playlistTitle,franchise:e.franchise,guid:e.guid,playlistId:e.playlistId};return t}}}();var on=e.ContentVO=function(e){this.length=e?e.length:0,this.reset()};on.prototype={reset:function(){return this.viewed=[],this.ended=[],this.index=0,this},setCurrent:function(e){var t;return e=e||{},this.index=t=Ct(e.currentIndex,this.index),this.ended[t]=Ct(e.hasContentEnd,this.ended[t]),this.viewed[t]=Ct(e.hasBeenViewed,this.viewed[t]),this},hasEnded:function(){return this.ended[this.index]},hasBeenViewed:function(){return this.viewed[this.index]},isLast:function(){return this.index===this.length-1},shouldPlayPostRollAd:function(){return this.isLast()&&this.hasEnded()},shouldPlayAd:function(){return!this.hasBeenViewed()||this.shouldPlayPostRollAd()}},on.getPlaylistLength=function(e){return Math.max(e.items&&e.items.length,1)},e.FreewheelAdMetadataVO={fromAdMetadata:function(t,n,i,a){function r(e){var t=0;return gt(e)&&St(e.getAdId)?t=e.getAdId():gt(e)&&!ft(e.adId)&&(t=e.adId),t}function s(e){var t=-1;return pt(T)?gt(e)&&!ft(e.podDuration)&&(t=e.podDuration):t=T.getTotalDuration(ze),t}function o(e){var t=Qe;return pt(T)?gt(e)&&!ft(e.adType)&&(t=e.adType):t=T.getTimePositionClass(),t}function l(t){var n=Je;return gt(t)&&St(t.getEventCallbackUrls)&&(n=t.getEventCallbackUrls(E.EVENT_AD_CLICK,E.EVENT_TYPE_CLICK).length>0),"Desktop"===e.Environment.getPlatform()&&(n=Je),gt(t)&&_(t)===ze&&(n=Je),n}function c(e){var t=-1;return gt(e)&&St(e.getActiveCreativeRendition)&&St(e.getActiveCreativeRendition().getDuration)?t=e.getActiveCreativeRendition().getDuration(ze):gt(e)&&!ft(e.duration)&&(t=e.duration),t}function d(e){var t=0;return gt(e)&&!ft(e._creativeId)?t=e._creativeId:gt(e)&&!ft(e.creativeId)&&(t=e.creativeId),t}function u(e){var t="";return pt(T)?gt(e)&&!ft(e.podId)&&(t=e.podId):t=T.getCustomId(),t}function _(e){var t=Je;return gt(e)&&St(e.getActiveCreativeRendition)&&St(e.getActiveCreativeRendition().getCreativeApi)?t=e.getActiveCreativeRendition().getCreativeApi()===f.VPAID_AD:gt(e)&&!ft(e.creativeAPI)&&(t=e.creativeAPI===f.VPAID_AD),t}function p(e){var t=Je;return e&&e.isBumper?t=ze:e&&e.getSoAdUnit&&(e.getSoAdUnit()===f.FRONT_BUMPER_KEY||e.getSoAdUnit()===f.END_BUMPER_KEY)&&(t=ze),t}function h(e){var t=Je,n=Qe,i=Qe;if(e&&e.podHasBumper)t=ze;else if(T&&T.getAdInstances&&(n=T.getAdInstances()))for(var a=0;a<n.length;a++)if(i=n[a],i&&i.getSoAdUnit&&(i.getSoAdUnit()===f.FRONT_BUMPER_KEY||i.getSoAdUnit()===f.END_BUMPER_KEY)){t=ze;break}return t}function g(t,n){var a=0;return i?a=i:gt(t)&&!ft(t.adCount)&&(a=t.adCount),e.Config&&e.Config.showAdCounterMessage===Je&&n&&(a=0),a}var f=e.FreewheelVars,E=tv.freewheel.SDK,T=gt(t)&&St(t.getSlot)?t.getSlot():Qe,m=h(t),A={adId:r(t),duration:s(t),adType:o(t),isClickable:l(t),creativeDuration:c(t),creativeId:d(t),podId:u(t),isVpaid:_(t),currentAdIndex:a?a:gt(t)&&!ft(t.currentAdIndex)?t.currentAdIndex:0,currentItemIndex:gt(n)&&!ft(n.currentIndex)?n.currentIndex:0,hideAdMessage:_(t),isBumper:p(t),podHasBumper:m,adCount:g(t,m)};return A}},e.FreewheelVO={fromConfigAndMetadata:function(t){var n=t.playerContainer||{},i=t.currentMetadata||{},a=t.playerConfig||{},r=t.playlistMetadata,s=t.itemIndex,o=t.tveHash||"",l=e.FreewheelVars,c=Wt||a.ref||"",d=function(){var e=JSON.parse(JSON.stringify(i));if(e.hasPlaylist===ze){var t=r.items[s];e.duration=t.duration,e.guid=t.rss.guid,e.index=s,e.rss=t.rss,e.src=t.src}return e}(),u=d.isFullEpisode,_=d.playlistLength,p=a&&"intl"===a.group,h=function(){return a.requireCOPPACompliance||"kids"===a.group},g=function(){var e=p?l.NETWORK_ID_INTL:l.NETWORK_ID;return a&&a.freewheelNetworkID&&(e=a.freewheelNetworkID),e},f=function(){var e=g()+rt+(Ft(a)?l.PROFILE_ID_AS3:l.PROFILE_ID);return a&&a.embedVars&&(Ft(a)?a.embedVars.freewheelFlashProfileId&&(e=a.embedVars.freewheelFlashProfileId):a.embedVars.freewheelHTML5ProfileId&&(e=a.embedVars.freewheelHTML5ProfileId)),e},E=function(){var t=l.DEF_CLIP_TIME,n=d.playlistDuration,i=a.useActualDuration===Je?Je:ze;return p?0:(t=i?u?n:e.String.toNumber(d.duration):u?l.DEF_CLIP_TIME*_:t,null!==t?t:l.DEF_CLIP_TIME)},T=function(){var e=Qe;return d&&(e=u?d.playlistId:d.guid),e},m=function(t){var n=[],i=a.useActualDuration===Je?Je:ze;if(u)for(var s=0;_>s;s++)r&&(t||i)?n[s]=r.items[s].duration:n[s]=s*l.DEF_CLIP_TIME;else t&&(n[0]=e.String.toNumber(d.duration));return n},A=function(){for(var e=0,t=0;_>t;t++)if(r.items[t].rss.guid===d.guid){e=t;break}return e},v=function(e){if(!pt(a)&&yt(a.freewheelSharedMGIDEnabled)&&"intl"!==a.group&&Tt(e)&&e.indexOf(":arc:")>=0){var t=e.split(":");if(5===t.length)return t[4]}return e},I=function(){
var t=Qe;return Ft(a)||"Safari"===e.Environment.getBrowser()&&!e.Environment.isIOS()?(t=a.freewheelFlashSiteSection,Tt(t)||(t=l.DEF_SITE_SECTION)):(t=a.freewheelSiteSection,Tt(t)||(t=l.DEF_MOB_SITE_SECTION)),!pt(a)&&yt(a.freewheelSiteSectionPathParsing)?e.String.trimSlashes(t):t},S=function(){return!pt(a)&&yt(a.freewheelSiteSectionPathParsing)?ze:Je},y=function(){var e={};return Tt(o)&&gt(a.tve)?(e[l.AUTHENTICATING_ENTITY]=o,e[l.AUTHORIZATION_REQUIRED]=""+a.tve.tveAuthRequired,e):Je},P=function(t){if(Tt(t.referrer)){var n=e.String.queryStringToObject(t.referrer);Tt(n[l.DEBUG_MODE])&&yt(n[l.DEBUG_MODE])&&(Tt(n[l.OVERRIDE_NETWORK_ID])&&(t.networkID=n[l.OVERRIDE_NETWORK_ID]),Tt(n[l.OVERRIDE_PROFILE_ID])&&(t.profileID=n[l.OVERRIDE_PROFILE_ID]),Tt(n[l.OVERRIDE_SSID])&&(t.siteSectionID=n[l.OVERRIDE_SSID]),Tt(n[l.OVERRIDE_MGID])&&(t.assetID=n[l.OVERRIDE_MGID])),Tt(n[l.VIDEO_ID_KEY])&&(t.assetID=n[l.VIDEO_ID_KEY])}},C=function(){var t=c,n=a.flashVars&&a.flashVars.fwKeyValues,i=Tt(t)&&e.String.queryStringToObject(t.toLowerCase()),r={},s=["id",l.DEBUG_MODE,l.OVERRIDE_NETWORK_ID,l.OVERRIDE_PROFILE_ID,l.OVERRIDE_SSID,l.OVERRIDE_MGID,l.ENTIRE_URL,l.TSLA];if(ht(n)&&Object.keys(n).length>0)for(var o in n)-1===s.indexOf(o)&&(r[o]=n[o]);if(yt(i[l.DEBUG_MODE]))for(var d in i)-1===s.indexOf(d)&&(r[d]=i[d]);return r},R=function(){var t={};if(h()){var n=e.Cookie.getLocalStorage(l.LAST_GUID_PLAYED);n&&(t[l.ARA_KEY]=n)}return t},b=function(){var t=e.Cookie.getLocalStorage(l.FW_DEMDEX_FW_SEGMENT),n=[],i=[];if(t!==Qe){n=t.split(",");for(var a=0,r=n.length;r>a;a++)if(n[a]){var s=n[a].split("=");i[a]=[s[0],s[1]]}}return i},D=function(e){return{adServer:e.adServer,networkId:e.networkID,profileId:e.profileID,siteSectionId:e.siteSectionID,preloadAdManifest:!0}},N={networkID:g(),siteSectionID:I(),siteSectionParsing:S(),assetID:v(T()),profileID:f(),duration:E(),videoViewRandom:Math.round(1e9*Math.random()),adServer:p?l.INTL_AD_SERVER_AS3:l.AD_SERVER_AS3,referrer:c,isFullEpisode:u,hasPlaylist:d.hasPlaylist,playlistID:v(d.playlistId),segmentsDuration:m(Je),segmentsActualDuration:m(ze),currentIndex:A(),flashVars:a.flashVars?a.flashVars:{},isKids:h(),tveKeyValues:y(),hostSellingKeyValues:R(),timeSinceLastAd:e.AdUtil.getTSLATime(a),extraFWKeyValues:C(),preloadAdSlotEnabled:e.Config&&e.Config.preloadAdSlotEnabled?e.Config.preloadAdSlotEnabled:Je,bandwidthEnabled:e.Config&&e.Config.bandwidthEnabled?e.Config.bandwidthEnabled:Je,failSafeTimerDisabled:a.failSafeTimerDisabled?a.failSafeTimerDisabled:Je,fwSegments:b(),adRenditionVO:e.AdRenditionVO.getAdRenditionVO(n,a),isIntl:p};return P(N),N.adRequestedData=D(N),N}},e.HeartbeatdataVO=function(){function t(e){if(ft(e))return Je;var t=e.rss.guid.split(":"),n=t[4],i="NO_VID_TITLE";return Tt(e.rss.group.category.videoTitle)?(i=e.rss.group.category.videoTitle,i+"_"+n):Tt(e.rss.title)?(i=e.rss.title,i+"_"+n):i}return{fromMetadata:function(e,t,n){var i={"v.mid":n,"v.segmentName":[e.itemIndex+1,e.videoTitle].join(rt),"v.vidTitle":e.videoTitle,"v.vidEpTitle":e.playlistTitle,"v.pageName":Tt(t.omniturePathContext)?t.omniturePathContext+e.videoTitle:e.videoTitle,"v.mgid":e.guid};return i},fromHeartbeatMetadata:function(n,i,a,r,s,o,l){var c=e.AppMeasureVars,d={"v.activity":yt(a)?"adStart":s?"liveStreamStart":yt(n.isFullEpisode)||yt(n.hasPlaylist)?"fepStart":"clipStart","v.episodeN":n.episodeN,"v.vidContentType":s?"Live Event":n.contentType,"v.epMGID":n.playlistId,"v.vidEpTitle":n.playlistTitle,"v.epCount":n.playlistLength,"v.epLength":s?c.LIVE_DURATION:Math.round(r),"v.mgid":ft(l)?n.guid:l.rss.guid,"v.vidTitle":Pt(t(l))?n.videoTitle:t(l),"v.vidLength":s?c.LIVE_DURATION:ft(l)?Math.round(n.duration):Math.round(l.duration),"v.vidFranchise":n.franchise,"v.vidArtist":n.artistName,"v.seasonN":n.seasonN,"v.vidAppName":Tt(i.applicationName)?i.applicationName:c.NO_APPLICATION_NAME,"v.contentStatus":i.tve&&yt(i.tve.tveAuthRequired)?c.LOCKED:c.UNLOCKED,"v.linearPubDate":n.linearPubDate,"v.vidOwner":n.owner,"v.vidCategory":s||yt(n.isFullEpisode)?"":n.categories,adTotalDuration:o?Math.round(o.creativeDuration):"",adCreativeId:o?o.creativeId:"",adId:o?o.adId:""};return d}}}(),e.MetadataVO=function(){var t=function(){return{guid:"NO_MGID",videoTitle:"NO_VID_TITLE",videoId:"NO_VID",owner:"OWNER_UNSET",playlistTitle:"NO_PLAYLIST_TITLE",playlistId:"NO_PLAYLIST_URI",franchise:"NO_FRANCHISE",contentType:"NO_CONTENT_TYPE",artistName:"NO_ARTIST",linearPubDate:"NO_LINPUBDATE",seasonN:"NO_SEASONN",episodeN:"NO_EPISODEN",cdn:"NO_CDN",categories:"NO_VIDCAT"}};return{fromRSSMetadata:function(n){var i=t(),a=n||{};if(gt(a)&&gt(a.rss)){if(Tt(a.rss.guid)){i.guid=a.rss.guid;var r=i.guid.split(":");5===r.length&&(i.owner=r[3],i.videoId=r[4],i.imaVideoId=r[4])}if(ht(a.rss.group)&&ht(a.rss.group.category)&&(Tt(a.rss.group.category.playlistURI)&&(i.playlistId=a.rss.group.category.playlistURI,i.playlistVideoId=i.playlistId.match(/(?!.+:)[^:].+/)[0],i.imaVideoId=i.playlistVideoId),Tt(a.rss.group.category.playlistRepTitle)?i.playlistTitle=a.rss.group.category.playlistRepTitle:Tt(a.rss.group.category.playlistTitle)?i.playlistTitle=a.rss.group.category.playlistTitle:Tt(a.title)&&(i.playlistTitle=a.title),Tt(a.rss.group.category.videoTitle)?(i.videoTitle=a.rss.group.category.videoTitle,i.videoTitle=i.videoTitle+"_"+i.videoId):Tt(a.rss.title)&&(i.videoTitle=a.rss.title,i.videoTitle=i.videoTitle+"_"+i.videoId),Tt(a.rss.group.category.franchise)&&(i.franchise=a.rss.group.category.franchise),Tt(a.rss.group.category.mtvnOwner)&&(i.owner=a.rss.group.category.mtvnOwner),Tt(a.rss.group.category.contentType)&&(i.contentType=a.rss.group.category.contentType),Tt(a.rss.group.category.artist)&&(i.artistName=a.rss.group.category.artist),Tt(a.rss.group.category.mtvnOwner)&&(i.owner=a.rss.group.category.mtvnOwner),Tt(a.rss.group.category.linearPubDate)&&(i.linearPubDate=a.rss.group.category.linearPubDate),Tt(a.rss.group.category.seasonN)&&(i.seasonN=a.rss.group.category.seasonN),Tt(a.rss.group.category.episodeN)&&(i.episodeN=a.rss.group.category.episodeN),Tt(a.rss.group.category.categories)&&(i.categories=a.rss.group.category.categories)),ht(a.mediaGen)&&(ht(a.mediaGen.rendition)&&Tt(a.mediaGen.rendition.cdn)&&(i.cdn=a.mediaGen.rendition.cdn),ht(a.mediaGen)&&It(a.mediaGen.beacons)&&(i.beacons=a.mediaGen.beacons[0])),Tt(a.feedWithQueryParams)){var s=e.String.queryStringToObject(a.feedWithQueryParams);s.uuid&&(i.imaVideoId=s.uuid.match(/(?!.+:)[^:].+/)[0])}}for(var o in i)i.hasOwnProperty(o)&&(a[o]=i[o]);return a}}}();var ln=function(){return{fromMetadata:function(e){var t=e.playlistTitle;e.hasPlaylist&&!e.isFullEpisode&&(t=e.playlistTitle+"_"+(e.itemIndex+1)+"_"+e.videoTitle);var n=e.isFullEpisode?e.playlistDuration:e.duration,i={videoType:e.videoType,videoTitle:e.hasPlaylist?t:e.videoTitle,videoId:e.isAd?e.adId:e.videoId,videoLength:Math.floor(e.isAd?e.adDuration:n),franchise:e.franchise?e.franchise:"",playlistURI:ht(e.rss)&&e.rss.group.category.playlistURI?e.rss.group.category.playlistURI:"",dprEnabled:e.nielsenDprEnabled,censuscategory:t?t:""};return i.category=i.franchise,e.hasPlaylist&&e.playlistId&&e.isFullEpisode&&!e.isAd&&(i.videoId=/.+:uma:.+$/.test(e.playlistId)?e.playlistId.match(/\d+$/)[0]:e.playlistId),i}}}();e.QoeVO=function(e){var t={},n=[],i={},a="",r=ze,s=tv.freewheel.SDK,o=function(e){var t=-1,n=Je,i=Je,a=Je,r=0,s=Qe,o=Qe,l=Qe,c=Qe,d=Qe,u=Qe,_=-1;if(e){var p=e.getActiveCreativeRendition();t=1e3*p.getDuration(),n="VPAID"===p.getCreativeApi(),i=null!=p.getWrapperType()&&p.getWrapperType().indexOf("vast")>=0,a=null!=p.getWrapperUrl(),r=e.getAdId(),_=e.getAllCreativeRenditions().length}return{durationMs:t,isVpaid:n,isVast:i,isThirdParty:a,adId:r,creativeId:s,creativeRenditionId:o,desiredBitrateKbps:l,actualBitrateKbps:c,minBitrateKbps:d,maxBitrateKbps:u,renditionsCount:_}},l=function(e){var t=!1,n=!1,i=!1,a=[];if(e&&e.getAdInstances)for(var r=e.getAdInstances(),s=Qe,l=Qe,c=0;c<r.length;c++)s=r[c],l=o(s),l.isVpaid&&(t=!0),l.isVast&&(n=!0),l.isThirdParty&&(i=!0),a.push(l);else e&&(t=e.containsVPAID,n=e.containsVAST,i=e.containsThirdParty,a=e.ads);return{containsVpaid:t,containsVast:n,containsThirdParty:i,ads:a}};if(e&&e.length)for(var c=0,d=e.length;d>c;c++){var u=e[c];switch(u.getTimePositionClass()){case s.TIME_POSITION_CLASS_PREROLL:t=l(u);break;case s.TIME_POSITION_CLASS_MIDROLL:n.push(l(u));break;case s.TIME_POSITION_CLASS_POSTROLL:i=l(u)}u.getTimePositionClass()===Qe&&u.getTimePosition()>0&&n.push(l(Qe))}else if(e)for(var _ in e)if(e[_])switch(_){case"preroll":t=l(e[_]);break;case"midrolls":for(var p=e[_],h=0,g=p.length;g>h;h++)n.push(l(p[h]));break;case"postroll":i=l(e[_]);break;case"errorText":a=e[_];break;case"success":r=e[_]}return{preroll:t,midrolls:n,postroll:i,errorText:a,success:r}};var cn=function(){return{fromMetadata:function(t,n){var i="*null",a=t.hasPlaylist?t.playlistTitle:t.videoTitle,r=1e3*(t.isAd?t.adDuration:t.isLive?0:t.duration),s=t.isAd?t.adId:t.videoId,o=$t,l=Qe;l=!ft(n&&n.tve)&&n.tve.tveAuthRequired?o.LOCKED:o.UNLOCKED,r=0>r?0:e.Math.roundOff(r);var c={ns_st_cn:t.partIndex,ns_st_ci:s,ns_st_pn:At(t.index)?t.index+1:i,ns_st_tp:t.playlistLength>0?t.playlistLength:0,ns_st_cu:t.rss&&t.rss.link?t.rss.link:i,ns_st_cl:r,ns_st_pu:t.owner,ns_st_pr:t.franchise?t.franchise:i,ns_st_ep:a?a:i,ns_st_ad:t.isAd?"1":"0",ns_st_ct:t.clipTypeId};return t.isAd||(c.ns_st_sn=t.seasonN,c.ns_st_tdt=t.linearPubDate,c.ns_st_en=t.episodeN,c.ns_st_cdn=t.cdn,c.via_st_lock=l),c.c3=c.ns_st_ep,c.c4=c.ns_st_pu,c.c6=c.ns_st_pr,c},fromAdMetadata:function(t,n,i,a){var r=null;try{r=JSON.parse(JSON.stringify(n.items[t.currentItemIndex]))}catch(s){}a&&a.title&&(r.title=a.title);var o=e.MetadataVO.fromRSSMetadata(r);o.playlistLength=1,o.index=0,o.hasPlaylist=n.items.length>1;var l=$t;if(o.adId=t.adId,o.adDuration=t.creativeDuration,o.partIndex=i,o.isAd=ze,o.isLive)o.clipTypeId=l.AD_LIVE;else if(Tt(t.adType)){var c="AD_"+t.adType.toUpperCase();o.clipTypeId=Tt(l[c])?l[c]:l.AD_OTHER}return cn.fromMetadata(o)}}}();e.AppMeasure=function(){function t(){for(var e="";e=a.pop();)r[e]=""}function n(e){var n="",s=Object.keys(e);for(r.trackExternalLinks=Je;n=s.pop();)a.push(n),r[n]=e[n];r.tl(e.lnk,e.linkType,e.linkName),t(),i.trackExternalLinks===ze&&setTimeout(function(){r.trackExternalLinks=ze},0)}var i=Qe,a=[],r=Qe;return this[d]=function(n){return i=n.getData()||{},r=new AppMeasurement,Tt(i.omnitureAccount)?(t(),r.setAccount(i.omnitureAccount),(kt||yt(i.omnitureEnableFirstPartyCookie))&&(r.trackingServer=e.Environment.getCnamedDomain()),yt(i.omnitureEnableVisitorNamespace)&&(r.visitorNamespace=e.AppMeasureVars.VISITOR_NAMESPACE),ze):Je},this[J]=function(t){var i=t.getData();return i=gt(i)?i:{},i.linkType=i.linkType||"o",i.referrer=location.href,e[Z](i),n(i),i},this},e.AppMediaMeasure=function(t){function n(){for(var e="";e=Y.pop();)K[e]="";for(;e=H.pop();)K.Media[e]=""}function i(e){for(var t="",n=Object.keys(e);t=n.pop();)/(trackVars|trackEvents)/.test(t)?(H.push(t),K.Media[t]=e[t]):(Y.push(t),K[t]=e[t]);return ze}function a(e,t){return i(e),K.Media.track(t),n(),ze}function r(e,t,a,r,s){return i(e),K.Media.completeByCloseOffset=Je,K.Media.openAd(a,-1,r,e.videoTitle,t.adType,t.currentAdIndex),K.Media.play(a,0),n(),ze}function s(e){K.trackExternalLinks=Je,i(e),K.tl(e.lnk,e.linkType,e.linkName),n(),G.omnitureTrackExternalLinks===ze&&setTimeout(function(){K.trackExternalLinks=ze},0)}function o(){return K=new AppMeasurement,K.loadModule("Media"),Tt(G.omnitureAccount)?(n(),K.setAccount(G.omnitureAccount),(kt||yt(G.omnitureEnableFirstPartyCookie))&&(K.trackingServer=e.Environment.getCnamedDomain()),void(yt(G.omnitureEnableVisitorNamespace)&&(K.visitorNamespace=e.AppMeasureVars.VISITOR_NAMESPACE))):Je}function l(t){var i=d();return n(),K.referrer=e.String.lengthLimiter(zt(),ue.URL_LIMIT,et),K.pageURL=e.String.lengthLimiter(document.URL,ue.URL_LIMIT,et),K.debugTracking=_t(),K.trackLocal=ze,K.setAccount(G.omnitureSuite),Tt(i)?K.trackingServer=i:Tt(G.omnitureTrackingServer)&&(K.trackingServer=G.omnitureTrackingServer),K.trackingServer&&Tt(G.omnitureVisitorMigrationKey)&&Tt(G.omnitureVisitorMigrationServer)&&(K.visitorMigrationKey=G.omnitureVisitorMigrationKey,K.visitorMigrationServer=G.omnitureVisitorMigrationServer),Tt(G.omnitureCharacterSet)&&(K.charSet=G.omnitureCharacterSet),Tt(G.omnitureDataCenter)&&(K.dc=G.omnitureDataCenter),G.omnitureVisitorNamespace&&(K.visitorNamespace=ue.VISITOR_NAMESPACE),Tt(se)&&(K.visitorID=se),yt(G.omnitureMediaTracking)&&(K.Media.autoTrack=Je,K.Media.trackWhilePlaying=ze,K.Media.trackUsingContextData=ze,t?K.Media.contextDataMapping=Se:K.Media.contextDataMapping=ye),G}function c(t,n){var i=new e.AppMeasureMapper.getMappedObject(t,G,n);return i.events=t.events,i}function d(){var t=window.btg;return t&&t.config&&t.config.Omniture&&t.config.Omniture.enableFirstPartyCookie?oe=e.Environment.getCnamedDomain():oe===Qe&&gt(G)?oe=G.omnitureTrackingServer:oe}function E(t,n){var i=t&&t.items&&t.items[n.currentItemIndex];if(gt(i)){i.title=z.title;var a=e.MetadataVO.fromRSSMetadata(i),r=e.AppMediaMeasureVO.fromMetadataForAd(a),s={videoTitle:r.videoTitle,mediaCategory:r.mediaCategory,playlistTitle:r.playlistTitle,franchise:r.franchise,guid:r.guid,podId:n.adType,currentAdIndex:n.currentAdIndex,playlistId:r.playlistId};return s}return Je}function v(e,t){K.Media.monitor=function(n,i){le=i.timePlayed,"CLOSE"===i.event?(de=e.itemIndex===e.playlistLength-1?Je:de,I(e.videoTitle,i.timePlayed,ze)):"MONITOR"===i.event&&(e.isLive?S(e.videoTitle,i.timePlayed):y(e.videoTitle,i.timePlayed,i.percent,t))}}function I(t,n,i){var r=yt(ae.hasPlaylist),s=ae.itemIndex===ae.playlistLength-1,o={};n=Math.floor(n),Ee=Math.abs(Te-n),Te=n,!pt(W)&&ae.reportable&&0!==n&&(te.events="",te.products="",i&&(te.events=e.String.appendWithComma(te.events,ue.MEDIA_COMPLETE),r&&s&&ge===Math.pow(2,ae.playlistLength)-1&&(te.events=e.String.appendWithComma(te.events,ue.MEDIA_PLAYLIST_COMPLETE),ge=0)),o=c(te,Je),a(o,t),i&&(o.events=e.String.appendWithComma(o.events,ue.MEDIA_TIMEPLAYED+at+Ee),R(o,Je),Te=0,Ee=0))}function S(e,t){var n=Pt(G.omnitureLiveEventHeartbeatsDisabled);n&&Math.floor(t/ae.liveEventBeaconFreq)>fe&&(fe++,I(e,t))}function y(t,n,i,a){for(var r=J.length,s=0;r>s;s++){var o=J[s];if(!o.fired&&i>=o.min&&i<=o.max){o.type===ue.TRACKED98?a[T](new e.Intent(T,{playhead:le})):G.omnitureHeartbeatsDisabled||I(t,n),J=J.slice(s+1);break}}}function P(e){if(J=[],ae.itemDuration>=ue.MIN_DURATION&&ae.itemDuration<=ue.MAX_DURATION)J.push({type:ue.TRACKED50,min:50,max:75});else if(ae.itemDuration>=ue.MAX_DURATION)for(var t=e>=900&&1800>=e?10:e>1800&&3600>=e?5:e>3600&&7200>=e?3:e>7200&&10800>=e?2:e>10800?1:25,n=100/t,i=1;n>i;i++){var a=i*t,r=a+t,s=ue.TRACKED+a;r=100===r?98:r,J.push({type:s,min:a,max:r})}J.push({type:ue.TRACKED98,min:98,max:100})}function C(){fe=0;for(var e=It(G.omnitureLiveEventData)?G.omnitureLiveEventData:[],t=e.length,n=At(G.omnitureLiveEventBeaconFreq)?G.omnitureLiveEventBeaconFreq:ue.LIVE_BEACON_FREQ,i=0;t>i;i++){var a=ht(e[i])?e[i]:{};if(!ft(a.guid)&&a.guid===ae.guid&&At(a.beaconFreq)){ae.liveEventBeaconFreq=a.beaconFreq;break}}At(ae.liveEventBeaconFreq)&&ae.liveEventBeaconFreq>=ue.LIVE_FREQ_MAX?ae.liveEventBeaconFreq=ue.LIVE_FREQ_MAX:At(ae.liveEventBeaconFreq)&&ae.liveEventBeaconFreq<=ue.LIVE_FREQ_MIN?ae.liveEventBeaconFreq=ue.LIVE_FREQ_MIN:ae.liveEventBeaconFreq=n}function R(n,i){var a=JSON.parse(JSON.stringify(n));yt(i)&&(a.events=e.String.appendWithComma(a.events,ue.VIDEOITEM_EVENT)),a.trackVars=Qe,a.host=window.location.hostname,t[Z](a)}function b(t,n){return ht(t)&&Tt(n)?(t.events=e.String.appendWithComma(t.events,n),t):t}function D(e,t,n){var i={};return n&&(i=n),i.events=e,i.linkType=i.linkType||"o",i.linkName=t,s(i),i}function U(e){var t,n=window.EdgePlayer.Timeouts;switch(e){case n.AD_PLAY_REQUEST:t=ue.AD_PLAY_REQUEST_TIMEOUT;break;case n.AD_BREAK_START:t=ue.AD_BREAK_START_TIMEOUT;break;case n.AD_STARTED:t=ue.AD_STARTED_TIMEOUT;break;case n.INTRA_AD:t=ue.INTRA_AD_TIMEOUT;break;case n.AGGREGATE:t=ue.AGGREGATE_TIMEOUT}return t}function x(e){return e&&ht(e)&&ht(e.getData())?e.getData():{}}function F(e,t){return e&&ht(e.getData())&&!ft(e.getData()[t])?e.getData()[t]:Qe}var B,Y=[],H=[],G=Qe,K=Qe,W={},j=Je,q=0,X="",Q=t.getPlaylistMetadata(),z=t.getFirstItemData(),J=[],$="",ee="",te={},ae={},se=Qe,oe=Qe,le=0,ce=Qe,de=Je,ue=e.AppMeasureVars,ge=0,fe=0,Ee=0,Te=0,me=Je,Ae=Je,ve=Je,Ie=new e.Timer,Se={"a.media.ad.name":ue.AD_CREATIVE_ID,"a.media.ad.timePlayed":ue.AD_TIME_SPENT,"a.media.ad.view":ue.AD_START_EVENT,"a.media.ad.complete":ue.AD_END_EVENT,"a.media.ad.pod":ue.AD_POD_ID,"a.media.ad.podPosition":ue.AD_POD_ITEMS},ye={"a.media.name":ue.MEDIA_NAME,"a.media.timePlayed":ue.MEDIA_TIMEPLAYED,"a.media.segmentView":ue.MEDIA_SEGMENTVIEW,"a.media.segment":ue.MEDIA_SEGMENTEVAR,"a.media.view":ue.VIDEOITEM_EVENT};return this[u]=function(t){var n={};return G=x(t),o(),n=JSON.parse(JSON.stringify(G)),"partner"===n.type?(n.applicationName=G.partnerPlayerName||ue.DEFAULT_PARTNER_PLAYER_NAME,n.omnitureSuite=G.omniturePartnerAccount,n.omniturePathContext=ue.SYNDICATED_PATH):"normal"===n.type?(n.applicationName=G.viralPlayerName||ue.DEFAULT_VIRAL_PLAYER_NAME,n.omnitureSuite=G.omnitureViralAccount,n.omniturePathContext=ue.VIRAL_PATH):(n.applicationName=G.networkPlayerName||ue.DEFAULT_NETWORK_PLAYER_NAME,n.omnitureSuite=G.omnitureNetworkAccount,n.omniturePathContext=ue.NETWORK_PATH),Tt(zt())?n.applicationContext=zt().substring(0,400):n.applicationContext=Tt(G.ref)?G.ref:e.AppMeasureVars.NO_APPLICATION_CONTEXT,n.applicationOrigin=Tt(G.applicationOrigin)?G.applicationOrigin:e.AppMeasureVars.NO_APPLICATION_ORIGIN,G=n},this[_]=function(e){W=x(e)},this[M]=function(e){B=x(e)},this[p]=function(t){var a=x(t),r=a.playhead,s=0,d={};return gt(W)?(W=JSON.parse(JSON.stringify(W)),e.Extend(W,z),At(r)?(gt(ae)&&!ft(ae.itemIndex)&&ae.itemIndex!==W.index&&this[T](new e.Intent(T,{playhead:le})),ee=e.Cookie.read(ue.VMN_UUID_COOKIE),Ie.stop(),s=Ie.getElapsedMilliSeconds()/1e3,Ie.reset(),ae=e.AppMediaMeasureVO.fromMetadata(W,G,de,$,ee,s),de=ae.hasPlaylistStarted,ae.reportable?(yt(ae.isLive)&&C(),ce=ae.videoTitle,o(),l(Je),P(ae.itemDuration),v(ae,this),te=e.HeartbeatdataVO.fromMetadata(ae,G,ee),d=c(ae,ze),yt(Ae)&&(d=b(d,e.AppMeasureVars.POD_COMPLETE_EVENT)),i(d),K.Media.open(ce,ae.itemDuration,G.applicationName),K.Media.play(ce,r),ae.hasPlaylist&&(ge|=Math.pow(2,ae.itemIndex)),R(d,ze),me=Je,Ae=Je,n(),d):Je):Je):Je},this[h]=function(e){var t=F(e,"playhead");gt(ae)&&ae.reportable&&At(t)&&K.Media.play(ce,t)},this[g]=function(e){var t=F(e,"playhead");gt(ae)&&ae.reportable&&At(t)&&K.Media.stop(ce,t)},this[f]=function(e){var t=F(e,"playhead");gt(ae)&&ae.reportable&&At(t)&&K.Media.stop(ce,t)},this[T]=function(e){var t=F(e,"hasPlayerDestroyed"),n=F(e,"playhead");t&&(Ie.stop(),Ie.reset()),gt(ae)&&ae.reportable&&At(n)&&(K.Media.stop(ce,n),K.Media.close(ce))},this[re]=function(e){return ve?void 0:(this[g](e),Ie.start())},this[m]=function(e){return Ie.stop(),q=gt(ae)&&ae.reportable&&At(e.getData().playhead)?e.getData().playhead:Qe},this[ne]=function(e){return ze},this[ie]=function(e){return se=F(e,"value")},this[N]=function(){return gt(G)&&G.omnitureAdTracking&&l(ze),ve=ze,Ie.stop(),ze},this[O]=function(){return yt(me)&&(Ae=ze),ve=Je,ze},this[A]=function(){j&&(me=Je,j=Je,K.Media.complete(X,-1),K.Media.stop(X,-1),X="")},this[L]=function(){var t;if(gt(G)&&G.omnitureAdTracking&&!j&&gt(B)){var n=E(Q,B);me===Je?(t=c(n,Je),t=b(t,e.AppMeasureVars.POD_START_EVENT),me=ze):t={},t.videoTitle=n.videoTitle,X=B.creativeId+"_"+Math.floor(1e4*Math.random()),r(t,B,X,G.applicationName,-1),j=ze}return t},this[k]=function(){j=Je,K.Media.complete(X,-1),K.Media.stop(X,-1),X=""},this[V]=function(){K.Media.stop(X,-1)},this[w]=function(){K.Media.play(X,0)},this[_e]=function(){K.Media.stop(X,-1)},this[pe]=function(){K.Media.play(X,0)},this[he]=function(e){var t,n=x(e);switch(gt(G)&&G.omnitureAdTracking&&l(ze),n.type){case"AD_TIMEOUT_FAILOVER":t=U(n.phase),D(t,n.type);break;case"FW_ERROR":D(n.error,n.type);break;case"REPORT-BENTO-CONFIG":D(n.error,n.type,{eVar6:Wt,eVar7:z.guid,eVar8:"ERROR - No Profile"})}},this},e.Criteo=function(){var t=Qe,n=e.CriteoVars.CRTG_URL+"netId="+e.CriteoVars.CRTG_NID+"&cookieName="+e.CriteoVars.COOKIE_NAME+"&rnd="+e.Math.random(1e17,1e18)+"&varName="+e.CriteoVars.CRTG_VAR_NAME;return this[d]=function(i){return t=i.getData(),e.DOM.loadScript(n),t},this.getKeyValue=function(){return e.Cookie.read(e.CriteoVars.COOKIE_NAME)},this},e.Demdex=function(){return this[u]=function(t){e.MessageUtil.postMessage(e.MessageVars.DEMDEX_SEGMENT)},this[ee]=function(t){var n=t.getData();n.value&&e.Cookie.setLocalStorage(e.FreewheelVars.FW_DEMDEX_FW_SEGMENT,n.value)},this[Z]=function(t){var n=t.getData(),i={},a={};"0"===e.Cookie.read("vmn_3pc")&&(a.d_dpuuid=e.Cookie.read("vmn_uuid"));for(var r in n)if(n.hasOwnProperty(r)){if(pt(n[r])||!Et(n[r]))continue;var s,o=r.toLowerCase();s=o.match(/^(prop\d{1,2})$/gi)?o.replace("prop","c"):o.match(/^(evar\d{1,2})$/gi)?o.replace("evar","v"):o.match(/^(hier\d{1,2})$/gi)?o.replace("hier","h"):o.match(/^(channel)$/gi)?o.replace("channel","ch"):r,a["c_"+s]=encodeURIComponent(n[r])}return i.url=e.DemdexVars.DEMDEX_URL+"event?",i.params=a,i.appendRndToURL=ze,e.HttpRequest.sendImageBeaconRequest(i),i},this},e.Freewheel=function(t,n){function i(){if(j){var e=j.getAdPlayhead(),n=j.getAdPodPlayhead();if(e===Qe)return void Te.stop();t.onAdPlayheadUpdate({adPlayhead:e,adPodPlayhead:n})}}function a(){return me.stop(),fe?ze:me.getElapsedSeconds()>ge?(me.reset(),t.onAdSkipped(f.getSkippedAdId(),{level:e.ErrorCode.ERROR,message:l+"Receiver ad request timeout"}),void(j&&j.stopSlot())):void me.start()}function r(){return q?Je:(d!==Qe&&d.freewheelEnabled&&(x=e.FreewheelVO.fromConfigAndMetadata({currentMetadata:I,playerConfig:d,playlistMetadata:C,itemIndex:D,playerContainer:re,tveHash:H}),j=M?new e.FreewheelControllerAS3(x,Qe,t):new e.FreewheelControllerJS(x,t),j&&(q=ze,j.init())),ze)}function s(e){var t=e.getData()||{},n=t.isLoggedIn||Je,i=gt(t.provider)&&t.provider.id||Je;return n&&i?(i=i.toLowerCase().split(" ").join(""),window.tve_mvpd_list[i]?H=window.tve_mvpd_list[i]:H):H}function o(){return j.playedTime&&(j.playedTime=0),e.Cookie.getLocalStorage(e.AdVars.VIDEO_PLAYED_TIME)===Qe&&e.Cookie.setLocalStorage(e.AdVars.VIDEO_PLAYED_TIME,0),ze}var l=Be+"Freewheel ",d=Qe,f=this,E=Qe,I=Qe,C=Qe,R=-1,D=0,M=Je,x={},H="",W=Je,j=n||Qe,q=Je,X=1,Q=Je,J=0,Z=e.FreewheelVars,ee=Qe,te=0,ne=0,ie=Qe,re=Qe,oe=Qe,le=Je,ce=Qe,ue={start:Ze,stop:Ze,reset:Ze,getElapsedSeconds:Ze},_e=new e.Timer({timerFunc:a,interval:1e3}),pe=6,he=17,ge=pe,fe=Je,Ee=ze;ce=t.getPlayer(),I=t.getFirstItemData(),C=t.getPlaylistMetadata(),re=t.getPlayerContainer(),J=I.playlistDuration,Q=I.isPlaylistMode,X=C.items.length,d=ce.config||{};var Te=new e.Timer({timerFunc:i,interval:100}),me=yt(d.failSafeTimerDisabled)?ue:_e;return this.getSkippedAdId=function(){if(ie===Z.PREROLL){if(ee&&ee.preroll&&ee.preroll.ads[te])return ee.preroll.ads[te].adId}else if(ie===Z.MIDROLL){if(ee&&ee.midrolls&&ee.midrolls[ne]&&ee.midrolls[ne].ads[te])return ee.midrolls[ne].ads[te].adId}else if(ie===Z.POSTROLL&&ee&&ee.postroll&&ee.postroll.ads[te])return ee.postroll.ads[te].adId},this[u]=function(e){return d=e.getData(),d.startIndex&&(D=d.startIndex),Ft(d)&&(M=ze),q=Je,r(),d},this[b]=function(n){W=Je;var i=n.getData(),a=e.AdUtil.isTimeSinceLastAdElapsed(d);return ie=e.AdUtil.getAdType(i.data,Q,X),a?j&&j.isTimeForAnAd(ie,i.data.currentIndex,o):(j&&j.updateCurrentItemIndex(ie,i.data.currentIndex),t.onAdPodPlayEnd()),a?ie:Qe},this[_]=function(e){return E=e.getData()},this[c]=function(e){return q||M||r(),Ft(d)?(M=ze,ze):ze},this[p]=function(e){Ee===Je&&(Ee=ze,re.classList.remove(Kt));var t=e.getData();return R=t&&t.playhead?t.playhead:R,le=Je,me.reset(),j&&j.videoState("PLAYING"),ze},this[h]=function(e){var t=e.getData();return R=t&&t.playhead?t.playhead:R,j&&j.videoState("PLAYING"),ze},this[g]=function(e){var t=e.getData();return R=t&&t.playhead?t.playhead:R,j&&j.videoState("PAUSED"),ze},this[m]=function(t){var n=t.getData();return R=n&&n.playhead?n.playhead:R,j&&(e.AdUtil.persistVideoPlayedTime(),j.playheadUpdate(R)),R},this[A]=function(n){var i=n.getData();return D=i&&i.itemIndex?i.itemIndex:0,t.isAdPlaying()&&Q&&j.destroy(),Q&&(q=Je,r(),j.resetAdBridge()),t.isAdPlaying()&&Q&&t.onAdBreakTerminated({persist:Je,errorObj:{code:"ITEM-INDEX-CHANGED-DURING-AD",level:e.ErrorCode.INFO,message:"User jumped to different Item in the playlist when Ad is playing"}}),D},this[S]=function(e){var t=e.getData();return j&&j.uiStateChange(t),t},this[se]=function(){return M&&j&&j.onPlayerResize(),ze},this[v]=function(e){var n=e.getData();return j&&t.isAdPlaying()&&j.uiStateChange(n),n},this[U]=function(){return j&&j.adClick(),ze},this[G]=function(e){var t=Je;return te=0,ne=0,e&&(ee=e.getData()),j&&(t=j.adRequestCompleted(e)),t},this[K]=function(e){return W=ze,Te.stop(),j&&(j.onAdBreakTimeout(e),j.stopSlot()),ze},this[B]=function(e){return W=ze,Te.stop(),j&&j.onAdBridgeMultiLoaded(e),ze},this[ae]=function(e){return Pt(Q)&&Pt(le)?(q=Je,le=ze,r(),j.resetAdBridge(),ze):Je},this[T]=function(e){if(j){var t=x.segmentsDuration.length;x.isFullEpisode&&x.currentIndex!==t-1?j.videoState("PAUSED"):j.videoState("COMPLETED"),j.closeOverlay(e.getData())}return ze},this[N]=function(e){return ge=pe,j&&(me.start(),St(j.slotStarted)&&j.slotStarted(),Te.start(),pt(oe)||j.setVolume(oe)),ze},this[O]=function(e){return te=0,j&&(me.reset(),St(j.slotEnded)&&j.slotEnded(),Te.stop()),ze},this[L]=function(){return Te.start(),me.reset(),te+=1,j&&j.adPlayStart(),ze},this[k]=function(){return me.start(),ze},this[V]=function(e){return j&&(j.adPause(),Te.stop()),ze},this[w]=function(e){return j&&(j.adUnPause(),Te.start()),ze},this[F]=function(e){return j&&j.adBridgeReady(),ze},this[Y]=function(e){var n=e.getData();if(n.subType&&n.subType.match(/truex/)){switch(n.subType){case"truex_choice_card_start":ge=he,re.classList.add(Kt),Ee=Je,t.onTrueXChoiceCardStart(n);break;case"truex_interact":me.reset();break;case"truex_watch":fe=ze,Ee=ze,re.classList.remove(Kt),ge=pe,t.onTrueXChoiceCardEnd(n)}return ze}if(j){if(W)return j.stopSlot(),ze;j.adRenderer(n)}return ze},this[$]=function(t){var n=t.getData();return ht(n)&&Tt(n.value)?(e.Cookie.setLocalStorage(e.FreewheelVars.VMN_UUID,n.value),ze):Je},this[y]=function(e){var t=e.getData();return ht(t)&&At(t.volumeLevel)?(oe=t.volumeLevel,j&&j.setVolume(t.volumeLevel),ze):Je},this[de]=function(e){var t=e.getData();j&&j.setFlashPluginStatus(t)},this[z]=function(e){var n=e.getData();return ee&&n?void(n.adType===Z.PREROLL?t.sendAdPlayRequest(ee.preroll):n.adType===Z.POSTROLL?t.sendAdPlayRequest(ee.postroll):n.adType===Z.MIDROLL&&(t.sendAdPlayRequest(ft(ee.midrolls[ne])?{}:ee.midrolls[ne]),ne+=1)):Je},this[P]=function(e){j&&j.destroy(e),me.reset(),me.stop(),Te.reset(),Te.stop()},this[be]=s,this.resetCounters=o,this.initFWController=r,this},e.GoogleIMA=function(t){function n(){s=t.getFirstItemData(),o=t.getPlaylistMetadata(),d=o?o.items.length:1,l=s.isPlaylistMode}function i(){Tt(a.vpaidVersion)&&r.setVpaidVersion(a.vpaidVersion),P(o),r.setSegmentDurations(g)}var a,r,s=(e.AdSdkLoader,Qe),o=Qe,l=Je,d=1,h=Je,g=[],f=Qe,E=Je,T=0,I=0,P=function(e){var t=e.items&&e.items.length?e.items.length:1,n=0;if(t>0)for(var i=0;t>i;i++)n+=e.items[i].duration,g[i]=n;I=Math.floor(g[g.length-1])};return this[le]=function(){return St(r[le])&&r[le]()},this[u]=function(n){return a=n.getData(),r=Ft(a)?new e.IMAControllerAS3(t):new e.IMAControllerJS(t),i(),r},this[ae]=function(){return i(),r.onReplay()},this[S]=function(e){return r[S](e.getData())},this[v]=function(e){return t.isAdPlaying()?St(r[v])&&r[v](e.getData()):void 0},this[m]=function(t){var n=t.getData();return T=n.fullEpPlayhead,e.AdUtil.persistVideoPlayedTime(),ze},this[_]=function(e){return St(r[_])&&r[_](e.getData())},this[p]=function(e){return h=Je,St(r[p])&&r[p](e.getData()),h},this[C]=function(e){return St(r[C])&&r[C](e.getData())},this[R]=function(){return St(r[R])&&r[R]()},this[b]=function(n){var i=e.AdUtil.isTimeSinceLastAdElapsed(a),s=I-T;if(E=Je,!i)return t[O](),ze;if(!h){var o=e.FreewheelVars,c=n.getData();if(c=c.data?c.data:{},c.inferredAdType=e.AdUtil.getAdType(c,l,d,s),c.inferredAdType!==o.POSTROLL&&c.hasContentEnd===ze)return t[O](),Je;h=ze,r[b](c)}},this[F]=function(){return St(r[F])&&r[F]()},this[A]=function(n){var i=n.getData();h=Je,l&&St(r.destroyAdManager)&&r.destroyAdManager(),r.onPlayIndexChanged(i,l),t.isAdPlaying()&&l&&t.onAdBreakTerminated({persist:Je,errorObj:{code:"ITEM-INDEX-CHANGED-DURING-AD",level:e.ErrorCode.INFO,message:"User jumped to different Item in the playlist when Ad is playing"}})},this[ce]=function(){return St(r[ce])&&r[ce]()},this[U]=function(){return St(r[U])&&r[U]()},this[D]=function(e){return St(r[D])&&r[D](e.getData())},this[c]=function(e){var t=e.getData();return St(r.setImaPlaceholder)&&t.player.imaPlaceholder&&r.setImaPlaceholder(t.player.imaPlaceholder),St(r[c])&&r[c](t)},this[se]=function(){return Ft(a)?St(r[se])&&r[se]():void 0},this[N]=function(e){},this[O]=function(e){return h=Je,St(r.onAdPodPlayEnd)&&r.onAdPodPlayEnd()},this[L]=function(){return E?Je:(!pt(f)&&St(r.setVolume)&&r.setVolume(f),St(r[L])&&r[L]())},this[V]=function(){return St(r[V])&&r[V]()},this[w]=function(){return St(r[w])&&r[w]()},this[y]=function(e){var t=e.getData();return ht(t)&&At(t.volumeLevel)?(f=t.volumeLevel,St(r.setVolume)&&r.setVolume(t.volumeLevel)):Je},this[j]=function(){return St(r[j])&&r[j]()},this[q]=function(){return St(r[q])&&r[q]()},this[X]=function(){return St(r[X])&&r[X]()},this[K]=function(){return E=ze,r&&St(r[K])&&St(r[W])&&(r.onAdBreakTimeout(),r.onAdStop()),ze},this[ue]=function(){return St(r[ue])&&r[ue]()},n(),this},e.HeartBeatMeasure=function(t){function n(){function t(e){}for(var n=Ze,i=fe.length;i--;)n=fe.shift(),n.target=e.Extend(n.target,n.inheritsFrom),n.target.onError=t}function i(){var t=window.btg;return t&&t.config&&t.config.Omniture&&t.config.Omniture.enableFirstPartyCookie?J=e.Environment.getCnamedDomain():J===Qe&&ht(C)&&C!==Qe?J=C.omnitureTrackingServer:J}function a(){de.prototype.getVideoInfo=function(){var e=new K;return e.id=O.playlistId,e.name=O.playlistTitle,e.length=D?F.LIVE_DURATION:se,e.streamType=D?"Live Event":O.contentType,e.playerName=C.applicationName,e.playhead=V?V:0,e}}function r(){de.prototype.getAdBreakInfo=function(){var e=new W;return e.position=ne,e.playerName=C.applicationName,e.name=N.adType,e}}function s(){de.prototype.getChapterInfo=function(){var e=new q;return e.length=b.duration,e.startTime=V,e.position=b.itemIndex,e}}function o(){de.prototype.getAdInfo=function(){var e=new j;return e.id=N.adId.toString(),e.length=N.creativeDuration,e.position=N.currentAdIndex,e.name=N.creativeId,e}}function l(e,t){return e.prototype[t]=pe,e}function c(){var t=Qe;return t=Visitor.getInstance(F.MARKETING_CLOUD_ORG_ID),t.trackingServer=i(),R.visitor=t,R.referrer=e.String.lengthLimiter(document.referrer,F.URL_LIMIT,et),R.pageURL=e.String.lengthLimiter(document.URL,F.URL_LIMIT,et),R.debugTracking=_t(),R.trackLocal=ze,R.setAccount(C.omnitureSuite),R.trackingServer=i(),R.trackingServer&&Tt(C.omnitureVisitorMigrationKey)&&Tt(C.omnitureVisitorMigrationServer)&&(R.visitorMigrationKey=C.omnitureVisitorMigrationKey,R.visitorMigrationServer=C.omnitureVisitorMigrationServer),Tt(C.omnitureCharacterSet)&&(R.charSet=C.omnitureCharacterSet),Tt(C.omnitureDataCenter)&&(R.dc=C.omnitureDataCenter),C.omnitureVisitorNamespace&&(R.visitorNamespace=F.MARKETING_CLOUD_ORG_ID),Tt(z)&&(R.visitorID=z),t}function d(t){var n=ADB.va.Heartbeat,i=ADB.va.HeartbeatConfig,a=ADB.va.plugins.videoplayer.VideoPlayerPlugin,r=ADB.va.plugins.videoplayer.VideoPlayerPluginConfig,s=ADB.va.plugins.aa.AdobeAnalyticsPlugin,o=ADB.va.plugins.aa.AdobeAnalyticsPluginConfig,l=ADB.va.plugins.ah.AdobeHeartbeatPlugin,c=ADB.va.plugins.ah.AdobeHeartbeatPluginConfig,d=new a(new de),u=new r;u.debugLogging=Je,d.configure(u);var _=new s(R,new ce),p=new o;p.channel=C.originRef?C.originRef:C.ref,p.debugLogging=Je,_.configure(p);var h=new l(new ue),g=new c(F.HEART_BEAT_TRACKING_SERVER,F.MARKETING_CLOUD_ORG_ID);
g.ovp=e.Environment.userAgent.browser,g.sdk=e.version,g.debugLogging=Je,h.configure(g);var f=new n(new _e,[d,_,h]),E=new i;return E.debugLogging=Je,f.configure(E),R.pageName=Tt(C.omniturePathContext)?C.omniturePathContext+t:t,{videoPlugin:d,aaPlugin:_}}function E(){var t=e.HeartbeatdataVO.fromHeartbeatMetadata(Ee,C,Je,se,D);t=e.AppMeasureMapper.getMappedObject(t,C),t.trackVars=Qe,a(),he=c(),$=d(O.playlistTitle),ee=$.videoPlugin,te=$.aaPlugin,te.setVideoMetadata(t),ee.trackVideoLoad(),oe=ze}function v(e){var n={};try{n=JSON.parse(JSON.stringify(e))}catch(i){}n.trackVars=Qe,n.host=window.location.hostname,t[Z](n)}function S(e,t,n){var i=Qe,a="",r=Qe,s="";if(n=ft(n)?b.playlistLength:n,i=ge[n]=ge[n]||{10:Je,20:Je,75:Je,95:Je,isCallSent:Je},a=Math.round(e/t*100)+"",yt(i.isCallSent))return Je;switch(ze){case a>=7&&10>=a:r=10;break;case a>=17&&20>=a:r=20;break;case a>=72&&75>=a:r=75;break;case a>=92&&95>=a:r=95}pt(r)||i[r]!==Je||(i[r]=ze);for(s in i)if("isCallSent"!==s&&!i[s])return Je;return i.isCallSent=ze,ze}function y(e){pt(te)||(te.setChapterMetadata(Qe),te.setVideoMetadata(Qe),ee.trackChapterComplete(),l(de,"getChapterInfo"))}var C=Qe,R=Qe,b=Qe,D=t.getIsLive(),N={},O=t.getFirstItemData(),w=t.getPlaylistMetadata(),V=0,U=0,F=e.AppMeasureVars,B=ADB.va.plugins.aa.AdobeAnalyticsPluginDelegate,Y=ADB.va.plugins.ah.AdobeHeartbeatPluginDelegate,H=ADB.va.HeartbeatDelegate,G=ADB.va.plugins.videoplayer.VideoPlayerPluginDelegate,K=ADB.va.plugins.videoplayer.VideoInfo,W=ADB.va.plugins.videoplayer.AdBreakInfo,j=ADB.va.plugins.videoplayer.AdInfo,q=ADB.va.plugins.videoplayer.ChapterInfo,X=Je,Q=Je,z=Qe,J=Qe,$=Qe,ee=Qe,te=Qe,ne=0,se=0,oe=Je,le={},ce=function(){},de=function(){},ue=function(){},_e=function(){},pe=function(){return Qe},he=Qe,ge=[],fe=[{target:ce.prototype,inheritsFrom:B.prototype},{target:de.prototype,inheritsFrom:G.prototype},{target:ue.prototype,inheritsFrom:Y.prototype},{target:_e.prototype,inheritsFrom:H.prototype}],Ee=Qe;return this[u]=function(e){var t=Qe;ne=0,oe=Je,C=e.getData(),R=new AppMeasurement,n();try{t=JSON.parse(JSON.stringify(C))}catch(i){return C}switch(C.type){case"partner":t.applicationName=C.partnerPlayerName||F.DEFAULT_PARTNER_PLAYER_NAME,t.omnitureSuite=C.omniturePartnerAccount,t.omniturePathContext=F.SYNDICATED_PATH;break;case"normal":t.applicationName=C.viralPlayerName||F.DEFAULT_VIRAL_PLAYER_NAME,t.omnitureSuite=C.omnitureViralAccount,t.omniturePathContext=F.VIRAL_PATH;break;default:t.applicationName=C.networkPlayerName||F.DEFAULT_NETWORK_PLAYER_NAME,t.omnitureSuite=C.omnitureNetworkAccount,t.omniturePathContext=F.NETWORK_PATH}return t.applicationContext=Tt(C.ref)?C.ref:F.NO_APPLICATION_CONTEXT,t.applicationOrigin=Tt(C.applicationOrigin)?C.applicationOrigin:F.NO_APPLICATION_ORIGIN,C=t},this[M]=function(e){return N=e.getData()},this[_]=function(e){return b=e.getData()},this[ae]=function(){ne=0,oe=Je},this[ie]=function(e){return z=gt(e.getData())&&e.getData().value||Qe},this[A]=function(t){var n=t.getData(),i=n&&n.itemIndex?n.itemIndex:0;return Ee=e.MetadataVO.fromRSSMetadata(w.items[i])},this[m]=function(e){var t=e.getData();return V=t.playhead,b.isFullEpisode&&S(t.fullEpPlayhead,se)&&(le[F.ACTIVITY_CONTEXT_VARIABLE]=F.EPISODE_END_ACTIVITY,v(le)),S(V,b.duration,b.index)&&(b.isFullEpisode?le[F.ACTIVITY_CONTEXT_VARIABLE]=F.SEGMENT_END_ACTIVITY:le[F.ACTIVITY_CONTEXT_VARIABLE]=F.CLIP_END_ACTIVITY,v(le)),V},this[x]=function(e){var t=e.getData();return U=t.adPodPlayhead},this[p]=function(t){var n=e.HeartbeatdataVO.fromHeartbeatMetadata(b,C,Je,se,D),i="",a=Qe,r=Qe;n=e.AppMeasureMapper.getMappedObject(n,C),n.trackVars=Qe,Pt(oe)?E():te.setVideoMetadata(n),i=he.getMarketingCloudVisitorID(),r=e.HeartbeatdataVO.fromMetadata(b,C,i),te.setChapterMetadata(n),s(),ee.trackChapterStart(),ee.trackPlay(),a=e.AppMeasureMapper.getMappedObject(n,C),b.isFullEpisode&&0!==b.index&&(a[F.ACTIVITY_CONTEXT_VARIABLE]=F.SEGMENT_START_ACTIVITY),v(a),le=e.AppMeasureMapper.getMappedObject(r,C)},this[g]=function(){ee.trackPause()},this[h]=function(e){switch(de.prototype.getVideoInfo=function(){var e=new K;return e.playhead=V,e},ze){case X:ee.trackSeekComplete(),X=Je;case Q:ee.trackBufferComplete(),Q=Je}ee.trackPlay()},this[f]=function(e){X=ze,ee.trackSeekStart()},this[re]=function(e){Q=ze,ee.trackBufferStart()},this[T]=y,this[P]=y,this[L]=function(){var t=e.HeartbeatdataVO.fromHeartbeatMetadata(Ee,C,ze,se,D,N);t=e.AppMeasureMapper.getMappedObject(t,C),t.trackVars=Qe,1===N.currentAdIndex&&(Pt(oe)?E():a(),ne+=1,r()),pt(te)||(o(),te.setAdMetadata(t),ee.trackAdStart())},this[k]=function(){te.setAdMetadata(Qe),ee.trackAdComplete(),N.currentAdIndex===N.adCount&&l(de,"getAdBreakInfo"),l(de,"getAdInfo")},this[I]=function(){ee.trackComplete(),ee.trackVideoUnload(),l(de,"getVideoInfo")},Ee=O,se=O.playlistDuration,this};var dn=function(){function t(){if(pt(d))return Qe;var e=d.beacons?d.beacons:[];h=[],g=[];for(var t=0,n=e.length;n>t;t++){var i=e[t];typeof i===He&&(!i.hasOwnProperty(s)||i[s]!==1/0&&i[s]!==l?(i.hasOwnProperty(s)&&Tt(i[s])&&i[s].indexOf(l)>-1&&(i[s]=i[s].replace(new RegExp(l+"|\\s+","g"),"")),h.push(i)):g.push(i))}}function n(e){for(var t={},n=0,i=e.length;i>n;n++){var a=e[n];for(var r in a)a.hasOwnProperty(r)&&(t[a.name]=a.value)}return t}function i(t){var i={};t.prop&&t.prop.length>0&&(i.params=n(t.prop)),d.ref=c.ref,i.url=e.String.replaceTokens(t.url,d),e.HttpRequest.sendImageBeaconRequest(i)}function a(){if(h.length<=0)return Qe;for(var e=0,t=h.length;t>e;e++){var n=h[e];typeof n===He&&(n.hasOwnProperty(s)&&n[s]<=f||n.hasOwnProperty(o)&&n[o]<f)&&(i(n),h[e]=Je)}}function r(e){if(d&&d.isAd)return Qe;for(var t=0,n=g.length;n>t;t++)i(g[t])}var s="startTime",o="elapsed",l="end",c=Qe,d=Qe,h=[],g=[],f=0;return this[u]=function(e){c=e.getData()},this[_]=function(e){d=e.getData()},this[p]=function(e){t()},this[m]=function(e){f=e.getData().playhead,a()},this[T]=r,this[P]=r,this},un=function(t){function n(){ht(NOLCMB)&&St(NOLCMB.ggInitialize)&&Tt(l.nielsenApplicationId)&&!E&&(d=new NOLCMB.ggInitialize({apid:l.nielsenApplicationId,sfcode:l.nielsenSFcode,apn:l.networkPlayerName?l.networkPlayerName:Ut}),E=typeof d===He&&typeof d.ggPM===Ge)}function i(e,t,n){return E?void d.ggPM(e,t):Je}function a(e){i(Zt.STOP,Math.floor(R),"trackStop")}function r(){i(Zt.END,Math.floor(R),"trackEnd")}function s(e){return y.isFullEpisode?e.getData().fullEpPlayhead:e.getData().playhead}var o=e.ContentVO,l={},c={},d=Qe,E=Je,v=Qe,I=Qe,S=Qe,y={},C=0,R=0;return t&&t.getFirstItemData&&(y=t.getFirstItemData(),I=t.getPlaylistMetadata(),S=t.getIsLive()),this[u]=function(e){l=e.getData(),n()},this[_]=function(e){c=e.getData()},this[ae]=function(e){E=Je,n()},this[p]=function(e){c.videoType=Zt.CLIP_TYPE,c.nielsenDprEnabled=l.nielsenDprEnabled,i(Zt.LOAD_CLIP,ln.fromMetadata(c),"trackPlay")},this[h]=s,this[g]=a,this[f]=a,this[re]=a,this[k]=a,this[P]=function(e){a(e),r()},this[A]=function(e){var t=e.getData();C=t&&t.itemIndex?t.itemIndex:0},this[T]=function(e){a(e),I&&C+1===o.getPlaylistLength(I)&&r()},this[m]=function(e){var t;R=s(e),t=S?Math.floor((new Date).getTime()/1e3):R,i(Zt.PROGRESS,t,"trackProgress")},this[M]=function(t){var n=t.getData(),i={};if(gt(I)&&It(I.items)){try{i=JSON.parse(JSON.stringify(I.items[n.currentItemIndex]))}catch(a){}i.adId=n.adId,i.videoType=n.adType&&n.adType.toLowerCase(),i.nielsenDprEnabled=l.nielsenDprEnabled,i.adDuration=Math.floor(n.creativeDuration),i.isFullEpisode=y.isFullEpisode,i.hasPlaylist=y.hasPlaylist,i.playlistTitle=y.playlistTitle,i.title=y.title,i=e.MetadataVO.fromRSSMetadata(i),v=ln.fromMetadata(i)}},this[N]=function(){R=0},this[L]=function(){i(Zt.LOAD_AD,v,"onAdPlayStart -> trackPlay")},this};e.PlayerReceiver=function(t){var n=Qe,i=e.FreewheelVars;return this.hasPreloadDone=Je,this[M]=function(e){return ht(e)&&ht(e.getData())?n=e.getData():Qe},this[x]=function(e){var a=e.getData();return pt(n)||n.creativeDuration<6?this.hasPreloadDone:(this.hasPreloadDone===Je&&n.currentAdIndex===n.adCount&&n.creativeDuration-a.adPlayhead<=5&&n.adType!==i.POSTROLL&&(this.hasPreloadDone=ze,t.preloadContent()),this.hasPreloadDone)},this[O]=function(){return this.hasPreloadDone=Je,this.hasPreloadDone},this},e.FreewheelControllerAS3=function(t,n,i){function a(){return X.stop(),te?void i.onReportAdError({error:q.FW_REQUEST_FAILURE_EVENT,type:"FW_ERROR"}):yt(K)||X.getElapsedSeconds()>10?(X.reset(),j=ze,i.onAdPodPlayEnd(),W?i.onReportAdError({error:q.FW_BRIDGE_FAILURE_EVENT,type:"FW_ERROR"}):i.onReportAdError({error:q.FW_SWF_NOTLOADED_EVENT,type:"FW_ERROR"}),void(K=ze)):void X.start()}function r(){X.stop(),X.reset()}function s(){n&&typeof n.stopTemporalSlot===Ge&&n.stopTemporalSlot(oe)}function o(){ht(se)&&!pt(se)&&(le=se.offsetWidth,ce=se.offsetHeight,de=se.offsetTop,ue=se.offsetLeft)}function l(e){if(ht(e))for(var t in e)ft(e.length)?e.hasOwnProperty(t)&&Tt(t)&&n.setKeyValue(t,e[t]):n.setKeyValue(e[t][0],e[t][1])}function c(){if(r(),K=Je,j)return ze;if(oe=Qe,H===q.PREROLL)Q.length>0&&n&&n.playTemporalSlot?(oe=Q.shift().customID,i.onAdPlayRequest({adType:q.PREROLL}),n.playTemporalSlot(oe)):i.onAdPodPlayEnd();else if(H===q.POSTROLL)J.length>0&&n&&n.playTemporalSlot?(oe=J.shift().customID,i.onAdPlayRequest({adType:q.POSTROLL}),n.playTemporalSlot(oe)):i.onAdPodPlayEnd();else if(H===q.MIDROLL){var e=g();e&&n&&n.playTemporalSlot?(oe=e.customID,i.onAdPlayRequest({adType:q.MIDROLL}),n.playTemporalSlot(oe)):i.onAdPodPlayEnd()}else i.onAdPodPlayEnd()}function d(e){if(!e.success||!n)return te=ze,i.onAdPodPlayEnd(),Je;for(var t=n.getTemporalSlots(),a=0,r=t.length;r>a;a++){var s=t[a];switch(s.timePositionClass.toLowerCase()){case G.ADUNIT_PREROLL:Q.push(s);break;case G.ADUNIT_MIDROLL:z.push(s);break;case G.ADUNIT_POSTROLL:J.push(s);break;case G.ADUNIT_OVERLAY:Z.push(s)}}return ee=!0,ne&&(ne=!1,c()),ze}function u(n){var a;return pt(G)?a:(Number(n.type)===G.RENDERER_EVENT_IMPRESSION?(a=e.FreewheelAdMetadataVO.fromAdMetadata(n,t),i.onAdMetadata(a),i.onAdPlayStart()):Number(n.type)===G.RENDERER_EVENT_IMPRESSION_END?i.onAdPlayEnd():Number(n.type)===G.RENDERER_EVENT_FAIL&&i.onAdSkipped(n.adId,{level:e.ErrorCode.ERROR,message:n.errorMessage}),a)}function _(e,t,i,a){n&&(i=i||0,a=a||0,n.width=e,n.height=t,n.top=i,n.left=a,St(n.setVideoDisplaySize)&&(0===e&&0===t||e>0&&t>0)&&n.setVideoDisplaySize(a,i,e,t,a,i,e,t))}function p(n){var i=e.Cookie.getLocalStorage(e.AdVars.VIDEO_PLAYED_TIME),a=t.timeSinceLastAd;return pt(i)||At(i)||(i=1e3*(parseInt(i,10)+n)),a=pt(a)||At(a)?0:parseInt(a,10),0>=a||!At(i)||0===i||i>a?ze:Je}function h(e){if(e&&e>=t.segmentsActualDuration[t.currentIndex]-t.adRenditionVO.preloadAdBeforeTime&&e<t.segmentsActualDuration[t.currentIndex]){if(!p(t.segmentsActualDuration[t.currentIndex]-e))return ze;if(t.currentIndex<t.segmentsActualDuration.length-1&&z&&z.length>0){for(var i=0,a=z.length;a>i;i++)if(z[i]!==Je){ae=Je,n.preloadSlot(z[i].customID);break}}else J&&J.length>0&&(ae=Je,n.preloadSlot(J[0].customID))}return ze}function g(){for(var e=Qe,n=0,i=z.length;i>n;n++)if(z[n]&&t.currentIndex>n){e=z[n],z[n]=!1;break}return e}function f(e){return e?Number(e).toString(16):null}function E(){if(n&&typeof n.getConstants===Ge){o(),re=Je,te=Je,ie=!0,G=n.getConstants(),n.setServer(t.adServer),n.setNetwork(t.networkID),n.setProfile(t.profileID),n.registerVideoDisplay(),n.setVideoDisplaySize(0,0,le,ce,0,0,le,ce),n.setSiteSection(t.siteSectionID),t.isIntl?n.setVideoAsset(t.assetID,t.duration,t.referrer,!0,t.videoViewRandom,t.networkID,0,q.INTL_DEFAULT_ASSET_ID):n.setVideoAsset(t.assetID,t.duration,t.referrer,!0,t.videoViewRandom,t.networkID),n.addFlashEventListener(G.EVENT_REQUEST_COMPLETE,"function(data){"+pe+".onAdRequestCompleted( Bento.QoeVO( data ) );}"),n.addFlashEventListener(G.EVENT_SLOT_ENDED,pe+".onAdPodPlayEnd"),n.addFlashEventListener(G.EVENT_SLOT_STARTED,pe+".onAdPodPlayStart"),n.addFlashEventListener(G.EVENT_RENDERER,pe+".onAdRenderer"),n.addFlashEventListener(G.EVENT_CUSTOM,pe+".onAdRenderer");for(var a=1,r=t.segmentsDuration,s=r.length;s>a;a++)n.addTemporalSlot("Midroll_"+a,G.ADUNIT_MIDROLL,r[a]);n.setKeyValue(q.ENTIRE_URL,t.referrer),t.playlistID&&n.setKeyValue(q.PLAYLIST_KEY,t.playlistID),l(t.tveKeyValues),l(t.hostSellingKeyValues),l(t.fwSegments);for(var c in t.extraFWKeyValues)t.extraFWKeyValues.hasOwnProperty(c)&&n.setKeyValue(c,t.extraFWKeyValues[c]);e.Cookie.setLocalStorage(q.LAST_GUID_PLAYED,t.assetID),yt(t.bandwidthEnabled)&&n.setParameter(q.FW_DESIRED_BITRATE_KEY,t.adRenditionVO.desiredBitrateValue,G.PARAMETER_OVERRIDE),n.submitRequest(),t.adRequestedData.sdkVersion=f(n.getSDKVersion()),i.onAdRequested(t.adRequestedData)}else re=ze;return ze}function T(e,n,a){return a&&a(),j=Je,K||te?i.onAdPodPlayEnd():X.start(),H=e,t.currentIndex=n,ee?c():(ie||$.init(),ne=!0),ze}function m(e,n){return H=e,t.currentIndex=n,ze}function A(e){e&&e.data&&Pt(e.data.flashEnabled)&&(X.isRunning()&&r(),i.onReportAdError({error:q.FW_FLASH_DISABLED_EVENT,type:"FW_ERROR"}))}function v(e){var t=e?e.getData():{};return d(t)}function I(e){return!t.preloadAdSlotEnabled||ae===Je||ft(e)?ze:(h(e),ze)}function S(e){var t={PLAYING:"VIDEO_STATUS_PLAYING",PAUSED:"VIDEO_STATUS_PAUSED",COMPLETED:"VIDEO_STATUS_COMPLETED"};if(n&&St(n.setVideoPlayStatus)){var i=pt(G)?"":G[t[e]];n.setVideoPlayStatus(i)}}function y(e){return le=e.width,ce=e.height,de=e.top,ue=e.left,_e=e.active,_(le,ce),e}function P(){e.AdSdkLoader.replaceAdBridgeSwf(he),e.AdSdkLoader.loadAdBridgeSwf(se,ge)}function C(){W=ze,n=document.getElementById(he),$.init()}function R(){return Ot&&n&&(n.style.display="block"),o(),_(le,ce),n}function b(){return e.Cookie.setLocalStorage(e.AdVars.VIDEO_PLAYED_TIME,1),Ot&&n?n.style.display="none":_(1,1,-3e3,-3e3),ae=ze,n}function D(){return i.isAdPlaying()&&(o(),_(le,ce)),ze}function N(e){return u(e)}function O(){return _(le,ce),ze}function L(){return typeof n.pauseTemporalSlot===Ge&&n.pauseTemporalSlot(oe),ze}function k(){return typeof n.playTemporalSlot===Ge&&n.playTemporalSlot(oe),ze}function M(){return n?typeof n.getAdPlayhead===Ge?n.getAdPlayhead():-1:Qe}function w(){return n?typeof n.getAdPodPlayhead===Ge?n.getAdPodPlayhead():-1:Qe}function V(e){return n&&typeof n.setAdVolume===Ge&&n.setAdVolume(100*e),ze}function U(){}function x(){return s(),ze}function F(e){return j=ze}function B(e){return j=ze,n&n.style&&(n.style.display="none"),i.onReportAdError({error:q.FW_AD_BRIDGE_MULTI_LOADED_EVENT,type:"FW_ERROR"}),ze}function Y(e){r()}var H,G=null,K=(t.failSafeTimerDisabled,Je),W=Je,j=Je,q=e.FreewheelVars,X=new e.Timer({timerFunc:a,interval:1e3}),Q=[],z=[],J=[],Z=[],$={},ee=Je,te=Je,ne=Je,ie=Je,ae=ze,re=Je,se=Qe,oe=Qe,le=0,ce=0,de=0,ue=0,_e=Je,pe=Qe,he=Qe,ge=i&&i.getPlayerId?i.getPlayerId():Qe;return n=n||Qe,he=ge+e.AdVars.AD_BRIDGE_ID,se=i.getPlayerContainer(),pe=ge?"Bento.getPlayer('"+ge+"')":"Bento",$={init:E,isTimeForAnAd:T,updateCurrentItemIndex:m,setFlashPluginStatus:A,adRequestCompleted:v,playheadUpdate:I,videoState:S,uiStateChange:y,resetAdBridge:P,adBridgeReady:C,slotStarted:R,slotEnded:b,onPlayerResize:D,adRenderer:N,adPlayStart:O,adPause:L,adUnPause:k,getAdPlayhead:M,getAdPodPlayhead:w,setVolume:V,adClick:U,stopSlot:x,onAdBreakTimeout:F,onAdBridgeMultiLoaded:B,closeOverlay:Ze,destroy:Y,playedTime:Ze}},e.FreewheelControllerJS=function(t,n){function i(){var e=n.getPlayerConfig();e.vpaidHideDisabled!==ze&&(Ee=document.getElementById(W.VPAID_CLICK_DIV),Ee&&(Ee=typeof Ee.length!==qe?Ee[0]:Ee,Ee.style.display="none"))}function a(){Ae.stop(),Ae.reset()}function r(){me.stop();var e=me.getElapsedMilliSeconds();me.reset(),me.start(),1500>e&&e>0||Ee&&St(Ee.click)&&Ee.click()}function s(e){if(a(),K=e||K,!X)if(K===W.PREROLL)Q.length>0?(n.onAdPlayRequest({adType:W.PREROLL}),ge=Q.shift(),ge.play()):n.onAdPodPlayEnd();else if(K===W.POSTROLL)J.length>0?(n.onAdPlayRequest({adType:W.POSTROLL}),ge=J.shift(),ge.play()):n.onAdPodPlayEnd();else if(K===W.MIDROLL){var t=f();t?(n.onAdPlayRequest({adType:W.MIDROLL}),ge=t,ge.play()):n.onAdPodPlayEnd()}else K===W.OVERLAY?Z.length>0&&Z.shift().play():n.onAdPodPlayEnd()}function o(t){if(!t.success)return j=ze,n.onAdPodPlayEnd(),Je;var i=q.getTemporalSlots();n.onAdRequestCompleted(e.QoeVO(i));for(var a=0,r=i.length;r>a;a++){var o=i[a];switch(o.getTimePositionClass()){case re.TIME_POSITION_CLASS_PREROLL:Q.push(o);break;case re.TIME_POSITION_CLASS_MIDROLL:z.push(o);break;case re.TIME_POSITION_CLASS_POSTROLL:J.push(o);break;case re.TIME_POSITION_CLASS_OVERLAY:Z.push(o)}o.getTimePositionClass()===Qe&&o.getTimePosition()>0&&z.push(Qe)}return z.length&&z.sort(d),ee=ze,te&&(te=Je,s()),ze}function l(e){var t=e.slot.getAdInstances(Je);ie=t.length,se=e.slot.getCustomId(),e.slot.getTimePositionClass()===re.TIME_POSITION_CLASS_OVERLAY?setTimeout(E,300):n.onAdPodPlayStart()}function c(t){se=Qe,ge=Qe,ae=1,t.slot.getTimePositionClass()!==re.TIME_POSITION_CLASS_OVERLAY&&(e.Cookie.setLocalStorage(e.AdVars.VIDEO_PLAYED_TIME,1),n.onAdPodPlayEnd())}function d(e,t){return e===Qe?-1:t===Qe?1:e.getTimePosition()>t.getTimePosition()?1:(e.getTimePosition()<=t.getTimePosition(),-1)}function u(n){var a=e.FreewheelAdMetadataVO.fromAdMetadata(n,t,ie,ae++);return fe=a.isVpaid,fe&&i(),a}function _(e){var t=e.adInstance.getSlot().getTimePositionClass();return t===re.TIME_POSITION_CLASS_DISPLAY||t===re.TIME_POSITION_CLASS_OVERLAY}function p(t){var i=ve+"Controller ad request timeout";t.subType===re.EVENT_ERROR&&(i=t.errorModule&&t.errorInfo?[t.errorModule,t.errorInfo].join(":"):i,n.onAdSkipped(t.adInstance._adId,{level:e.ErrorCode.ERROR,message:i}))}function h(e){var t;switch(n.onAdRenderer(e),e.type){case re.EVENT_AD_IMPRESSION:if(_(e))return;t=u(e.adInstance?e.adInstance:Qe),he=e.adInstance,n.onAdMetadata(t),n.onAdPlayStart();break;case re.EVENT_AD_IMPRESSION_END:if(_(e))return;he=Qe,fe=Je,n.onAdPlayEnd();break;case re.EVENT_AD_CLICK:n.onAdPause()}}function g(e){var i=Je;if(!n.isAdPlaying()){var a=0;if(Z.length>0){var r=0,s=t.segmentsDuration;for(s.length;r<t.currentIndex;r++)a+=s[r]?s[r]:0;a+=Math.floor($.playedTime),i=a>=Z[0].getTimePosition()}}return i}function f(){for(var e=Qe,n=0,i=z.length;i>n;n++)if((z[n]||z[n]===Qe)&&t.currentIndex>n){e=z[n],z[n]=Je;break}return e}function E(){_e=document.getElementById("_fw_ad_container_html_"+se+"_"),pe=gt(_e)&&St(_e.getElementsByTagName)?_e.getElementsByTagName("iframe")[0]:Qe,_e!==Qe&&pe!==Qe&&(le=ue?le-50:le,_e.style.height=pe.style.height,_e.style.width=pe.style.width,pe.style.top=Bt,pe.style.left=Bt,_e.style.left=(oe-pe.offsetWidth)/2+Yt,_e.style.top=le+ce-pe.offsetHeight+Yt,_e.style.position=Ht)}function T(e){if(ht(e)){for(var t in e)ft(e.length)?e.hasOwnProperty(t)&&Tt(t)&&q.addKeyValue(t,e[t]):q.addKeyValue(e[t][0],e[t][1]);return q}}function m(){return Ae.stop(),Ae.getElapsedSeconds()>10?(Ae.reset(),X=ze,void n.onAdPodPlayEnd()):void Ae.start()}function A(){for(var e=["EVENT_REQUEST_COMPLETE","EVENT_SLOT_ENDED","EVENT_SLOT_STARTED","EVENT_AD_IMPRESSION","EVENT_AD_IMPRESSION_END","EVENT_AD_CLICK"],t=0,n=e.length;n>t;t++)q.removeEventListener(re[e[t]])}function v(){ne=ze,j=Je;var i=new re.AdManager,a=e.Cookie.read(W.VMN_UUID_COOKIE),r=t.isIntl?W.URL_INT:W.URL;i.setNetwork(t.networkID),i.setServer(r.replace(/\{0\}/g,t.networkID).replace(/\{1\}/g,t.profileID)),q=i.newContext(),q.setParameter(re.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE,Je,re.PARAMETER_LEVEL_GLOBAL),Ie&&(Tt(Ie.id)||(Ie.id="playerContainer_"+n.getPlayerId()),q.registerVideoDisplayBase(Ie.id)),q.setProfile(t.profileID),q.setSiteSection(t.siteSectionID,t.networkID),t.isIntl?q.setVideoAsset(t.assetID,parseInt(t.duration,10),t.networkID,Qe,Qe,t.videoViewRandom,Qe,W.INTL_DEFAULT_ASSET_ID):q.setVideoAsset(t.assetID,parseInt(t.duration,10),t.networkID,Qe,Qe,t.videoViewRandom),t.referrer&&q.addKeyValue(W.ENTIRE_URL,t.referrer),t.playlistID&&q.addKeyValue(W.PLAYLIST_KEY,t.playlistID),t.siteSectionParsing&&q.addKeyValue(W.FSS_KEY,W.FSS_VALUE),a=Tt(a)?a:e.Cookie.getLocalStorage(W.VMN_UUID),Tt(a)&&(q.addKeyValue(W.FW_CUSTOMER_VISITOR_ID,a),kt?q.addKeyValue(W.FW_DID_IDFA,a):wt&&q.addKeyValue(W.FW_DID_GOOGLE_ADVERTISING_ID,a));for(var s in t.extraFWKeyValues)q.addKeyValue(s,t.extraFWKeyValues[s]);q.setParameter(re.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED,Je,re.PARAMETER_LEVEL_GLOBAL),q.setParameter(re.PARAMETER_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT,ze,re.PARAMETER_LEVEL_GLOBAL),q.setParameter(re.PARAMETER_DISABLE_SAFARI_TRANSPORT,ze,re.PARAMETER_LEVEL_GLOBAL),q.setParameter(re.PARAMETER_RENDERER_VIDEO_CLICK_DETECTION,"Desktop"===e.Environment.userAgent.device?ze:Je,re.PARAMETER_LEVEL_GLOBAL),q.setParameter(re.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,"iPhone"===e.Environment.userAgent.device?ze:Je,re.PARAMETER_LEVEL_GLOBAL),q.addEventListener(re.EVENT_REQUEST_COMPLETE,function(e){o(e)}),q.addEventListener(re.EVENT_SLOT_ENDED,function(e){c(e)}),q.addEventListener(re.EVENT_SLOT_STARTED,function(e){l(e)}),q.addEventListener(re.EVENT_AD_IMPRESSION,function(e){h(e)}),q.addEventListener(re.EVENT_AD_IMPRESSION_END,function(e){h(e)}),q.addEventListener(re.EVENT_AD_CLICK,function(e){h(e)}),q.addEventListener(re.EVENT_AD,p);for(var d=1,u=t.segmentsDuration,_=u.length;_>d;d++)q.addTemporalSlot("Midroll_"+d,re.ADUNIT_MIDROLL,u[d]);q.addKeyValue(W.ENTIRE_URL,t.referrer),t.playlistID&&q.addKeyValue(W.PLAYLIST_KEY,t.playlistID),T(t.tveKeyValues),T(t.hostSellingKeyValues),T(t.fwSegments),re.setLogLevel(_t()?re.LOG_LEVEL_DEBUG:re.LOG_LEVEL_QUIET),e.Cookie.setLocalStorage(W.LAST_GUID_PLAYED,t.assetID),yt(t.bandwidthEnabled)&&q.setParameter(re.PARAMETER_DESIRED_BITRATE,t.adRenditionVO.desiredBitrateValue,re.PARAMETER_LEVEL_OVERRIDE),q.submitRequest(6),t.adRequestedData.sdkVersion=re.version,n.onAdRequested(t.adRequestedData)}function I(e,i,a){return a&&a(),X=Je,j?n.onAdPodPlayEnd():Ae.start(),K=e,t.currentIndex=i,ee?s():(ne||this.init(),te=ze),ze}function S(e,t){return ze}function y(e){return g(e)&&s(W.OVERLAY),ze}function P(e){return oe=e.width,le=e.height,ce=e.top,de=e.left,ue=e.active,E(),e}function C(){if(fe)r();else if(he)return he.getRendererController().processEvent({name:re.EVENT_AD_CLICK}),ze;return Je}function R(e){var t={PLAYING:"VIDEO_STATE_PLAYING",PAUSED:"VIDEO_STATE_PAUSED",COMPLETED:"VIDEO_STATE_COMPLETED"},n=re[t[e]];q.setVideoState(n)}function b(){}function D(){}function N(){}function O(){}function L(){}function k(){Te&&Te.pause&&Te.pause()}function M(){Te&&Te.play&&Te.play()}function w(){var e=-1;return he&&he.getPlayheadTime&&(e=he.getPlayheadTime()),e}function V(){}function U(e){}function x(){var e=-1;if(he&&he.getSlot){var t=he.getSlot();t&&t.getPlayheadTime&&(e=t.getPlayheadTime())}return e}function F(e){}function B(){if(ae=1,he&&he.getSlot){var e=he.getSlot();e&&e.stop&&e.stop()}else ge&&ge.stop&&ge.stop();return ze}function Y(){return X=ze,ae=1,X}function H(){_e&&_e.parentNode&&_e.parentNode.removeChild(_e)}function G(){$.closeOverlay(),a(),me.stop(),me.reset(),A(),$.stopSlot(),q.dispose()}var K,W=e.FreewheelVars,j=(t.failSafeTimerDisabled,Je),q=Qe,X=Je,Q=[],z=[],J=[],Z=[],$={},ee=Je,te=Je,ne=Je,ie=0,ae=1,re=tv.freewheel.SDK,se=Qe,oe=0,le=0,ce=0,de=0,ue=Je,_e=Qe,pe=Qe,he=Qe,ge=Qe,fe=Je,Ee=Qe,Te=n.getPlayerElement(),me=new e.Timer,Ae=new e.Timer({timerFunc:m,interval:1e3}),ve=Be+"FreewheelControllerJS ",Ie=Qe;return Ie=n.getPlayerContainer(),$={init:v,isTimeForAnAd:I,updateCurrentItemIndex:S,playheadUpdate:y,uiStateChange:P,adClick:C,videoState:R,resetAdBridge:b,slotStarted:D,adPlayStart:N,slotEnded:O,adRenderer:L,adPause:k,adUnPause:M,getAdPlayhead:w,adRequestCompleted:V,setFlashPluginStatus:U,getAdPodPlayhead:x,setVolume:F,stopSlot:B,onAdBreakTimeout:Y,closeOverlay:H,destroy:G,playedTime:0}},e.IMAControllerAS3=function(t){var n,i=e.IMAVars,a=Qe,r=Qe,s={},o=1,l=Je,c=Je,d=Je,u=[],_=Je,p=Je,h=Je,g=Qe,f=Qe,E=Qe,T=Qe,m=Qe,A={bitrate:0},I=Qe,y=Qe,P=Qe;a=t.getPlayer(),r=t.getPlayerContainer(),g=t.getPlayerId(),I=g+e.AdVars.AD_BRIDGE_ID,f=a.config||{},E=f.embedVars||{},T=t.getFirstItemData(),p=T.isPlaylistMode,P=t.getPlaylistMetadata(),y=new e.ContentVO({length:Math.max(P.items&&P.items.length,1)});var N=function(e,t){return n=O(),n&&St(n[e])&&(ft(t)?n[e]():n[e](t)),e},O=function(){return n&&n.nodeName&&n.nodeName.toLowerCase()===He?n:document.getElementById(I)},k=function(){return!I&&r&&(I=e.AdSdkLoader.loadAdBridgeSwf(r,g)),I?I:Je},M=function(){n&&(n.style.visibility="hidden",n.style.pointerEvents="none")},x=function(){n=O(),n&&(n.style.visibility="visible",n.style.pointerEvents="auto")},B=function(e){return n=O(),x(),n.style.position=Ht,n.width=e.width,n.height=e.height,n.style.top=e.top,n.style.left=e.left,N("setDisplaySize",e)},Y=function(){s.videoId=t.getCurrentVideoId();var n=e.IMAUrl.getAdUrl({playerConfig:a.config,contentInfo:s,width:r.offsetWidth,height:r.offsetHeight});return n},H=function(i){return l=Je,i?t.onAdBreakTerminated({persist:ze,errorObj:{code:"EMPTY-IMA-AD-RESPONSE-FLAG",level:e.ErrorCode.ERROR,message:"IMA flag set to indicate no ad playback throughout video."}}):t.onAdPodPlayEnd({}),M(),n=Qe,ze},G=function(e){return h?Je:y.shouldPlayAd()?(N("playAdBreak",y.shouldPlayPostRollAd()),ze):Je},K=function(){Q(),l=Je,_=Je,d=Je,c=Je,o=1,x(),y.reset()},Q=function(){e.AdSdkLoader.replaceAdBridgeSwf(I),I=Qe,n=Qe,k()},z=function(){var n=Y();return N("initImaSdk",n),yt(e.Config.bandwidthEnabled)&&(m=e.AdRenditionVO.getAdRenditionVO(r,f),m&&m.desiredBitrateValue&&(A.bitrate=m.desiredBitrateValue)),N("setAdRenderingSetting",A),B({width:r.offsetWidth,height:r.offsetHeight,top:r.offsetTop,left:r.offsetLeft,isFullScreen:Je}),Tt(E.custParams)&&-1!==E.custParams.search(i.NO_ADS_SUPPORT)?H(ze):(t.onAdRequested({}),n)};return this[b]=function(e){if(h=Je,_)return H();for(var t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);if(y.setCurrent(e),!e.inferredAdType)return H();if("midroll"===e.inferredAdType||"postroll"===e.inferredAdType){if(!G("postroll"===e.inferredAdType))return H()}else if("preroll"===e.inferredAdType){if(o>1)return H();if(d||c){if(!G())return H()}else c=ze}return ze},this[F]=function(){return _t&&(N("enableLog"),N("info")),z()},this[S]=function(e){},this[v]=function(e){return B(e)},this[se]=function(){return t.isAdPlaying()&&B({width:r.offsetWidth,height:r.offsetHeight,top:r.offsetTop,left:r.offsetLeft,isFullScreen:Je}),ze},this[V]=function(){return N("pause")},this[w]=function(){return N("resume")},this[W]=function(){return N("stop")},this.setSegmentDurations=function(e){return u=e},this.onPlayStart=function(){return N("onContentPlayheadUpdate",u.splice(0,1))},this[C]=function(e){return H()},this[j]=function(){return _=ze,H()},this[R]=function(){return this.onAdBreakTimeout(),H()},this[X]=function(){return l=Je,H()},this[D]=function(n){return e.Config.enableMoatTracking&&N("initMoatTracking"),s.adCount=o,s.currentAd=n,t.onAdMetadata(e.AdMetadataVO.fromIMADataAndContentInfo(n,s,p)),s},this[q]=function(){return l=ze},this[L]=function(){return o++,l=Je,y.setCurrent({hasBeenViewed:ze}),B({width:r.offsetWidth,height:r.offsetHeight,top:r.offsetTop,left:r.offsetLeft,isFullScreen:Je}),o},this.onAdPodPlayEnd=function(){M()},this[ue]=function(){e.Cookie.setLocalStorage(e.AdVars.VIDEO_PLAYED_TIME,1)},this.setVpaidVersion=function(e){return N("setVpaidVersion",e)},this[ae]=function(){return K(),l},this[U]=function(){t.onAdPause()},this[ce]=function(){return c&&!G()?H():(d=ze,ze)},this.onPlayIndexChanged=function(e,t){return yt(t)&&(K(),p=ze),ze},this.setVolume=function(e){St(e.toFixed)&&(e=e.toFixed(2)),N("setVolume",e)},this.onAdBreakTimeout=function(){return h=ze},this.playAdBreak=G,this},e.IMAControllerJS=function(t){var n,i,a,r,s,o,l,d,u,_,h,g=e.ContentVO,f=Qe,E=Qe,T=t.getPlayer().element,m=Qe,I=Qe,y=Je,P=Je,C=Je,R=Je,D=Je,N=Je,O={},L=1,k=0,M=0,x=0,F=[],B="div[id$='-ima-ad'], div[id$='-ima-ad'] > div:first-child {width: 100%!important;height: 100% !important;}",Y="#%ADCONTAINER% iframe[src*='imasdk'] { height:0px; }",H=Je,G=Je,K=Je,j=Je,q=Je,X=Je,Q=Je,z=Je,J=0,Z=Je,$=Qe,ee=Qe,te=Qe,ne=Qe,ie=Je,re=Qe,se=Qe;I=t.getPlayerId(),f=t.getPlayerContainer(),E=t.getPlayer(),ee=E.config||{},te=ee.embedVars||{},m=I+e.AdVars.AD_BRIDGE_ID,ne=t.getFirstItemData(),Q=ne.isPlaylistMode;var oe=function(e,t,n,i){return e.style.position=Ht,o&&o.resize(t,n,i?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e},ce=function(){j=Je,P=Je,C=Je,D=Je,G=Je,X=Je,se.reset()},de=function(n){return fe(Je),C=Je,j=Je,n&&!N?(N=ze,t.onAdBreakTerminated({persist:ze,errorObj:{code:"EMPTY-IMA-AD-RESPONSE-FLAG",level:e.ErrorCode.ERROR,message:"IMA flag set to indicate no ad playback throughout video."}}),N):(R||(t.onAdPodPlayEnd({}),R=ze),ze)},ue=function(){return typeof google!==He||typeof google.ima!==He||typeof google.ima.AdDisplayContainer!==Ge?de():a?a:(n=f.offsetWidth,i=f.offsetHeight,pt($)?(h=document.createElement("div"),h.id=m,h.name=m,h=oe(h,n,i,!1),e.StyleSheet.generateStyleTag(Y.replace(/%ADCONTAINER%/i,h.id)),f.appendChild(h)):h=$,a=new google.ima.AdDisplayContainer(h,T))},_e=function(){return typeof google!==He||typeof google.ima!==He||typeof google.ima.AdsLoader!==Ge?de():s?s:(s=new google.ima.AdsLoader(a),s.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,Ie,!1),s.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,me,!1),s)},pe=function(){return f?(O.videoId=t.getCurrentVideoId(),u=e.IMAUrl.getAdUrl({playerConfig:E?E.config:Qe,contentInfo:O,width:f.offsetWidth,height:f.offsetHeight})):Je},he=function(){return typeof google!==He||typeof google.ima!==He||typeof google.ima.AdsRequest!==Ge?de():(r=new google.ima.AdsRequest,r.adTagUrl=pe(),r.linearAdSlotWidth=f.offsetWidth,r.linearAdSlotHeight=f.offsetHeight,ht(s)&&(s.getSettings().setAutoPlayAdBreaks(Je),s.requestAds(r)),Tt(te.custParams)&&-1!==te.custParams.search(e.IMAVars.NO_ADS_SUPPORT)?de(ze):(t.onAdRequested({}),r?ze:Je))},ge=function(){return Z?Je:(R=Je,D?Je:(o&&!j&&se.shouldPlayAd()&&(X===Je&&(o.init(f.offsetWidth,f.offsetHeight,google.ima.ViewMode.NORMAL),X=ze),j=ze,se.shouldPlayPostRollAd()&&s.contentComplete(),Et(re)&&"preroll"===re||C||se.shouldPlayPostRollAd()?o.start():j=Je),j))},fe=function(e){var t=h;t&&(t.style.display=e?"block":"none")},Ee=function(){var e=o.getRemainingTime(),n=Math.floor(e);e===J||-1===e?Pt(z)&&(z=ze,t.onAdBufferStart()):(J=e,yt(z)&&(z=Je,t.onAdBufferStop()),n!==x&&(x=n,t.onAdPlayheadUpdate({adPodPlayhead:k,adPlayhead:M,remainingTime:x}),k++,M++))},Te=function(n){switch(n.type){case google.ima.AdEvent.Type.LOADED:if(e.Config.enableMoatTracking){var i={partnerCode:e.IMAVars.MOAT_PARTNER_CODE,viewMode:ie?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL};initMoatTracking(o,i,h)}O.adCount=L,O.currentAd=n.getAd();var a=e.AdMetadataVO.fromIMADataAndContentInfo(n.getAdData(),O,Q);a.imaMobileWeb=ze,a.isClickable=Je,a.hideAdMessage=ze,t.onAdMetadata(a),Pt(z)&&(z=ze,t.onAdBufferStart());break;case google.ima.AdEvent.Type.STARTED:L++,M=0,H||(e.StyleSheet.generateStyleTag(B),H=ze),ht(o)&&St(o.getRemainingTime)&&(_=setInterval(Ee,500)),fe(ze),se.setCurrent({hasBeenViewed:ze}),D=Je,t.onAdPlayStart({}),IS_DESKTOP||f.classList.add(Kt);break;case google.ima.AdEvent.Type.PAUSED:"iPhone"===e.Environment.userAgent.device&&fe(Je);break;case google.ima.AdEvent.Type.RESUMED:fe(ze);break;case google.ima.AdEvent.Type.CLICK:t.onAdClick();break;case google.ima.AdEvent.Type.COMPLETE:fe(Je),C=Je,j=Je,t.onAdPlayEnd({}),_&&clearInterval(_);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:D=ze,de();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:R=Je,de(),IS_DESKTOP||f.classList.remove(Kt);break;case google.ima.AdEvent.Type.AD_BREAK_READY:C=ze;break;case google.ima.AdEvent.Type.LOG:}},me=function(n){return ft(o)?void t.onAdBreakTerminated({persist:ze,errorObj:{code:"AD-LOAD-ERROR",level:e.ErrorCode.ERROR,message:"AdError occured before adsManager loaded"}}):(Se()&&(C=Je),void de())},Ae=function(){t.onAdPodPlayStart({})},ve=function(){_&&clearInterval(_),C=Je,e.Cookie.setLocalStorage(e.AdVars.VIDEO_PLAYED_TIME,1),de()},Ie=function(t){P=Je;var n=[google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED];
yt(e.Config.bandwidthEnabled)?(l=new google.ima.AdsRenderingSettings,d=e.AdRenditionVO.getAdRenditionVO(f,ee),d&&d.desiredBitrateValue&&d.desiredBitrateValue>0&&(l.bitrate=d.desiredBitrateValue),o=t.getAdsManager(ye,l)):o=t.getAdsManager(ye),o.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,me),o.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,Ae),o.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,ve);for(var i=0,a=n.length;a>i;i++)o.addEventListener(n[i],Te,Je,this);try{K&&(K=Je,ge()||de()),P=ze}catch(r){}fe(Je)},Se=function(){return ht(o)&&St(o.destroy)?(o.destroy(),P=Je,ze):Je},ye=function(){return this.currentTime=0,{currentTime:this.currentTime,setCurrentTime:function(e){this.currentTime=e}}}(),Pe=function(){se=new g({length:g.getPlaylistLength(t.getPlaylistMetadata())}),ce(),pe()};return this[le]=function(){y=ze,T&&q===Je&&(q=ze,ue(),_e(),he())},this[p]=function(){ye.setCurrentTime(F.splice(0,1))},this[c]=function(e){window.google&&window.google.ima&&(y=ze),y&&q===Je&&(q=ze,ue(),_e(),he())},this[A]=function(e,t){yt(t)&&(ce(),he())},this[S]=function(e){return ze},this[v]=function(e){return n=e.width,i=e.height,ie=e.isFullScreen,oe(h,e.width,e.height,e.isFullScreen)},this[b]=function(e){a&&a.initialize(),Z=Je,re=e.inferredAdType,R=Je,se.setCurrent(e);for(var t in e)e.hasOwnProperty(t)&&(O[t]=e[t]);return P?ge()?void 0:de():(K=ze,Je)},this[U]=function(){},this[V]=function(){o&&St(o.pause)&&o.pause()},this[w]=function(){o&&St(o.resume)&&o.resume()},this[W]=function(){o&&St(o.stop)&&o.stop()},this.setSegmentDurations=function(e){return F=e},this[ae]=function(){return ce(),Se(),he(),C===Je&&G===Je},this.onAdRemainingTime=Ee,this.onAdsManagerLoaded=Ie,this.onAdBreakTimeout=function(){return Z=ze},this.playAds=ge,this.createAdDisplayContainer=ue,this.onImaSdkFinished=de,this.onAdEvent=Te,this.destroyAdManager=Se,this.setImaPlaceholder=function(e){return $=e,$.id=m,$},Pe(),this},e=e.Extend(e,function(){function i(e,t,n){return yt(n)?A.addPriority({event:e,data:t}):A.add({event:e,data:t}),v&&(A.stop(),A.start()),A.count()}function c(e){return E.addReceiver(y[e])}function u(e){E.removeReceiver(y[e]),delete y[e]}function _(e,t){for(var n in I)I[n][e](t)}function p(){xt()&&Pt(S)&&(e.AdSdkLoader.preloadAdBridgeSwf(),S=ze)}function h(){var e=arguments[0],t=[],n=this;if(n[e]&&"function"==typeof n[e]){for(var i=1;i<arguments.length;i++)t.push(arguments[i]);n[e].apply(null,t)}}function g(e){var t=Object.keys(y),n=Qe;if(!St(e))return Je;for(;n=t.pop();)e(n)}function f(){return gt(window._sp_)?!yt(e.Config.sourcePointEnabled)&&delete window._sp_||ze:yt(e.Config.sourcePointEnabled)?St(window.initSourcePointLibrary)&&!gt(window._sp_)&&window.initSourcePointLibrary()||ze:void 0}var E=Qe,T=Ze,m="adsvr",A=Qe,v=Je,I={},S=Je,y={appMeasure:Qe,demdex:Qe,omnitureReceiver:Qe,megabeaconReceiver:Qe,comScoreReceiver:Qe,tveReceiver:Qe,sourcePointReceiver:Qe,legacyAdapter:Qe,dfpReceiver:Qe},P={fw:{freewheelEnabled:ze,imaEnabled:Je},ima:{freewheelEnabled:Je,imaEnabled:ze}};return{onConfig:function(_){if(!gt(_))return Je;switch(e.Config=e.Config||{},e.Config=e.Extend(_,e.Config),g(u),f(),ze){case!e.Config.unReleasedFeatureEnabled&&e.Config.omnitureEnabled:y.appMeasure=new e.AppMeasure;case e.Config.unReleasedFeatureEnabled&&e.Config.omnitureEnabled:y.omnitureReceiver=new o;case e.Config.demdexEnabled:y.demdex=new e.Demdex;case e.Config.megabeaconEnabled:y.megabeaconReceiver=new s;case e.Config.comScoreEnabled:y.comScoreReceiver=new a;case e.Config.tveReportingEnabled:y.tveReceiver=new n;case e.Config.sourcePointEnabled:y.sourcePointReceiver=new l;case e.Config.pageAdsEnabled:y.dfpReceiver=new r;case e.Config.legacySupportEnabled:y.legacyAdapter=new t}return g(c),i(d,e.Config,ze)},setCustomReportingNamespace:function(e){return Tt(e)?i(Se,{namespace:e}):Je},onSearch:function(e){return i(me,e)},onSearchConversion:function(e){return i(ve,e)},sendMegabeaconData:function(e){return gt(e)?i(Pe,e):Je},onAdBlocking:function(){return _("onAdBlocking"),i(Ae)},getAdBlockingStatus:function(e){var t=y.sourcePointReceiver;return gt(t)&&St(t.getAdBlockingStatus)&&t.getAdBlockingStatus(e)||Je},onNewPage:function(t){return yt(e.Config&&e.Config.unReleasedFeatureEnabled)?i(fe,t):Je},onPageEvent:function(t){return yt(e.Config&&e.Config.unReleasedFeatureEnabled)?i(J,t):Je},onCustomData:function(t,n){return yt(e.Config&&e.Config.unReleasedFeatureEnabled)?i(ye,{name:t,value:n}):Je},onTVEWelcome:function(){return yt(e.Config&&e.Config.tveReportingEnabled)?i(Ce):Je},onTVEError:function(t){return yt(e.Config&&e.Config.tveReportingEnabled)?i(Re,t):Je},onTVEStatusCheck:function(t){return yt(e.Config&&e.Config.tveReportingEnabled)?i(be,t):Je},onTVELogin:function(t){return yt(e.Config&&e.Config.tveReportingEnabled)?i(De,t):Je},onTVEProviderSelected:function(t){return yt(e.Config&&e.Config.tveReportingEnabled)?i(Ne,t):Je},onTVEProviderNotListed:function(){return yt(e.Config&&e.Config.tveReportingEnabled)?i(Oe):Je},onTVEElvisSelected:function(t){return yt(e.Config&&e.Config.tveReportingEnabled)?i(Le,t):Je},onTVEElvisLogin:function(t){return yt(e.Config&&e.Config.tveReportingEnabled)?i(ke,t):Je},onTVEProviderDisplay:function(){return yt(e.Config&&e.Config.tveReportingEnabled)?i(xe):Je},onTVEElvisExpired:function(t){return yt(e.Config&&e.Config.tveReportingEnabled)?i(Me,t):Je},onTVEElvisLocked:function(t){return yt(e.Config&&e.Config.tveReportingEnabled)?i(we,t):Je},onTVEFreePreviewLogin:function(){return yt(e.Config&&e.Config.tveReportingEnabled)?i(Ve):Je},onTVEFreePreviewExpired:function(){return yt(e.Config&&e.Config.tveReportingEnabled)?i(Ue):Je},onQueueItem:function(e){T(e.event,e.data)},onWindowResize:function(){return i(oe,Qe)},onAAMDataReady:function(e){return i(Z,e)},onImaJsSdkLoaded:function(){return _("onImaJsSdkLoaded"),i(le,Qe)},onAdClick:function(e){return Et(window.EdgePlayer)&&Et(window.EdgePlayer.Events)&&Et(window.EdgePlayer.Events.BENTO_AD_CLICKED)?void 0:Et(e)?void this.getPlayer(e).onAdClick():void _("onAdClick")},getPlayers:function(){return I},getPlayer:function(e){for(var t in I)if(t===e)return I[t];return Qe},addPlayer:function(t){return I[t.id]||(I[t.id]=new e.BentoApi(t)),I[t.id]},removePlayer:function(e){I[e.id]&&delete I[e.id],I[e]&&delete I[e]},removeAllPlayers:function(){if(I)for(var e in I)I[e]=Qe;I={}},createAd:function(e,t){var n={obj:e,adContainer:t};i(Fe,n)},init:function(){var t=e.String.queryStringToObject()[m];if(E=new e.Notifier,T=E.notify,p(),E.clearReceivers(),A=e.Queue({delegate:this}),e.Config&&(v=ze,this.onConfig(P[t]||{})),this.onNewPage(),e.MessageUtil.postMessage(e.MessageVars.ADMS_TRACKING_SERVER,""),e.exec&&e.exec.q){var n=this;e.exec.q.forEach(function(e){h.apply(n,e)}),e.exec=h}return this}}}().init()),sn.init()}(Bento);
